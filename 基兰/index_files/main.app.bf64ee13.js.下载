var rrxCommConfig={version:"v5.7.8.3",viewDomainFormat:"http://m.rrxiu.net/?v={guid}",wxMinDomain:"min.rrxiu.net"},appConfig={version:rrxCommConfig.version,libHost:"https://assets.rrxh5.cc/lib/",assetsHost:"https://assets.rrxh5.cc/",viewDomainFormat:rrxCommConfig.viewDomainFormat,viewHost:"http://view.rrxh5.cc/",pcViewHost:"https://rrx.cn/view-",serviceHost:"https://res.rrxiu.net/",interactServiceHost:"https://res2.rrxiu.net/",selfRedpackServiceHost:"https://res3.rrxiu.net/",dataHost:"https://data2.rrxh5.cc/",vipDataHost:"https://data2.rrxh5.cc/",vrHost:"https://view.rrxh5.cc/vr/",imageHost:"https://file2.rrxh5.cc/",imageOss:"https://file2.rrxh5.cc/",shareImageThumb:"@!200x200",llImageThumb:"@!view-loading-logo",cloudHost:"http://view.rrxh5.cc/data/",pluginDomainFormat:"http://assets.rrxh5.cc/plugin/{token}/{version}",clientHost:"http://rrx.cn/",webFontHost:"http://assets.rrxh5.cc/webfont/",rrxiuFontCssHost:"http://assets.rrxh5.cc/rrxiuFontCss/",weixinVoiceHost:"http://assets.rrxh5.cc/weixinVoice/",startTimeParseBgImgNew:"2016-11-16 08:30:00",webAppHost:"https://app.rrxiu.net",wxPayHost:"https://app.rrxiu.net/wxpay/pages/",appChannelHost:"https://app.zuohuodong.net",gameCategory:7,uploadHost:"https://uploading.rrx.cn/",enabledCloud:!0,animationEngine:"css",copyright:{content:"免费制作 → 人人秀",textAlign:"center",channelUrl:"https://mp.weixin.qq.com/s/mwchBzbgreIg9A848yPG_w",url:"https://rrx.cn/#waph",color:"#fff",bgColor:"#000",h5ClientUrl:"https://rrx.cn/#waph"},shareInfo:{color:"#fff",bgColor:"rgba(0, 0, 0, 0.9)",content:'<div class="d-share-arrow"></div>'},copyrightPage:{id:"copyrightPage",backgroundColor:"#E6E9EE",elementList:[{animationList:[],content:{css:"",fullscreen:!0,html:' <div class="copyright-content"> <div class="rrx-icon-close-layer"> </div> <div class="share-image"> <img src="{{shareImageUrl}}"> </div> <div class="share-title">{{shareTitle}}</div> <div class="view-more"> <a class="view-more-button" href="https://www.rrxiu.net" target="_blank">查看更多 >></a> </div> <a href="javascript:void(0)" class="show-rrxiu-report" >举报</a> <div class="bottomm-text" style="{{bgBottomColor}}"> <a class="make-rrxiu" href="https://mp.weixin.qq.com/s/VJegP100czu3jWsYn92UxQ" target="blank"> <span> 免费制作 → 人人秀 </span> </a> </div> <a href="javascript:void(0)" class="show-rrxiu-visit" style="color:{{visitColor}};display:{{showVisitCount}}">阅读:{{visitCount}}</a> </div>',scroll:!1},display:!0,height:1010,id:1e4,left:0,resize:0,style:"",top:0,type:"html",width:640,zIndex:1}]}};$(function(){function a(g){Cool.util.loadJs([g],function(g){try{if("1"!==wsiteInfo.mamfm&&"1"!==wsiteInfo.mamcg&&"1"!==wsiteInfo.mamsp&&"0"===wsiteInfo.wxp.newReview&&(coolData={result:403,msg:"审核不通过"}),""===coolData&&L===!1)a(H),L=!0;else{if(0===coolData.result){var i=Cool.util.getUrlParameterByName("from_code"),j=b(),k=c(),l=e();M=new WePlusLog(l,v,i,j,x,l,k);var m=f(coolData);!m.pageList||null!==m.pageList[0]&&void 0!==m.pageList[0]||(console.log(404),coolData.result=404,coolData.msg="活动不存在")}else 403===coolData.result&&(Cool.util.checkIsPcWithoutIframe()||(window.location.href="https://mp.weixin.qq.com/s?__biz=MzIzMzE1ODQ3Mw==&mid=100000690&idx=1&sn=af76434cc323cf7fc1ffbf2143abe0b8&chksm=6888a1945fff2882bcd93264c7019c926027614aca0910a61efc350dd3480f25b31b82d0edba#rd"));"1"===w&&(coolData.showVisitCount=!1);var n=d(),o=new RRXTachograph(e(),v,x);t=new CoolApp,t.createApp(n,$("#main"),coolData,Cool.util.checkIsPcWithoutIframe(),F,M,!1,"1"===x?!0:!1,"1"===w?!0:!1,{},A,o),console.timeEnd("loaddata"),h()}}catch(p){a(H),L=!0,console.log("load",p)}})}function b(){var a=Cool.util.getUrlParameterByName("qrc_code");return(""===a||null===a||void 0===a)&&(a=Cool.util.getUrlParameterByName("qrc")),$.trim(a)}function c(){var a=Cool.util.getUrlParameterByName("qrcty");return""===a||null===a||void 0===a?"":$.trim(a)}function d(){if(appConfig.dev)return appConfig.serviceHost;if(A)return appConfig.serviceHost;var a=appConfig.serviceHost;return rrxgpara.renb&&rrxgpara.rdn&&(a="https://"+rrxgpara.rdn+"/"),wsiteInfo.flhtps||wsiteInfo.httpsEnabled?a.indexOf("https://")>-1?a:a.replace("http://","https://"):a}function e(){if(appConfig.dev)return appConfig.interactServiceHost;if(A)return appConfig.interactServiceHost;var a=appConfig.interactServiceHost;return rrxgpara.renb&&rrxgpara.rdn&&(a="https://"+rrxgpara.rdn+"/"),void 0===a||null===a?"":wsiteInfo.flhtps||wsiteInfo.httpsEnabled?a.indexOf("https://")>-1?a:a.replace("http://","https://"):a}function f(a){if(a.hasOwnProperty("pageList")&&a.pageList.constructor===Object){var b=[];for(var c in a.pageList)b.push(a.pageList[c]);a.pageList=b}return a}function g(){if(appConfig.dev)return appConfig.cloudHost;if(A)return appConfig.cloudHost;if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return appConfig.cloudHost.replace("http://","https://");var a=appConfig.cloudHost,b=Cool.util.isSpecDomain(a);if(b){var c=Cool.util.getUrlSubDomain(a);c&&(a=a.replace("://"+c,"://ns"+c),a=a.replace("https://","http://"))}return a}function h(){var a=function(a){var b=a.data;a.origin;if(""!==b){try{b=JSON.parse(b)}catch(c){}var f=b.wsite||{};if("next"===b.filpType)t.getAllowFlip()?t.nextPage():console.log("not nextPage");else if("pre"===b.filpType)t.getAllowFlip()&&t.prePage(),console.log("not prePage");else if("hideloading"===b.filpType)l();else if("loading"===b.filpType)m(),k(),t=new CoolApp,$("#main").find(".pt-loadingpage").show(),$("#main").find(".pt-loadingpage .loading-logo img").attr("src",t.getApiHelper().handleImgUrl(f.llImageUrl)),$("#main").find(".pt-loadingpage .loading-line").css("border-color",f.llColor),$("#main").find(".pt-loadingpage .loading-line .line").css("background-color",f.llColor),$("#main").find(".pt-loadingpage .percent").css("color",f.llColor),f.showCustomLoadingLogo?$("#main").find(".pt-loadingpage .loading-welcome").hide():$("#main").find(".pt-loadingpage .loading-welcome").show();else if("copyright"===b.filpType||"setting"===b.filpType){l(),console.log("------------ coolData ",coolData);var g=$.extend(coolData,{},!0),h=b.wsite,j=b.wsite.copyright;if(!i(j.from)){if("customer"==j.from){var n='<a href="'+j.url+'" target="_blank" style="color:'+j.color+';">'+j.content+"</a>";$("#main").find(".copyright").find(".show-copyright").html(n),$("#main").find(".copyright").css({backgroundColor:j.bgColor})}return}m();for(var o in h)g[o]=h[o];void 0!==j&&(g.copyright=j),g.showVisitCount=!1,t=new CoolApp;var p=g.pageList[g.pageList.length-1].id;$("#main").find(".pt-inner").html("");var q={copyrightFrom:g.copyright.from},r=new RRXTachograph(e(),v,x);t.createApp(d(),$("#main"),g,u,F,M,!1,!1,!0,q,A,r),t.getApiHelper().setStartPage(p)}else"hidecopyright"===b.filpType&&m()}};"undefined"!=typeof window.addEventListener?window.addEventListener("message",a,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onmessage",a)}function i(a){if("rrxiu"==a){if(console.log($("#main").find(".page_copyrightPage").css("display")),"none"!=$("#main").find(".page_copyrightPage").css("display"))return!1}else if("customer"==a&&"none"!=$("#main").find(".copyright").css("display"))return!1;return!0}function j(){var a=$("#main").find(".pt-loadingpage");return a&&a.length>0}function k(){if(!j()){var a='<div class="pt-loadingpage page_loadingpage"><div class="default-loadingpage"><div class="loading-logo"><img src="https://file.rrxh5.cc/loading_logo.png"></div><div class="loading-line" style="border-color:#25a7fb"><div class="line" style="width:100%;background-color:#25a7fb"></div></div><div class="percent" style="color:#25a7fb">100%</div></div><div class="loading-welcome">欢迎制作人人秀</div></div>';$("#main").find(".pt-inner").append(a)}}function l(){$("#main").find(".pt-loadingpage").hide()}function m(){$(".pt-wrapper").removeClass("blur-container"),$("#main").find(".page_copyrightPage").hide(),$("#main").find(".copyright").css({display:"none",opacity:0})}function n(){for(var a=window.location.href,b=a,c=!1,d=0;d<B.length;d++)a.indexOf(B[d]+"=")>-1&&(c=!0,b=Cool.util.removeUrlPara(b,B[d]));c&&window.history.replaceState({},0,b),p=b,window.h5UrlNoSpecParam=p}function o(){if(appConfig.dev)return appConfig.libHost;if(A)return appConfig.libHost;if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return appConfig.libHost.replace("http://","https://");var a=appConfig.libHost,b=Cool.util.isSpecDomain(a);if(b){var c=Cool.util.getUrlSubDomain(a);c&&-1===a.indexOf("://ns")&&(a=a.replace("://"+c,"://ns"+c),a=a.replace("https://","http://"))}return a}console.time("loaddata");var p=window.location.href.split("#")[0],q="";wsiteInfo&&(q=wsiteInfo.version);var r=o();"undefined"!=typeof AmdLoader&&AmdLoader.config({urlArgs:"?v="+appConfig.version+q,baseUrl:r,paths:{"rrxiu/pluginUtils":r+"rrxiu/pluginUtils.js"}});var s=Cool.util.getUrlParameterByName("pushGuid");s&&window.rrxiuXst&&window.rrxiuXst.init({wxauth:wsiteInfo.authBehind,owner:wsiteInfo.owner,wsiteTitle:wsiteInfo.loading.title,test:appConfig.testDev},{nickName:wsiteInfo.wxauthedInfo.nickname,headImageUrl:wsiteInfo.wxauthedInfo.headimgurl,openId:wsiteInfo.wxauthedInfo.oid});var t,u=Cool.util.checkIsPc(),v=wsiteInfo.wsiteGuid,w=Cool.util.getUrlParameterByName("setting"),x=Cool.util.getUrlParameterByName("preview"),y=Cool.util.getUrlParameterByName("tpl"),z=Cool.util.getUrlParameterByName("mwa"),A=window.rrxWxMin="1"===z||"2"===z?!0:!1;(window.location.href.indexOf(rrxCommConfig.wxMinDomain)>-1||2===wsiteInfo.rrxfp)&&!A&&(window.location.href=appConfig.viewDomainFormat.replace("{guid}",wsiteInfo.wsiteGuid)),window.rrxDanmuJump="danmu"===Cool.util.getUrlParameterByName("clickType"),window.rrxBrowserParams={};for(var B=["orderNo","checkpay","stid","eid","clickType","clickValue"],C=0;C<B.length;C++)window.rrxBrowserParams[B[C]]=Cool.util.getUrlParameterByName(B[C])||"";if(window.startPageId=Cool.util.getUrlParameterByName("stid"),void 0===window.startPageId||null===window.startPageId||""===window.startPageId){var D="rfstid"+v,E=Cool.cookie.get(D);E&&(window.startPageId=E,Cool.cookie.clear(D))}n(),u||document.addEventListener("touchmove",function(a){a.preventDefault()},!1);var F=Cool.util.checkIsWeixin(),G="",H=e()+"view/data?id="+v+"&preview="+x;"1"===wsiteInfo.mamfm&&(H+="&mamfm=1"),"1"===wsiteInfo.mamcg&&(H+="&mamcg=1"),"1"===wsiteInfo.mamsp&&(H+="&mamsp=1",H=H+"&mamsphis="+wsiteInfo.mamsphis);var I=g()+v+".js",J=wsiteInfo.ver;if(y)H=H+"&tpl="+y,I=g()+"tpl_"+v+".js?v="+J,a(appConfig.enabledCloud?I:H);else{I=""===G?I+"?v="+J:I+"?timestamp="+G+"&v="+J;var K=appConfig.enabledCloud&&1!==parseInt(x)&&"1"!==wsiteInfo.mamfm&&"1"!==wsiteInfo.mamcg&&"1"!==wsiteInfo.mamsp;a(K?I:H)}var L=!appConfig.enabledCloud,M=null});var CssAnimationEngine=function(){function a(a,b){a.removeClass(b),d(a)}function b(a,b){var c=["fadeIn","fadeInDown","fadeInUp","fadeInLeft","fadeInRight","fadeInRightUp","fadeInLeftUp","fadeInRightDown","fadeInLeftDown","bounceIn","bounceInDown","bounceInUp","bounceInLeft","bounceInRight","bounceInRightUp","bounceInLeftUp","bounceInRightDown","bounceInLeftDown","rotateIn","rotateInRight","rotateInLeft","rotateInLeftDown","rotateInLeftUp","rotateInRightDown","rotateInRightUp","zoomIn","bigIn","moveInDown","moveInUp","moveInLeft","moveInRight","flipInX","flipInY","flipInHorizontal","flip3d","lightSpeedInRight","lightSpeedInLeft","boingIn","perspectiveLeftRetourn","perspectiveRightRetourn","perspectiveDownRetourn","perspectiveUpRetourn","stretchRight","stretchLeft","pullUp","pullDown"];c.indexOf(b)>-1&&a.css("display","block")}function c(a,b){var c=["fadeIn","fadeInDown","fadeInUp","fadeInLeft","fadeInRight","fadeInRightUp","fadeInLeftUp","fadeInRightDown","fadeInLeftDown","bounceIn","bounceInDown","bounceInUp","bounceInLeft","bounceInRight","bounceInRightUp","bounceInLeftUp","bounceInRightDown","bounceInLeftDown","rotateIn","rotateInRight","rotateInLeft","rotateInLeftDown","rotateInLeftUp","rotateInRightDown","rotateInRightUp","zoomIn","bigIn","moveInDown","moveInUp","moveInLeft","moveInRight","flipInX","flipInY","flipInHorizontal","flip3d","lightSpeedInRight","lightSpeedInLeft","boingIn","perspectiveLeftRetourn","perspectiveRightRetourn","perspectiveDownRetourn","perspectiveUpRetourn","stretchRight","stretchLeft","pullUp","pullDown"];c.indexOf(b)>-1&&a.css("display","none")}function d(a){a.css({animation:"","animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),a.css({"-webkit-animation":"","-webkit-animation-name":"","-webkit-animation-duration":"","-webkit-animation-timing-function":"","-webkit-animation-delay":"","-webkit-animation-iteration-count":""})}function e(a,b,c,d,e,f){return a+"s "+b+" "+c+"s "+d+" "+e+" "+f}function f(f,g,h,i,j,k,l,m){if(""!==g){(void 0===h||null===h||isNaN(parseFloat(h)))&&(h=0),(void 0===i||null===i||isNaN(parseFloat(i)))&&(i=1),0===i&&(i=.1),(void 0===j||null===j||isNaN(parseFloat(j)))&&(j=0),(void 0===k||null===k||isNaN(parseFloat(k)))&&(k=0),l=l||!1;var n=f.attr("class");c(f,g),f.removeClass(g),d(f);var o=0;l&&(o=h);var p="both",q="ease",r=1;setTimeout(function(){if(b(f,g),m===!0)f.addClass(g);else{if(n){var c=n.split(" "),d=0;if($.each(c,function(a,b){""!==$.trim(b)&&(d+=1)}),d>2){var k=c[0]+" "+c[1];f.attr("class",k)}}f.addClass(g)}-1==j?(q="linear",r="infinite"):r=0===j||"0"===j?1:j,m&&"infinite"==r&&(r=1),l!==!1&&(h=0);var o=e(i,q,h,r,p,g);f.css("-webkit-animation",o),f.css("animation",o),f.css("-webkit-animation-name",o+" !important"),f.css("animation-name",o+" !important"),m===!0&&f.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(f,g)})},o)}}function g(f,g,h){function i(f,g,h){if(j<g.length){var k=g[j],l=k.name,m=k.delay,n=k.duration,o=k.repeat,p="both",q="ease",r=1;-1==o?(q="linear",r="infinite"):r=0===o?1:o,h&&"infinite"==r&&(r=1),c(f,l),f.removeClass(l),d(f),b(f,l),f.addClass(l);var s=e(n,q,m,r,p,l);f.css("-webkit-animation",s),f.css("animation",s),f.css("-webkit-animation-name",s+" !important"),f.css("animation-name",s+" !important"),f.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){h&&a(f,l),j++,i(f,g,h)})}}var j=0;i(f,g,h)}function h(a,b,c,d,e,f,g,h,i){var j=k(a);c=1e3*parseFloat(c),d=1e3*parseFloat(d),i=i||0;var l=a.find(".textanimation").filter(function(){var a=$(this).text().trim();return""!==a});l.addClass(b);var m=l.length;1e3===d&&m>30&&(d*=Math.ceil(m/30)),d/=m,l.each(function(a,b){var e=0;"0"==i?e=c+a*d:"1"==i?e=c+(m-a-1)*d:"2"==i&&(e=c+parseInt(Math.random()*m)*d),$(this).removeClass("textOut"),$(b).css({webkitAnimationDelay:e+"ms",animationDelay:e+"ms",animationDuration:d+"ms",webkitAnimationDuration:d+"ms"})});var n="webkitAnimationEnd mozAnimationEnd MSAnimationEnd animationend";l.unbind(n).bind(n,function(c){$(this).css({webkitAnimationDelay:"",animationDelay:"",animationDuration:"",webkitAnimationDuration:""}).removeClass(b),h?a.find(".element-last").empty().html(j.dom).attr("style",j.style):b.indexOf("Out")>=0&&$(this).addClass("textOut")})}function i(a){var b={};if(!a)return b;for(var c=a.split(";"),d=0;d<c.length;d++){var e=$.trim(c[d]);if(""!==e){var f=e.split(":");b[f[0]]=f[1]}}return b}function j(a,b){function c(a,b){return a.replace(/./g,function(a){return"<span class='textanimation' "+b+">"+(" "==a?"&nbsp;":a)+"</span>"})}for(var d=0;d<a.length;d++){var e=a[d];if("textanimation"!=e.className)if(e.nodeType==Node.TEXT_NODE){var f=e.nodeValue,g=$(e).parent(),h=i(g.attr("style"));h["background-color"]&&(b+="background-color:"+h["background-color"]+";",h["background-color"]=""),h["text-decoration"]&&(b+="text-decoration:"+h["text-decoration"]+";",h["text-decoration"]=""),h["text-decoration-line"]&&(b+="text-decoration:"+h["text-decoration-line"]+";",h["text-decoration-line"]="");var k="";b&&(k='style="'+b+'"',g.css(h)),f=c(f,k),$(f).insertAfter($(e)),$(e).remove()}else j(e.childNodes,b)}}function k(a){var b=a.find(".element-last"),c=b.get(0).innerHTML,d=b.attr("style"),e="";return j(b.get(0).childNodes,e),{dom:c,style:d}}return{animation:f,animationList:g,textAnimation:h}}();!function(){function a(a,b){a.constructor===String&&(a=[a]);var d="";wsiteInfo&&(d=wsiteInfo.version||"");for(var e=0;e<a.length;e++)-1===a[e].indexOf("?")&&(a[e]=a[e]+"?v="+appConfig.version+d);var f=new c(a,b);f.load()}function b(){e=[]}function c(a,b){this.newModuleList=a,this.allCount=a.length,this.tempCount=0,this.callback=b}function d(a,b){this.moduleName=a,this.callback=b}window.require=a,window.clearRequieModuleList=b;var e=[];c.prototype={load:function(){for(var a=this,b=function(b){var c=new d(b,function(){a.tempCount++,a.tempCount===a.allCount&&void 0!==a.callback&&a.callback()});c.load()},c=0;c<a.allCount;c++)b(a.newModuleList[c])}},d.prototype={load:function(){var a=this;a.moduleName;if(a.isLoad()){var b=a.getModuleInfo();if(b.isLoad)a.callback();else{var c=b.callback;b.callback=function(){c(),a.callback()}}}else{var d=document.createElement("script");d.src=a.moduleName,d.type="text/javascript",document.body.appendChild(d);var f={name:a.moduleName,isLoad:!1,callback:function(){a.callback()}};e.push(f),d.onload=function(){f.callback(),f.isLoad=!0},d.onerror=function(){f.callback(),f.isLoad=!0}}},isLoad:function(){return null===this.getModuleInfo()?!1:!0},getModuleInfo:function(){for(var a=0;a<e.length;a++)if(this.moduleName==e[a].name)return e[a];return null}}}(window),window.UseLongPagePlugins=["集字助力","砍价","分销","拼团","助力"],window.UseAmdLoaderPlugin=function(a,b,c,d){function e(a){return"3"===a||"4"===a}var f=["砍价测试10","拼团测试10","助力测试10","分销测试10","砍价50","拼团20","助力20","分销20","演示组件10","演示活动20","卡片10","照片投票12","秒杀10","商品秒杀10","定时抽奖10","拼团抽奖10","集赞送礼10","助力宝箱10","送礼10","7天打卡10","助力10","PK答题10","积分商城10","日历签到10","闯关答题10","任务宝10","照片投票13","优惠券10","访问数10","集字助力10","周期签到10","分销10","优惠券10","视频答题10","文字粒子11","粒子开屏11","特效按钮10","秒杀长页版10","送礼长页版10","照片投票14","活动报名10","节日头像10","拆礼盒10","答题13","答题14","贺卡11"];return f.indexOf(a+b)>-1?!0:e(c)&&b>10?!0:d&&d.useAmdLoader?!0:!1},window.wsiteInfo||(window.wsiteInfo={});var Cool={share:{title:"",desc:"",image:"",setTitle:function(a){this.title=a},setDesc:function(a){this.desc=a},setImage:function(a){this.image=a}},util:{getUrlParameterByName:function(a){if(!window.location.search)return"";for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a&&e[1])return decodeURIComponent(e[1])}return""},getUrlName:function(){if(!(appConfig.viewDomainFormat.indexOf("://{guid}")>-1)){regex=new RegExp(".*/([^&#?/]*)"),results=regex.exec(location);var a="";null!==results&&(a=decodeURIComponent(results[1].replace(/\+/g," ")));var b="",c=a.split("-");return b=2==c.length?c[1]:""}return regex=new RegExp(".*//([^&#?.]*)"),results=regex.exec(location),(null===results||"view"===results[1])&&(regex=new RegExp(".*/([^&#?/]*)"),results=regex.exec(location)),null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))},getUseSslDomain:function(){return["rrxh5.cc","starlord.cc"]},isSpecDomain:function(a){var b=!1;if(a)for(var c=this.getUseSslDomain(),d=0;d<c.length;d++)if(a.indexOf(c[d])>-1){b=!0;break}return b},getUrlParaObject:function(a){var b=a.replace(/^\s+/,"").replace(/\s+$/,"").match(/([^?#]*)(#.*)?$/);if(!b)return{};for(var c=b[1],d=c.split("&"),e={},f=0,g=d.length;g>f;f++){var h=d[f];if((h=h.split("="))[0]){var i=decodeURIComponent(h.shift()),j=h.length>1?h.join("="):h[0];void 0!==j&&(j=decodeURIComponent(j)),i in e?(e[i].constructor!=Array&&(e[i]=[e[i]]),e[i].push(j)):e[i]=j}}return e},appendUrlPara:function(a,b){if(!b)return a;var c=a.indexOf("?");if(-1===c)return a+"?"+$.param(b);var d=this.getUrlParaObject(a),e=a.substr(0,c);return $.each(b,function(a,b){d[a]=b}),e+"?"+$.param(d)},removeUrlPara:function(a,b){var c=a.lastIndexOf("?"),d=a;if(c>-1){d=a.substr(0,c);var e=this.getUrlParaObject(a),f=[];jQuery.each(e,function(a,c){void 0!==a&&b!==a&&f.push(a+"="+c)});var g=f.join("&");""!==g&&(d+="?"+g)}return d},removeUrlParaMutil:function(a,b){if(void 0===b||null===b||0===b.length)return a;var c=a.lastIndexOf("?"),d=a;if(c>-1){d=a.substr(0,c);var e=this.getUrlParaObject(a),f=[];jQuery.each(e,function(a,c){void 0!==a&&-1===b.indexOf(a)&&f.push(a+"="+c)});var g=f.join("&");""!==g&&(d+="?"+g)}return d},getUrlSubDomain:function(a){if(void 0===a||null===a)return"";var b=a.indexOf("://");if(-1===b)return"";var c=a.substring(0,b+3);a=a.replace(c,"");var d=a.split(".");return d&&d.length>2?d[0]:""},loadJs:function(a,b){if(appConfig.dev)require(a,b);else{var c=[];a.constructor===String&&(a=[a]),wsiteInfo.flhtps||wsiteInfo.httpsEnabled?($.each(a,function(a,b){var d=b.replace("http://","https://");c.push(d)}),require(c,b)):($.each(a,function(a,b){var d=b;d=b.replace("https://","http://"),c.push(d)}),require(c,b))}},loadJsSimple:function(a,b){require(a,b)},loadCss:function(a){var b=this;if(appConfig.dev);else if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)a=a.replace("http://","https://");else{a=a.replace("https://","http://");var c=b.isSpecDomain(a);if(c){var d=b.getUrlSubDomain(a);d&&-1===a.indexOf("://ns")&&(a=a.replace("://"+d,"://ns"+d))}}var e=appConfig.version;wsiteInfo&&wsiteInfo.version&&(e+=wsiteInfo.version),a=a+"?v="+e;for(var f=document.getElementsByTagName("head")[0],g=$(f).find("link"),h=0;h<g.length;h++)if(g[h].href===a)return;var i=document.createElement("link");i.href=a,i.rel="stylesheet",f.appendChild(i)},loadCssByStyle:function(a){var b=document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",c.innerHTML=a,b.appendChild(c)},checkIsPc:function(){var a=this.getUrlParameterByName("iframe");if("1"===a)return!1;var b={win:!1,mac:!1,xll:!1},c=navigator.platform;return b.win=0===c.indexOf("Win"),b.mac=0===c.indexOf("Mac"),b.x11="X11"==c||0===c.indexOf("Linux"),b.win||b.mac||b.xll?!0:!1},checkIsPcWithoutIframe:function(){var a={win:!1,mac:!1,xll:!1},b=navigator.platform;return a.win=0===b.indexOf("Win"),a.mac=0===b.indexOf("Mac"),a.x11="X11"==b||0===b.indexOf("Linux"),a.win||a.mac||a.xll?!0:!1},checkIsWeixin:function(){var a=navigator.userAgent.toLowerCase();return"micromessenger"==a.match(/MicroMessenger/i)?!0:!1},checkIsAndroid:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("android")>-1?!0:!1},checkIsIphone:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("iphone")>-1?!0:!1},checkIsMobile:function(){var a=navigator.userAgent.toLowerCase();return/android|webos|iemobile|iphone|iPad|blackberry/i.test(a)?!0:!1},isOrientationHorizontal:function(){return 90===window.orientation||-90===window.orientation},isOrientationVertical:function(){return 180===window.orientation||0===window.orientation},removeHostName:function(a){if(void 0===a||null===a)return"";var b=a.indexOf("://");if(-1===b)return a;var c=a.substring(0,b+3);a=a.replace(c,"");var d=a.indexOf("/");if(-1===d)return a;var e=a.substr(d+1,a.length);return e},currentIsWxMinDomain:function(){return window.rrxCommConfig&&window.rrxCommConfig.wxMinDomain&&window.location.href.indexOf(window.rrxCommConfig.wxMinDomain)>-1?!0:!1},hostStamp:function(a){if(a){var b=(window.location.origin,window.location.origin+appConfig.version);-1===a.indexOf("data:image")&&(a.indexOf("http://")>-1||a.indexOf("https://")>-1)&&(a=a.indexOf("?")>-1?a+"&host="+b:a+"?host="+b)}return a},loadImage:function(a,b,c){var d=this;try{if(appConfig.dev);else if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)a=a.replace("http://","https://");else{a=a.replace("https://","http://");var e=d.isSpecDomain(a);if(e){var f=d.getUrlSubDomain(a);f&&-1===a.indexOf("://ns")&&(a=a.replace("://"+f,"://ns"+f))}}c=void 0===c||null===c?!0:c;var g=new Image;if(-1===a.indexOf("data:image")&&(g.crossOrigin="Anonymous"),g.src=c?Cool.util.hostStamp(a):a,g.complete)return void(void 0!==b&&b(g));g.onload=function(){void 0!==b&&b(g)},g.onerror=function(a){console.log("error",a),void 0!==b&&b(null)}}catch(h){}},parseJson:function(a){var b={};return a.constructor===String?""!==a&&(b=JSON.parse(a)):b=a,b},getPluginDomain:function(a,b){var c=this,d=appConfig.pluginDomainFormat.replace("{token}",a).replace("{version}",b)+"/";if(appConfig.dev)return console.log(d),d;if(c.currentIsWxMinDomain())return d;var e=c.removeHostName(d),f="/"+e;if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return d=wsiteInfo.assetscdn?"https://"+wsiteInfo.assetscdn+f:appConfig.assetsHost+e;d=wsiteInfo.assetscdn?"http://"+wsiteInfo.assetscdn+f:appConfig.assetsHost+e;var g=c.isSpecDomain(d);if(g){var h=c.getUrlSubDomain(d);h&&-1===d.indexOf("://ns")&&(d=d.replace("://"+h,"://ns"+h))}return d},parsePluginTheme:function(a,b,c){function d(a,d){var e="";if(d){if(e=g(d),b&&(e+="?host="+b),!c){var f=new Image;b&&(f.crossOrigin="Anonymous"),f.src=e}j.push({id:a,src:e})}n[a]=e}function e(a,d){var e="";if(d){if(q.src=h(q.src),e=g(d),b&&(e+="?host="+b),!c){var f=new Audio;b&&(f.crossOrigin="Anonymous"),f.src=e,f.preload="auto"}l.push({id:a,src:e})}n[a]=e}function f(a,b){var c=a.indexOf("?");return c>-1?a:a.indexOf("://file")>-1||a.indexOf("://rrxfile")>-1?a.indexOf("@")>-1?a:a+b:a}function g(a){var b="@!user_image_700x1";return location.href.indexOf("https://")>-1?a.indexOf("://assets")>-1?a=wsiteInfo&&wsiteInfo.assetsHost?wsiteInfo.assetsHost+i(a):appConfig.assetsHost+i(a):a.indexOf("://image")>-1?(a=appConfig.imageHost+i(a),a=f(a,b)):(a.indexOf("://file")>-1||a.indexOf("://rrxfile")>-1)&&(a=appConfig.imageHost+i(a),a=f(a,b)):(a.indexOf("://file")>-1||a.indexOf("://rrxfile")>-1)&&(a=appConfig.imageHost+i(a),a=f(a,b)),a}function h(a){var b=a.indexOf("://");return-1===b?"https://data.rrxh5.cc/"+a:a}function i(a){if(void 0===a||null===a)return"";var b=a.indexOf("://");if(-1===b)return a;var c=a.substring(0,b+3);a=a.replace(c,"");var d=a.indexOf("/");if(-1===d)return a;var e=a.substr(d+1,a.length);return e}if(!a)return null;void 0===a.length&&(a=[a]),b&&(b+="d3"+(new Date).getDay(),wsiteInfo&&wsiteInfo.version&&(b+=wsiteInfo.version));for(var j=[],k=[],l=[],m=0;m<a.length;m++){var n=[],o=a[m];if(!o.list)return;for(var p=0;p<o.list.length;p++){var q=o.list[p];switch(q.type){case"text":if(q.content&&0!==q.content.length){for(var r=[],s=0;s<q.content.length;s++){var t=q.content[s];r[t.key]=t}n[q.key]={bgcolor:q.backgroundColor,content:r},q.color&&(n[q.key].color=q.color)}else n[q.key]=q.backgroundColor;break;case"image":d(q.key,q.src);break;case"audio":e(q.key,q.src);break;case"group":if(q.hasOwnProperty("content"))for(var u=0;u<q.content.length;u++){var v=q.content[u];switch(v.type){case"img":d(v.key,v.value);break;case"audio":e(v.key,v.value);break;case"input":n[q.key]||(n[q.key]={}),n[q.key][v.key]=v;break;case"color":n[q.key]||(n[q.key]={}),n[q.key][v.key]=v.value}}}}k[o.value]=n}return{dict:k,imageManifest:j,audioManifest:l}},getBrowserUrl:function(arg,arg_val,sl){var url=sl||window.location.href.split("#")[0],pattern=arg+"=([^&]*)",replaceText=arg+"="+arg_val,newUrl="";if(url.match(pattern)){var tmp="/("+arg+"=)([^&]*)/gi";tmp=url.replace(eval(tmp),replaceText),newUrl=tmp}else newUrl=url.match("[?]")?url+"&"+replaceText:url+"?"+replaceText;return newUrl},getImageThumb:function(a,b,c){var d=["kldieh","cg4pzm"];if(wsiteInfo&&wsiteInfo.wsiteGuid&&d.indexOf(wsiteInfo.wsiteGuid)>-1)return"@!convert_webp_png";var e="@!user_image_";c=c||"",b=b||"";if(c&&c.indexOf(".gif")>-1)return"";if("100%"===a)return e+"700x1";if(a=parseInt(a,10),0>=a||isNaN(a))return e+"700x1";var f=Math.ceil(a/100);return 10>=f?e+100*f+"x1":e+"1000x1"},getNowTimeString:function(){var a=new Date;return this.formateDate(a,"dayfull")},formateDate:function(a,b){if(!a)return"";a.constructor===String&&(a=new Date(a)),b=b||"day";var c="-",d=":",e=a.getMonth()+1,f=a.getDate();e>=1&&9>=e&&(e="0"+e),f>=0&&9>=f&&(f="0"+f);var g="";return g="day"===b?a.getFullYear()+c+e+c+f:a.getFullYear()+c+e+c+f+" "+a.getHours()+d+date.getMinutes()+d+a.getSeconds()},lightenDarkenColor:function(a,b){if(!a)return null;if(a=a.toLowerCase(),a.indexOf("rgb")>-1){var c=a.replace("rgb","").replace("rgba",""),d=c.indexOf("("),e=c.indexOf(")"),f=$.trim(c.substring(d+1,e)),g=f.split(","),h=parseInt(g[0]),i=parseInt(g[1]),j=parseInt(g[2]);a="#"+((1<<24)+(h<<16)+(i<<8)+j).toString(16).slice(1)}var k=!1;"#"==a[0]&&(a=a.slice(1),k=!0);var l=parseInt(a,16),m=(l>>16)+b;m>255?m=255:0>m&&(m=0);var n=(l>>8&255)+b;n>255?n=255:0>n&&(n=0);var o=(255&l)+b;return o>255?o=255:0>o&&(o=0),(k?"#":"")+(o|n<<8|m<<16).toString(16)},isNullOrUndef:function(a){return void 0===a?!0:null===a?!0:"undefined"===a?!0:"null"===a?!0:""===a?!0:!1}},storageUtil:{storage:window.sessionStorage,getMd5Key:function(a){return hex_md5(window.location.host+a)},set:function(a,b){try{this.storage&&this.storage.setItem(this.getMd5Key(a),b)}catch(c){this.clear()}},get:function(a){return this.storage?this.storage.getItem(this.getMd5Key(a)):null},clear:function(){this.storage&&this.storage.clear()},remove:function(a){this.storage&&this.storage.removeItem(this.getMd5Key(a))},isHave:function(a){if(this.storage){for(var b=0;b<this.storage.length;b++)if(this.storage.key(b)===this.getMd5Key(a))return!0;return!1}return!1}},localStorageUtil:{storage:window.localStorage,getMd5Key:function(a){return hex_md5(window.location.host+a)},set:function(a,b){try{this.storage&&this.storage.setItem(this.getMd5Key(a),b)}catch(c){this.clear()}},get:function(a){return this.storage?this.storage.getItem(this.getMd5Key(a)):null},clear:function(){this.storage&&this.storage.clear()},remove:function(a){this.storage&&this.storage.removeItem(this.getMd5Key(a))},isHave:function(a){if(this.storage){for(var b=0;b<this.storage.length;b++)if(this.storage.key(b)===this.getMd5Key(a))return!0;return!1}return!1}},cookie:{get:function(a){if(document.cookie.length>0){var b=document.cookie.indexOf(a+"=");if(-1!==b){b=b+a.length+1;var c=document.cookie.indexOf(";",b);return-1===c&&(c=document.cookie.length),unescape(document.cookie.substring(b,c))}}return""},clear:function(a,b){var c=new Date;c.setTime(c.getTime()-1e4),void 0!==b&&null!==b?document.cookie=a+"=a; expires="+c.toGMTString()+";path=/;domain="+b:document.cookie=a+"=a; expires="+c.toGMTString()+";path=/"},set:function(a,b,c){var d=new Date;d.setTime(d.getTime()+864e5),void 0!==c&&null!==c?document.cookie=a+"="+b+";expires="+d.toGMTString()+";path=/;domain="+c:document.cookie=a+"="+b+";expires="+d.toGMTString()+";path=/"},setWithoutTime:function(a,b,c,d){(void 0===c||null===c)&&(c=3650);var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),void 0!==d&&null!==d?document.cookie=a+"="+b+";expires="+e.toGMTString()+";path=/;domain="+d:document.cookie=a+"="+b+";expires="+e.toGMTString()+";path=/"},setWithSecond:function(a,b,c,d){var e=new Date;e.setTime(e.getTime()+1e3*c),void 0!==d&&null!==d?document.cookie=a+"="+b+";expires="+e.toGMTString()+";path=/;domain="+d:document.cookie=a+"="+b+";expires="+e.toGMTString()+";path=/"}}};window.rrxOpenWsiteTime=(new Date).getTime(),window.userReadDepth=1,window.rrxdebug=!1,window.CoolApp={},window.myPoints={},window.qqMapCallback=function(){window.isLoadQQMap=!0},function(){CoolApp=function(_appConfig){function boolenIsNull(a){return""===a||null===a||"null"===a||"0"===a||0===a||void 0===a||"undefined"===a?!0:!1}function convertToBool(a){if(boolenIsNull(a))return!1;if(a.constructor!=String)return a;switch(a.toLowerCase()){case"1":case"true":case"TRUE":case"on":case"yes":case"y":return!0;default:return!1}}function isTestGuid(){return"yymvdm"==_dataObj.guid}function wxinit(a){if(Cool.util.checkIsWeixin()===!1)return setTimeout(handleShareUrl,2e3),!1;"miniprogram"===window.__wxjs_environment&&handleShareUrl();var b=a;setTimeout(function(){getWxJsSign(b,"",_dataObj.guid)},500)}function getImageHost(){if(appConfig.dev)return appConfig.imageHost;if(_isWxMin)return appConfig.imageHost;if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return appConfig.imageHost.replace("http://","https://");var a=appConfig.imageHost,b=Cool.util.isSpecDomain(a);if(b){var c=Cool.util.getUrlSubDomain(a);c&&-1===a.indexOf("://ns")&&(a=a.replace("://"+c,"://ns"+c),a=a.replace("https://","http://"))}return a}function getWxJsSign(a,b,c,d){if(console.log("raw url try",a,getWxJsSignTry),getWxJsSignTry+=1,!(getWxJsSignTry>2)){
var e=getServiceHostIfHttps();$.get(e+"wechat/getWxJsSign",{url:a,error:b,wsiteGuid:c},function(b){if(console.info("getWxJsSign ret",b,a),0===b.result){var e="2rq4nw"===c?!0:!1;e&&alert(b.sign.appId),wx.config({debug:e,appId:b.sign.appId,timestamp:b.sign.timestamp,nonceStr:b.sign.nonceStr,signature:b.sign.signature,jsApiList:["checkJsApi","getLocation","openLocation","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","translateVoice","getNetworkType","chooseImage","addCard","hideMenuItems"],openTagList:["wx-open-launch-weapp"]}),wx.ready(function(){checkWxMinWhenWxReady(),console.info("wx.ready"),registerShareNickName(),_isWxMin?console.log("==当前是否微信小程序环境=="):setWxShareInfo(_dataObj.showShareCount?d:d),(_isPreview||getForbidShare()||"1"===wsiteInfo.mamfm||7==wsiteInfo.wsiteType)&&wx.hideOptionMenu(),console.info("wx.ready end",a)}),wx.error(function(b){console.error("wx.error",a,b);var e=JSON.stringify(b);if(e=encodeURIComponent(e),wsiteInfo&&wsiteInfo.authBehind&&wsiteInfo.wxauthedInfo&&(e+=wsiteInfo.wxauthedInfo.nickname),"vqlv20"===c){var f=Cool.util.checkIsIphone()?"iphone":"android";rrxtrace(e+"||eq:"+f+"||originurl:"+encodeURIComponent(getOriginUrl())+"||url:"+encodeURIComponent(a))}var g=formatShareUrl(getOriginUrl());console.log("==失败了使用原始地址==",g),getWxJsSign(g,e,c,d)})}else handleShareUrl()},"json").fail(function(a){console.error("getWxJsSign fail",a),handleShareUrl()}).always(function(a){console.info("getWxJsSign always",a)})}}function listenPopStateEvent(){}function pushStateForReadDepth(){if(shareUrl&&_log){var a=shareUrl,b=Cool.cookie.get(_log.getVisitFirstLogKey());""!==b&&(shareUrl=Cool.util.getBrowserUrl("from_code",b,shareUrl),a=shareUrl),!Cool.util.checkIsAndroid(),setTimeout(function(){listenPopStateEvent()},500)}}function handleShareUrl(){if(shareUrl){if(_log){var a=Cool.cookie.get(_log.getVisitFirstLogKey());""!==a&&(shareUrl=Cool.util.getBrowserUrl("from_code",a,shareUrl))}wsiteInfo&&wsiteInfo.shareLink&&(shareUrl=Cool.util.getBrowserUrl("rwslk",1,shareUrl),console.log(shareUrl)),shareUrl=shareUrl.replace("mode=official_accounts","mode="),window.rrxDanmuJump?(shareUrl=Cool.util.removeUrlParaMutil(shareUrl,["rrxsrc","uid","clickType","clickValue"]),console.log(shareUrl)):shareUrl=Cool.util.removeUrlParaMutil(shareUrl,["rrxsrc","uid","clickType","clickValue"]),window.hasOwnProperty("_rrxiu_pushsale")&&(shareUrl=window._rrxiu_pushsale.updateShareUrl(shareUrl),console.log("_rrxiu_pushsale_updateshareurl",shareUrl))}}function getWxOpenIdByShare(){var a="";return wsiteInfo&&wsiteInfo.authBehind&&wsiteInfo.wxauthedInfo&&wsiteInfo.wxp&&wsiteInfo.wxp.canUserShare&&(a=wsiteInfo.wxauthedInfo.id),a}function showDialogPageByShareCallback(){if(0===_dataObj.result){console.log("showDialogPageByShareCallback");var a=_dataObj.dialogList;if(void 0!==a)for(var b=0;b<a.length;b++)(a[b].openShareShow===!0||"true"===a[b].openShareShow)&&dialogOpen(currentPageId,a[b].id)}}function setWxShareInfoWithUrl(){getWxJsSignTry=0,getWxJsSign(formatShareUrl(),"",_dataObj.guid,!0)}function setWxShareInfo(a){a===!0||handleShareUrl(),console.log("ss",shareUrl),console.log("sst",shareTitle),console.log("ssi",shareImageUrl),wx.onMenuShareTimeline({title:shareTitle,link:shareUrl,imgUrl:shareImageUrl,success:function(a){setTimeout(function(){triggerPageEvent(currentPageId,"sysShareCallBack",{method:"onMenuShareTimeline",type:"success"})},100),void 0!==_log&&_log.doShare(2,getWxOpenIdByShare(),showDialogPageByShareCallback)},cancel:function(a){triggerPageEvent(currentPageId,"sysShareCallBack",{method:"onMenuShareTimeline",type:"cancel"})}}),wx.onMenuShareAppMessage({title:shareTitle,desc:shareDesc,link:shareUrl,imgUrl:shareImageUrl,type:"link",dataUrl:"",success:function(a){setTimeout(function(){triggerPageEvent(currentPageId,"sysShareCallBack",{method:"onMenuShareAppMessage",type:"success"})},100),void 0!==_log&&_log.doShare(3,getWxOpenIdByShare(),showDialogPageByShareCallback)},cancel:function(a){triggerPageEvent(currentPageId,"sysShareCallBack",{method:"onMenuShareAppMessage",type:"cancel"})}}),wx.onMenuShareQQ({title:shareTitle,desc:shareDesc,link:shareUrl,imgUrl:shareImageUrl,success:function(a){setTimeout(function(){triggerPageEvent(currentPageId,"sysShareCallBack",{method:"onMenuShareQQ",type:"success"})},100),void 0!==_log&&_log.doShare(4)},cancel:function(a){triggerPageEvent(currentPageId,"sysShareCallBack",{method:"onMenuShareQQ",type:"cancel"})}}),wx.onMenuShareWeibo({title:shareTitle,desc:shareDesc,link:shareUrl,imgUrl:shareImageUrl,success:function(a){setTimeout(function(){triggerPageEvent(currentPageId,"sysShareCallBack",{method:"onMenuShareWeibo",type:"success"})},100),void 0!==_log&&_log.doShare(6)},cancel:function(a){triggerPageEvent(currentPageId,"sysShareCallBack",{method:"onMenuShareWeibo",type:"cancel"})}}),wx.onMenuShareQZone({title:shareTitle,desc:shareDesc,link:shareUrl,imgUrl:shareImageUrl,success:function(a){setTimeout(function(){triggerPageEvent(currentPageId,"sysShareCallBack",{method:"onMenuShareQZone",type:"success"})},100),void 0!==_log&&_log.doShare(5)},cancel:function(a){triggerPageEvent(currentPageId,"sysShareCallBack",{method:"onMenuShareQZone",type:"cancel"})}})}function checkWeixinAlert(a){if(checkIsAppEnv())return!0;if(_isWxMin)return!0;var b=Cool.util.checkIsWeixin()||appConfig.dev===!0;return b&&!checkIsOpenThirdAuth()||a!==!0&&checkIsThirdAppLogined()?!0:(winAlert(getWsiteNoAuthedMsg(a)),!1)}function checkIsOpenThirdAuth(){return wsiteInfo&&wsiteInfo.isOpenThirdAuth}function checkIsThirdAppLogined(){return wsiteInfo&&wsiteInfo.thirdAuthLogined}function checkIsThirdAppNoLogin(){return wsiteInfo&&wsiteInfo.thirdAuthNoLogin}function checkIsAppEnv(){return wsiteInfo&&wsiteInfo.isAppEnv}function getWsiteNoAuthedMsg(a){var b=no_auth_wx_msg;return wsiteInfo&&wsiteInfo.noAuthedMsg&&a!==!0&&(b=wsiteInfo.noAuthedMsg),b}function reloveTwoClickByISroll(){return!0}function initQQMap(){setTimeout(function(){window.isLoadQQMap||$.ajax({url:"https://map.qq.com/api/js?v=2.exp&key=QAXBZ-W56RP-WCEDV-LF7WK-PVFE5-TSBAC&callback=qqMapCallback&libraries=geometry",dataType:"script"}).then(function(a){})},1e3)}function createQQMap(a,b){var c=a.find(".qqmap-box");c.on("mousedown mousemove mouseup mouseleave touchstart touchmove touchend",function(a){a.stopPropagation()}),initQQMap(),qqMapLoadCallBack(function(c){0!==c&&"0"!==c?_isEditing&&alert("地图服务加载失败，请刷新浏览器重试！"):loadQQMap(a,b)})}function qqMapLoadCallBack(a){if(window.isLoadQQMap)a(0);else var b=0,c=setInterval(function(){"undefined"==typeof qq||void 0===typeof qq?(console.info("地图服务正在加载中..."),b>1e3&&(console.info("地图服务加载失败"),clearInterval(c),a(1))):qq&&qq.maps&&qq.maps.LatLng?(window.isLoadQQMap=!0,clearInterval(c),a(0)):console.info("qq对象加载成功，qq.maps.LatLng对象正在加载..."),b++},500)}function loadQQMap(a,b){var c=a.find(".qqmap-box").get(0),d=new qq.maps.LatLng(b.content.latlng.lat,b.content.latlng.lng),e=new qq.maps.Map(c,{panControl:!1,zoomControl:!1,center:d,zoom:b.content.zoom,mapTypeControlOptions:{mapTypeIds:[]}});a.find(".goHere").on("click",function(){_isWxMin?navigateToWxMinMap(b.content.address,b.content.title,b.content.latlng.lat,b.content.latlng.lng):Cool.util.checkIsWeixin()?navigateToWxMap(b.content):window.open(b.content.url,"_blank")});var f=(new qq.maps.Marker({map:e,position:d}),new qq.maps.Label({position:d,map:e,content:b.content.title}));f.setStyle({color:"#428bca",borderColor:"#428bca",fontSize:"16px",fontWeight:"bold"})}function navigateToWxMap(a){showRRXProcess("地图加载中..."),wx.checkJsApi({jsApiList:["openLocation"],success:function(b){wx.openLocation({latitude:a.latlng.lat,longitude:a.latlng.lng,name:a.title,address:a.address,scale:10,success:function(){hideRRXProcess()},fail:function(){window.open(a.url,"_blank")}})},fail:function(){window.open(a.url,"_blank")}})}function getWCTime(){var a="";return _isEditing?a=window.rrxiuWsiteCrateTime:wsiteInfo.loading&&(a=wsiteInfo.loading.createTime),a}function getProtocol(a){return a?"https":"http"}function getTransformString(a){var b="";if("none"===a||void 0===a||""===a||null===a)b="none";else{var c=parseInt(a.translate.x),d=parseInt(a.translate.y),e=parseInt(a.scale),f=parseInt(a.angle);if(0===c&&0===d&&1===e&&0===f)b="none";else{var g=["translate("+c+"px, "+d+"px)","scale("+e+", "+e+")","rotate("+f+"deg)"];b=g.join(" ")}}return b}function parseElement(a,b,c){var d=!1;c&&(d=!0);var e="position:absolute;",f=a.left||"0",g=a.top||"0",h=(a.right||"0",a.bottom||"0",a.width),i=a.height;if("img"!=a.type&&h>canvasDefaultWidth){try{h=a.width.toFixed(0)}catch(j){h=a.width}i=a.height}if("goods"==a.type&&(i=-1),"plugin"==a.type?pluginIsFull(a.content.sizeType)?(f=0,g=0,i=-2):"菜单"==a.content.name&&_isEditing&&(g=1240-a.height-2):"video"==a.type&&a.content.isFullPlay&&(a.width=h=canvasDefaultWidth,a.height=i=getCanvasRealHeight()),!_isEditing&&c&&"img"===a.type&&a.canFloat){var k=0;k=Cool.util.checkIsPcWithoutIframe()?$ptWrapper.height():_$canvas.height();var l=void 0===a.floatPos||null===a.floatPos?"1":a.floatPos;"2"==l?g=k-i:g>k&&(g=k-i)}e=e+"left:"+f+"px;top:"+g+"px;width:"+h+"px;",-1!=i&&(-2==i?e+="height:100%;":e=e+"height:"+i+"px;"),void 0!==a.zIndex&&(e=e+"z-index:"+a.zIndex+";");var m=0,n="",o=null,p=null,q=null,r=null;"img"===a.type&&1===parseInt(a.content.imageType)&&void 0!==a.content.imageList&&1===a.content.imageList.length&&(e+="overflow:hidden;");var s="",t="";_isEditing&&(s=" ele-drag ele-resize ele-rotate element-edit ",t=" elem-resize elem-rotate "),_isEditing||a.hasOwnProperty("filter")&&(e+="-webkit-filter:"+a.filter.filter+";filter:"+a.filter.filter+";"),a.hasOwnProperty("display")&&a.display===!1&&(e+="display:none;");var u="element_"+a.id,v="element ";_isPageThumb&&(s="",t="",u="thumb_"+u);var w=$("<div  "+s+' class="'+v+u+" "+t+'"></div>');if(w.attr("style",e),d||(w.css("transform",""),w.css("-webkit-transform","")),w.attr("eletype",a.type),_isPageThumb||w.attr("data-id",a.id),"img"==a.type){var x=$("<div style='width:100%;height:100%;position:relative;' class='element-last-box'></div>"),y=$("<div class='element-mask'></div>"),z=$("<img class='element-last' style='-webkit-user-drag: none;width: 100%; height:100%; margin-left: 0; margin-top: 0;' />");z.attr("src",handleImgUrl(a.content.src)),z.css({width:"100%"==a.content.width?h:a.content.width,height:"100%"==a.content.height?i:a.content.height,"margin-left":a.content.marginLeft,"margin-top":a.content.marginTop});var A=getTransformString(a.content.transform);if(z.css("transform",A),z.css("-webkit-transform",A),y.append(z),a.content.showImageBorder){if(""!==a.content.border){var B=$("<img class='element-border'>");B.attr("src",handleImgUrl(a.content.border)),x.append(B)}""!==a.content.mask&&y.css("-webkit-mask-box-image","url("+handleImgUrl(a.content.mask)+")")}if(!_isEditing){var C=z.css("width"),D=z.css("height");if(1===parseInt(a.content.imageType)){if(void 0!==a.content.imageList&&1===a.content.imageList.length){C=parseInt(a.width,10),D=parseInt(a.height,10);for(var E=a.content.imageList[0].src,F=a.content.imageCount,G=parseInt(C,10),H=[],I=0;F>I;I++)H.push(G*I+"px 0");$.each(H,function(a,b){var c=$("<span/>");c.css({width:C,height:D,position:"absolute",opacity:0,transform:z.css("transform"),"-webkit-transform":z.css("-webkit-transform"),background:"url("+handleImgUrl(E)+") repeat "+b}),y.append(c)})}}else void 0!==a.content.imageList&&$.each(a.content.imageList,function(a,b){var c=$("<span/>");c.css({width:C,height:D,left:z.css("margin-left"),top:z.css("margin-top"),position:"absolute",opacity:0,background:"url("+handleImgUrl(b.src)+") no-repeat 0 0",backgroundSize:C+" "+D,transform:z.css("transform"),"-webkit-transform":z.css("-webkit-transform")}),y.append(c)});if(a.click&&"mini"==a.click.type&&"miniprogram"!==window.__wxjs_environment){var J=a.click||{},K='<wx-open-launch-weapp style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; z-index: 1; opacity: 1;" username="'+J.value+'" path="'+J.pagepath+'"> <template><button style="border: none;background:rgba(255, 0, 0, 0);width:'+a.width+"px;height:"+a.height+'px;"></button></template></wx-open-launch-weapp>',L=$(K);x.append(L)}}x.append(y),w.html(wrapElement(x,a))}else if("svgShape"==a.type){var M=getSvgFullUrl(a.content.src);if(""!==M){var N="";if(isLoadedSvg(M)&&(N=getLoadedSvgXml(M)),""!==N){var O=handleSvgDocument(N,a.content);O&&w.html(wrapElement(O,a))}else!function(b){loadSvg(b).then(function(c,d,e){if(4==e.readyState&&200==e.status){isLoadedSvg(b)||pushLoadedSvgKey(b),saveLoadedSvgXml(b,e.responseText);var f=handleSvgDocument(e.responseText,a.content);f&&w.html(wrapElement(f,a))}},function(a){console.error(a)})}(M)}}else if("canvas"==a.type)w.html($("<canvas class='element-last' style='width:100%;height:100%;' ></canvas>"));else if("div"==a.type){getWCTime()>"2016-12-19 00:00:00"&&(a=$.extend(!0,{},a),(!a.wordArtInfo||a.wordArtInfo&&"svgWordart"!=a.wordArtInfo.type)&&(a.content=filterXSS(a.content))),("[removed]"===a.content||"[/removed]"===a.content||""===a.content)&&(a.content='<div class="element-last" style="width:100%;min-height:inherit;padding: 0;word-wrap: break-word;font-size:32px;line-height:1.25"></div>'),_isPageThumb||w.attr("id","inner_text_eidtor_"+a.id);var P=!1;a.isLongText&&!_isEditing&&(P=!0);var Q=a.content;P||(Q="vertical"===a.textDirec?Q.replace("width:100%","width:auto"):Q.replace("width:auto","width:100%"));var R=wrapElement(Q,a);P?(w.html(R),w.css({overflow:"hidden"})):("vertical"===a.textDirec?(w.css("width",a.width+"px"),w.css("height",a.height+"px")):(w.css("height","auto"),w.css("width",a.width+"px")),w.html(R));var S=w.find(".element-last");a.isLongText&&(_isEditing?w.find(".element-box").css({overflow:"auto"}):S.css({overflow:""})),a.textStroke&&(a.textStroke.display?S.css("-webkit-text-stroke",a.textStroke.width+"px "+a.textStroke.color):S.css("-webkit-text-stroke","0")),a.bgImgData&&("map"==a.wordArtInfo.type?(size=100*a.bgImgData.list.bgSize+"% "+100*a.bgImgData.list.bgSize+"%",S.css("background-image",a.bgImgData.list.img).css("background-size",size)):"gradient"!=a.wordArtInfo.type&&S.css("background-image","none")),_isEditing&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&(console.log("browser:safari"),S.css("-webkit-user-select","auto"))}else if("input"==a.type){_isEditing&&(a=$.extend(!0,{},a)),"string"==typeof a.content&&(a.content={content:a.content,inputType:a.inputType,required:a.required,unique:a.unique}),w.attr("inputType",void 0===a.content.inputType?1:a.content.inputType),w.attr("required",void 0===a.content.required?!1:a.content.required),w.attr("unique",void 0===a.content.unique?!1:a.content.unique);var T="",U=parseInt(a.height,10)>60?60:a.height;if(_isEditing)T="<div class='input-outer element-last' data-id=\""+a.id+'" ',T+=' style="line-height:'+U+"px;padding-left: 15px;height:"+a.height+"px;width:"+a.width+'px;"',T+=">"+a.content.content+"</div>";else{T="<div class='input-outer'>";var V="<textarea class='input-query element-last' title=\""+a.content.content+'" data-id="'+a.id+'" placeholder="'+a.content.content+'"';V+=' style="resize:none;line-height:'+U+"px;height:"+a.height+"px;width:"+a.width+'px;"',void 0!==a.content.required&&a.content.required&&(V+=" data-required=true "),void 0!==a.content.unique&&a.content.unique&&(V+=" data-unique=true "),V+="></textarea>",T=T+V+"</div>"}w.html(wrapElement($(T),a))}else if("uploadImage"==a.type){var W="";if(_isEditing){W=$("<div  class='uploadImage-outer' style='height:"+a.height+"px'/>");var X="<input type='button' class='uploadImage element-last'  value=\""+a.content.title+'"/>';W.html(X)}else{W=$('<div class="uploadImage-query uploadImage-outer element-last" data-id='+a.id+">"),W.attr({title:a.content.title,"data-required":a.content.required});var Y=$("<span >").html(a.content.title);Y.css({display:"block","text-align":"center","line-height":a.height+"px"}),W.append(Y);var Z=$('<input type="file" accept="image/*" placeholder="'+a.content.title+'" >');Z.css({position:"absolute",top:0,left:0,opacity:0}),W.append(Z),fnAddUploadEvent(W,Z,Y,a)}w.html(wrapElement(W,a))}else if("smsCheck"==a.type){var _,aa="",ba=a.height/2-10|0;if(_isEditing){aa=$("<div class='smsCheck-outer element-last' style='height:"+a.height+"px' data-id="+a.id+"/>");var ca=$('<div class="smsCheck-cap" style=" '+a.style+';top:0;left:0;">').html(a.content.title);_={height:ba+"px","line-height":ba-5+"px",width:"100%"},ca.css(_);var da=$('<div style="position:absolute;bottom:0;left:0;">');da.css(_);var ea=$('<div class="smsCheck-cap" style=" '+a.style+';bottom:0;left:0;">').html("验证码");_.width="55%",ea.css(_);var fa=$('<div class="smsCheck-buttom" style=" '+a.style+';font-size:24px;">').html("获取验证码");_.width="35%",fa.css(_),da.append(ea),da.append(fa),aa.append(ca),aa.append(da)}else{aa=$('<div class="smsCheck-query smsCheck-outer element-last" data-id='+a.id+">"),aa.attr({title:a.content.title,"data-required":a.content.required});var ga=$('<div class="smsCheck-cap" style=" '+a.style+';top:0;left:0;">');_={height:ba+"px","line-height":ba-5+"px",width:a.width,padding:0},ga.css(_);var ha=$('<input class="smsPhone element-last" type="tel" autocomplete="off" placeholder="'+a.content.title+'" style="padding-left: 15px;width:100%;height:100%">');ha.attr({"data-unique":a.content.unique}),ga.append(ha);var ia=$('<div style="position:absolute;bottom:0;left:0;">');ia.css(_);var ja=$('<div class="smsCheck-cap" style=" '+a.style+';bottom:0;left:0; ">');_.width=.55*a.width,ja.css(_);var ka=$('<input class="smsCode element-last" type="tel" autocomplete="off" maxlength="6" placeholder="验证码" style="padding-left: 15px;width:100%;height:100%">');ja.append(ka);var la=$('<div class="smsCheck-buttom " style=" '+a.style+';font-size:24px;">'),ma=$('<a href="javascript:void(0)" class="smsButtom element-last" style="color: inherit;">获取验证码</a>');_.width=.35*a.width,ma.css(_),la.css(_),la.append(ma),ia.append(ja),ia.append(la),aa.append(ga),aa.append(ia),fnBindSMSEvent(ha,ka,ma,a)}w.html(wrapElement(aa,a))}else if("submit"==a.type){_isEditing&&(a=$.extend(!0,{},a)),"string"==typeof a.content&&(a.content={content:a.content,formName:a.formName,maxCounter:a.maxCounter,submitType:a.submitType,smsReminder:a.smsReminder,smsText:a.smsText,startTime:a.startTime,endTime:a.endTime,showJoin:a.showJoin,joinColor:a.joinColor,ext:a.ext});var na=$("<div  class='submit-outer'/>"),oa="<input type='button' class='submit element-last'  value=\""+a.content.content+'"';_isEditing||(oa+='style="height:'+a.height+'px;padding:0;"'),oa+="/>",na.html(oa),w.html(wrapElement(na,a));var pa=a.content.joinCount?parseInt(a.content.joinCount):0;if(a.content.showJoin){var qa=$("<div>目前已有 "+pa+" 人参与活动</div>");qa.css({width:"100%",paddingTop:20,textAlign:"center",color:a.content.joinColor,fontSize:28}),_isEditing?w.append(qa):$.ajax({url:getInteractServiceHostIfHttps()+"formdata/getcount",type:"POST",data:{form:{pageId:b,wsiteGuid:_dataObj.guid}},dataType:"json",xhrFields:{withCredentials:!0}}).then(function(a){pa=parseInt(a.data.join)+pa,(appConfig.dev||0===a.result&&pa>0)&&(qa.html("目前已有"+pa+"人参与活动"),w.append(qa))})}}else if("video"==a.type){var ra=parseInt(a.content.touchType),sa="",ta=isLiveVideo(a.content.code),ua=parseInt(a.content.type),va=1===ua&&a.content.embed||0===ua&&ta;if(va&&!_isEditing){Cool.util.checkIsAndroid()&&1===ra&&(a.content.touchType=0,ra=0);var wa=a.content.url;0===ua&&ta&&(wa=a.content.code);var xa=ta?"":'type="video/mp4"';sa=$('<video  x-webkit-airplay="true" y-webkit-airplay="true" webkit-playsinline playsinline x5-video-player-type="h5" x5-video-player-fullscreen="true" class="element-last" width="'+a.width+'" height="'+a.height+'">您的浏览器不支持 video 标签。<source src="'+wa+'" '+xa+"></video>"),1===ra?sa.attr("preload","auto"):0===ra?(sa.attr("controls","controls"),sa.attr("preload","metadata")):sa.attr("preload","metadata"),sa.css("background-color","#000000"),sa.get(0).style["object-position"]="0px 0px",void 0===a.content.poster||ta||sa.attr("poster",a.content.poster),a.click&&("loop"===a.click.type?sa.attr("loop","loop"):""!==a.click.value&&sa.on("ended",function(){bindElementEvent(b,a)}))}else sa=$('<div class="video element-last" style="width:100%;height:100%;"/>'),va&&_isEditing?(sa.css("background-color","#000"),void 0===a.content.poster||0===ua&&ta?(sa.html("嵌入视频区域"),sa.css("color","#FFF"),sa.css("text-align","center"),sa.css("line-height",a.height+"px")):sa.css("background-image","url("+a.content.poster+")")):""!==a.content.icon&&sa.css("background-image",a.content.icon);w.html(wrapElement(sa,a))}else if("tel"==a.type||"sms"==a.type){var ya=$('<a  class="anchor element-last" style="cursor: default;width:100%;"/>');ya.css("height",a.height+"px"),ya.css("line-height",a.height+"px"),ya.attr("href",createHref(a.type,a.content.value)),ya.html(a.content.text),w.html(wrapElement(ya,a))}else if("imggroup"==a.type){_isEditing&&(a=$.extend(!0,{},a)),a.content.constructor==Array&&(a.content={list:a.content,autoPlay:a.autoPlay,leftArrow:a.leftArrow,rightArrow:a.rightArrow,playStyle:a.playStyle,showArrow:a.showArrow}),a.content.playStyle||(a.content.playStyle=a.playStyle),void 0===a.content.autoPlay&&(a.content.autoPlay=a.autoPlay);var za=$('<div class="slider slider_'+a.id+' element-last" style="width:100%;height:100%;"></div>'),Aa=a.content.list||[],Ba=Aa.length;_isEditing||za.attr("id","slider"+a.id),Ba>0&&za.css("background","url("+handleImgUrl(Aa[0].src)+") center center / cover"),za.attr("eletype",a.eletype),za.attr("autoplay",a.content.autoPlay),za.attr("playstyle",a.content.playStyle),za.attr("showarrow",a.content.showArrow),za.attr("leftarrow",a.content.leftArrow),za.attr("rightarrow",a.content.rightArrow);for(var Ca=0;Ba>Ca;Ca++)if(!_isEditing){var Da=$("<img/>");Da.attr("src",handleImgUrl(Aa[Ca].src)),Da.attr("alt",Aa[Ca].title),Da.attr("elemId",a.id),Da.attr("color",a.color),Da.css("width","100%"),Da.css("height","100%"),Da.css("display","none"),za.append(Da)}w.html(wrapElement(za,a))}else if("shape"==a.type)if("line"==a.content.type){var Ea=a.height/2,Fa=a.width,Ga="0,"+Ea+" "+Fa+","+Ea,Ha=void 0===a.content.thickness?2:a.content.thickness,Ia=void 0===a.content.backgroundColor?"#000":a.content.backgroundColor,Ja=getLineStrokeDasharray(a.content.subType,Ha),Ka='<svg id="shape'+a.id+'" width="'+a.width+'" height="'+a.height+'" class="element-last" version="1.1" xmlns="http://www.w3.org/2000/svg"><polyline stroke="'+Ia+'" stroke-width="'+Ha+'" points="'+Ga+'" stroke-opacity="1" '+Ja+"></polyline></svg>";w.html(wrapElement(Ka,a))}else{var La=$('<div class="element-last" style="height:100%;width:100%;"></div>');La.css("-webkit-mask-image","url('"+getShape(a.content.type)+"')"),La.css("background-color",a.content.backgroundColor),La.css("-webkit-mask-size","100% 100%"),w.html(wrapElement(La,a))}else if("html"===a.type){var Ma="",Na="";a.content.scroll||_isEditing||(Ma='style="overflow:inherit"',Na="height:100%;");var Oa=/iphone|ipad/gi.test(navigator.appVersion);a.content.fullscreen&&Oa&&(Na+="overflow-y:auto;"),""!==Na&&(Na='style="'+Na+'"');var Pa='<div class="element-last" style="width:100%;height:100%;min-height:inherit;word-wrap: break-word;word-break:break-all;font-size:48px">';Pa+='<div class="we-canvas" '+Ma+">",Pa+='<div class="iscroll_html" '+Na+">",Pa+="<style>"+getPrefixCss(".we-canvas",a.content.css)+"</style>",Pa+=a.content.html,Pa+="</div>",w.html(wrapElement(Pa,a))}else if("audio"===a.type){var Qa=$('<div class="audio element-last" style="width:100%;height:100%;"/>');""!==a.content.icon&&Qa.css("background-image",a.content.icon),""!==a.content.url&&createAudioElement(b,a.id,a),w.html(wrapElement(Qa,a))}else if("map"===a.type){var Ra="";if(a.content.embed){var Sa=$('<div id="qqmap-'+a.id+'" class="qqmap-box" style="width: 100%;height:calc(100% - 84px)"></div>');_isEditing&&Sa.css("pointer-events","none"),a.style||w.css("background-color","#ffffff"),a.content.address=a.content.address||a.content.title,a.content.address=a.content.address.replace("undefined","");var Ta=$('<div id="warp-map-'+a.id+'" class="map-wrap"><div class="map-wrap-inner"><div class="map-wrap-inner-info"><p class="map-wrap-inner-info-title">'+a.content.address+'</p><p class="map-wrap-inner-info-subtitle">'+a.content.title+'</p></div><div class="goHere"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5332" width="26" height="26"><path d="M836.6465218 933.87496704a81.81316983 81.81316983 0 0 1-47.10455202-14.87512217L488.73394971 704.96336978l-45.45176111 182.63344069a33.05582612 33.05582612 0 0 1-32.22943066 24.79186919 33.05582612 33.05582612 0 0 1-32.22943067-25.61826545l-67.76444395-290.06487597a16.52791306 16.52791306 0 0 0-9.09035237-11.56953873L131.73102607 505.80201602l-4.13197889-2.47918716a82.63956609 82.63956609 0 0 1 14.87512216-145.44563572L820.94500418 95.90976977a82.63956609 82.63956609 0 0 1 112.38980959 83.46596155l-14.04872588 676.81804395v2.47918716a81.81316983 81.81316983 0 0 1-47.93094827 66.93804767 82.63956609 82.63956609 0 0 1-34.70861783 8.26395694z m-9.09035158-69.41723565a16.52791306 16.52791306 0 0 0 25.61826463-10.74314328l14.04872671-676.81804395v-2.47918716a16.52791306 16.52791306 0 0 0-22.31268283-17.35430851L166.43964307 419.03047186a16.52791306 16.52791306 0 0 0-4.95837351 28.09745261l167.75831855 77.68119178a81.81316983 81.81316983 0 0 1 45.4517611 56.19490438l37.18780499 157.01517527 23.96547373-96.688292a33.05582612 33.05582612 0 0 1 51.23653088-19.00710022z" fill="#ffffff" p-id="5333"></path><path d="M417.36196057 887.36438718a30.98983699 30.98983699 0 0 1-20.91814015-53.4574686l147.97647254-136.35528426a30.98983699 30.98983699 0 0 1 41.8362803 45.71001052L438.28010072 878.84218182a30.98983699 30.98983699 0 0 1-20.91814015 8.52220536zM473.91841363 668.11128958a30.98983699 30.98983699 0 0 1-24.01712386-50.35848567L824.87831953 149.03151671a30.98983699 30.98983699 0 1 1 48.03424771 38.73729661L497.93553748 656.49010053a30.98983699 30.98983699 0 0 1-24.01712385 11.62118905z" fill="#ffffff" p-id="5334"></path></svg><span>去这里</span></div></div></div>');Ta.append(Sa),Ra=Ta,createQQMap(Ra,a)}else Ra=$('<a href="javascript:void(0)" target="_blank" class="map element-last" style="width:100%;height:100%;"/>'),""!==a.content.icon&&Ra.css("background-image",a.content.icon),""===a.content.url||_isEditing||(_isWxMin?Ra.click(function(){navigateToWxMinMap(a.content.address,a.content.title,a.content.latlng.lat,a.content.latlng.lng)}):Cool.util.checkIsWeixin()?Ra.click(function(){navigateToWxMap(a.content)}):Ra.attr("href",a.content.url));w.html(wrapElement(Ra,a))}else if("interact"===a.type){var Ua="",Va=a.width/2-10;if(Ua="upload"===a.content.type?$("<div class='element-last'><div class='interact-entry' style='top:0px;left:"+Va+"px'> +1</div><div class='interactIcon'><img src='"+handleImgUrl(a.content.imageUrl)+"'><div class='interactCount'>"+a.content.count+"</div></div></div>"):$("<div class='element-last'><div class='interact-entry' style='top:0px;left:"+Va+"px'> +1</div><div class='interactIcon'><i class='"+a.content.type+"'></i><div class='interactCount'>"+a.content.count+"</div></div></div>"),w.html(wrapElement(Ua,a)),!_isEditing){var Wa=getRrxiuFontCssHost()+"font_"+_dataObj.guid+".css";Cool.util.loadCss(Wa);var Xa=_dataObj.guid+b+a.id;""!==Cool.cookie.get(Xa)&&w.children().css("color",a.content.selectedColor||"#47B859"),Ua.unbind().bind(clickEventType,function(c){return reloveTwoClickByISroll()?void 0===_dataObj.guid?(winAlert("请发布系统后再操作！"),!1):(""===Cool.cookie.get(Xa)&&(Cool.cookie.set(Xa,"1"),Ua.find(".interact-entry").animate({top:-20,opacity:1},800,function(){$(this).fadeOut(400).remove()}),addInteractCount(a,b)),!1):void 0})}}else if("checkbox"===a.type||"radio"===a.type){var Ya="checkbox"===a.type?"多选":"单选",Za=$("<div data-id='"+a.id+"' title='"+a.content.title+"' class='control-outer "+a.type+"-query element-last'></div>");Za.html("<div class='title'>"+a.content.title+"("+Ya+")</div>");var $a=$("<div class='options'></div>");w.html(wrapElement(Za,a));var _a=w.children(),ab=_a.css("borderStyle")||"solid",bb=_a.css("borderWidth")||"1px",cb=_a.css("borderColor")||"#cccccc";Za.find(".title").css({"border-bottom-width":bb,"border-bottom-style":ab,"border-bottom-color":cb});var db=0;if(!a.content.options)return;if($.each(a.content.options,function(b,c){var d=bb+" "+ab+" "+cb;b===a.content.options.length-1&&(a.content.hasOther||(d="none"));var e="";e="checkbox"===a.type?"<input title='"+c.value+"' class='option' data-id='"+c.id+"' type='checkbox'>":"<input name='radioname"+a.id+"' title='"+c.value+"' class='option' data-id='"+c.id+"' type='radio'>",$a.append("<div class='option-group' style='border-bottom:"+d+"'><label class='option-label'>"+e+"<span class='span-title'>"+c.value+"</span></label></div>"),db=c.id}),a.content.hasOther){var eb="",fb=db+1;if(eb="checkbox"===a.type?"<input title='' class='option' data-id='"+fb+"' type='checkbox'><input class='custom-input ' style='width:80%;height:60px;background: transparent;border: none;' data-id=\""+fb+"\"  placeholder='请输入'/>":"<input name='radioname"+a.id+"' title='' class='option' data-id='"+fb+"' type='radio'><input class='custom-input ' style='width:80%;height:60px;background: transparent;border: none;' data-id=\""+fb+"\"  placeholder='请输入'/>",$a.append("<div class='option-group' style='border-bottom:none;'><label class='option-label' style='width:100%;'>"+eb+"</label></div>"),_isEditing)$a.css("pointer-events","none");else{var gb=$a.find("input.custom-input");gb.bind("change",function(){if(reloveTwoClickByISroll()){var a=$(this);$(a[0].previousSibling).attr("title",a.val())}}),gb.bind("click",function(){if(reloveTwoClickByISroll()){var a=$(this);$(a[0].previousSibling).click()}})}}Za.append($a),void 0!==a.content.required&&a.content.required&&Za.attr("data-required",!0),_a.css("borderWidth",bb),_a.css("borderStyle",ab),_a.css("borderColor",cb),Za.find(".option-group").off("click").on("click",function(a){a.stopPropagation();var b=$(this).find(".option"),c=b.attr("type"),d=b.get(0).checked;if("checkbox"===c)d===!0||"true"===d?b.get(0).checked=!1:b.get(0).checked=!0;else if("radio"===c){var e=b.attr("name");$("input:radio[name='"+e+"']:checked").removeAttr("checked"),b.prop("checked",!0)}}),w.css("height","auto")}else if("rating"===a.type){var hb="inherit",ib="",jb="";void 0!==a.content.unSelectColor&&(hb=a.content.unSelectColor,ib='style="color:inherit;"',jb='style="color:'+hb+';"');var kb="<div class='rate'><span data-id='1' "+jb+" class='"+a.content.type+"'></span><span data-id='2' "+jb+" class='"+a.content.type+"'></span><span data-id='3' "+jb+" class='"+a.content.type+"'></span><span data-id='4' "+jb+" class='"+a.content.type+"'></span><span data-id='5' "+jb+" class='"+a.content.type+"'></span></div>",lb=$("<div class='rating-query rating-outer element-last' title='"+a.content.title+"' data-id='"+a.id+"'><div class='title' "+ib+">"+a.content.title+"</div>"+kb+"</div>");if(!_isEditing){var mb=getRrxiuFontCssHost()+"font_"+_dataObj.guid+".css";Cool.util.loadCss(mb);var nb=lb.find("."+a.content.type);nb.unbind().bind(clickEventType,function(){if(reloveTwoClickByISroll())for(var b=parseInt($(this).data("id"))-1,c=null,d=0;5>d;d++)c=$(nb[d]),d>b?c.is(".selected")&&(c.css("color",hb),c.removeClass("selected")):(c.css("color",a.content.selectedColor),c.addClass("selected"))})}void 0!==a.content.required&&a.content.required&&lb.attr("data-required",!0),w.html(wrapElement(lb,a)),w.children().css("lineHeight",a.height-6+"px")}else if("select"===a.type){if(o=$("<div style='padding-left:15px;' class='select-outer'></div>"),_isEditing)o.html("<div class='editSelect' style='line-height:"+a.height+"px'>"+a.content.title+"<span>▼</span></div>");else{var ob=a.content.title||"请选择",pb="<option>"+ob+"</option>";$.each(a.content.options,function(a,b){pb+="<option>"+b.value+"</option>"}),m=(a.height-(o.children().css("font-size")||18))/2-4,
o.html("<select title='"+a.content.title+"' data-id='"+a.id+"' class='select-query element-last'>"+pb+"</select><span style='top:"+m+"px'>▼</span>")}void 0!==a.content.required&&a.content.required&&o.children().attr("data-required",!0),w.html(wrapElement(o,a))}else if("date"===a.type){var qb="",rb=Cool.util.formateDate(a.content.date)||"年-月-日";if(_isEditing)qb="<div class='input-outer element-last'  data-id=\""+a.id+'" ',qb+=' style="line-height:'+a.height+"px;padding-left: 15px;height:"+a.height+"px;width:"+a.width+'px;"',qb+=">"+rb+"</div>";else{qb="<div class='input-outer'>";var sb='<input value="'+rb+"\" placeholder='年-月-日' type='date' class='date-query element-last' title=\""+a.content.title+'" data-id="'+a.id+'"';sb+=' style="overflow: hidden;-webkit-appearance: none;-moz-appearance: none;-ms-appearance: none;appearance: none;line-height:'+a.height+"px;height:"+a.height+"px;width:"+a.width+'px;"',void 0!==a.content.required&&a.content.required&&(sb+=" data-required=true "),sb+="></input>",qb=qb+sb+"</div>"}w.html(wrapElement($(qb),a))}else if("time"===a.type){console.log("time",a),o="";var tb=parseFloat(a.height),ub="",vb=a.content.precise,wb="32%",xb="32%",yb="32%";if(p="2%",q="2%",r="0","hour"===vb?(wb="100%",p="0"):"minute"===vb&&(wb="48%",xb="50%",p="2%",q="0"),_isEditing){o=$("<div class='select-outer'></div>");var zb="-1"===a.content.hour?"时":a.content.hour+"时",Ab="-1"===a.content.minute?"分":a.content.minute+"分",Bb="-1"===a.content.second?"秒":a.content.second+"秒";n="<div class='time-cap editSelectTime' style='margin-right:{{marginRight}} !important;"+a.style+";width:{{width}};height:"+tb+"px;line-height:"+tb+"px'>{{options}}<span>▼</span></div>",ub=compileHtml(n,{options:zb,width:wb,marginRight:p}),"hour"!==vb&&(ub+=compileHtml(n,{options:Ab,width:xb,marginRight:q})),"second"===vb&&(console.log("---------second-----,",a.style),ub+=compileHtml(n,{options:Bb,width:yb,marginRight:r})),o.html(ub)}else{o=$("<div class='timeSelect-outer time-query' data-id='"+a.id+"' title='"+a.content.title+"' ></div>");var Cb=0,Db="",Eb='<option value="-1">时</option>',Fb='<option value="-1">分</option>',Gb='<option value="-1">秒</option>';for(Cb=0;24>Cb;Cb++)Db=10>Cb?"0"+Cb:Cb.toString(),Eb+="<option>"+Db+"时</option>";for(Cb=0;60>Cb;Cb++)Db=10>Cb?"0"+Cb:Cb.toString(),Fb+="<option>"+Db+"分</option>",Gb+="<option>"+Db+"秒</option>";m=(tb-(o.children().css("font-size")||18))/2-5,n="<div class='time-select' style='margin-right:{{marginRight}} !important;"+a.style+";width:{{width}};'><select class='element-last'>{{options}}</select><span style='top:"+m+"px'>▼</span></div>",ub=compileHtml(n,{options:Eb,width:wb,marginRight:p}),"hour"!==vb&&(ub+=compileHtml(n,{options:Fb,width:xb,marginRight:q})),"second"===vb&&(ub+=compileHtml(n,{options:Gb,width:yb,marginRight:r})),o.html(ub),void 0!==a.content.required&&a.content.required&&o.attr("data-required",!0)}w.html(wrapElement(o,a))}else if("city"===a.type){var Hb="",Ib=68,Jb="0%",Kb=0;a.content.province.show&&Kb++,a.content.city.show&&Kb++,a.content.area.show&&Kb++,1===Kb?Jb=100:(2===Kb||3===Kb)&&(Jb=50);var Lb=0;_isEditing?(o=$("<div class='select-outer'></div>"),n="<div class='editSelectTime city-cap' style='{{style}};margin-right:{{marginRight}} !important;margin-top: {{marginTop}} !important;width:{{width}} !important;height:{{height}};line-height:{{height}}'>{{selectName}}<span>▼</span></div>",a.content.province.show&&(Lb=a.content.city.show?2:0,Hb=compileHtml(n,{selectName:a.content.province.name,marginTop:0,marginRight:Lb+"%",width:Jb-Lb+"%",height:Ib+"px",style:a.style})),a.content.city.show&&(Lb=!a.content.province.show&&a.content.area.show?2:0,Hb+=compileHtml(n,{selectName:a.content.city.name,marginTop:0,marginRight:Lb+"%",width:Jb-Lb+"%",height:Ib+"px",style:a.style})),a.content.area.show&&(Hb+=3===Kb?compileHtml(n,{selectName:a.content.area.name,marginTop:"2%",marginRight:"0",width:"100%",height:Ib+"px",style:a.style}):compileHtml(n,{selectName:a.content.area.name,marginTop:0,marginRight:"0",width:Jb+"%",height:Ib+"px",style:a.style})),a.content.other.show&&(Hb+="<div class='editSelectTime city-cap' style='margin-top: 2%;width:100%;"+a.style+";height:"+Ib+"px;line-height:"+Ib+"px'>"+a.content.other.value||"详细地址</div>"),o.html(Hb)):(o=$("<div style='padding-left: 0;' class='timeSelect-outer formCitySelect city-query' data-id='"+a.id+"' title='"+a.content.title+"' ></div>"),m="20px",n="<div class='time-select' style='{{style}};margin-right:{{marginRight}} !important;margin-top: {{marginTop}} !important;height:{{height}};width: {{width}} !important;'><select name='{{selectName}}' class='element-last'></select><span style='top:{{top}}'>▼</span></div>",a.content.province.show&&(Lb=a.content.city.show?2:0,Hb+=compileHtml(n,{selectName:"province",marginTop:0,marginRight:Lb+"%",width:Jb-Lb+"%",height:Ib+"px",style:a.style,top:m,dataId:a.id})),a.content.city.show&&(Lb=!a.content.province.show&&a.content.area.show?2:0,Hb+=compileHtml(n,{selectName:"city",marginTop:0,marginRight:Lb+"%",width:Jb-Lb+"%",height:Ib+"px",style:a.style,top:m,dataId:a.id})),a.content.area.show&&(Hb+=3===Kb?compileHtml(n,{selectName:"area",marginTop:"2%",width:"100%",marginRight:"0",height:Ib+"px",style:a.style,top:m,dataId:a.id}):compileHtml(n,{selectName:"area",marginTop:0,marginRight:"0",width:Jb+"%",height:Ib+"px",style:a.style,top:m,dataId:a.id})),a.content.other.show&&(Hb+="<div class='input-cap' style='border:none;margin-top: 2%;width:100%;"+a.style+";height:"+Ib+"px;line-height:"+Ib+"px'><input placeholder='详细地址' value='"+a.content.other.value+"' type='text' style='background-color: inherit;padding-left: 15px;border:none;width:100%;height:94%;"+a.style+"'></div>"),o.html(Hb),void 0!==a.content.required&&a.content.required&&o.attr("data-required",!0),Cool.util.loadJs(appConfig.libHost+"citys/jquery.citys-1.js",function(){o.citys({province:a.content.province.code,city:a.content.city.code,area:a.content.area.code,onChange:function(a){}})})),w.html(wrapElement(o,a))}else if("file"===a.type){var Mb=$('<a  href="javasript:void(0)" class="file-element-box element-last" style="font-size:inherit;color: inherit;height:100%;cursor: default;width:100%;"/>'),Nb="";Nb=_isEditing?"":"<input data-id='"+a.id+"' title='"+a.content.title+"' class='file-query' type='file'/>",Mb.html(Nb+"<div class='file-content' style='pointer-events:none;height:"+a.height+"px;line-height:"+a.height+"px;'><span class='fb_plus'>+</span><p class='fb_text'>上传文件（需小于10MB）</p></div>"),!_isEditing&&void 0!==a.content.required&&a.content.required&&Mb.find(".file-query").attr("data-required",!0),w.html(wrapElement(Mb,a))}else if("multiselect"===a.type){o=$("<div class='timeSelect-outer formCitySelect multiselect-query' data-id='"+a.id+"' title='"+a.content.title+"' ></div>"),m=20;var Ob=68,Pb=50,Qb="",Rb=a.content.threeCount>0;p=2,q=0,Rb&&(p=0,Pb=32,q=2),_isEditing?(o=$("<div class='select-outer'></div>"),n="<div class='editSelectTime  multiselect-cap' style='"+a.style+";margin-right:{{marginRight}};width:{{width}};height:"+Ob+"px;line-height:"+Ob+"px'>{{selectName}}<span>▼</span></div>",Qb+=n.replace("{{width}}",Pb-p+"%").replace("{{marginRight}}","2%").replace("{{selectName}}",multiSelectObj.getTipValue(a.content,"one")),Qb+=n.replace("{{width}}",Pb+"%").replace("{{marginRight}}",q+"%").replace("{{selectName}}",multiSelectObj.getTipValue(a.content,"two")),Rb&&(Qb+=n.replace("{{width}}",Pb+"%").replace("{{marginRight}}",0).replace("{{selectName}}",multiSelectObj.getTipValue(a.content,"three")))):(n="<div class='time-select' style='"+a.style+";margin-right:{{marginRight}};height:"+Ob+"px;width:{{width}};'><select name='{{name}}'  class='element-last'>{{options}}</select><span style='top:"+m+"px'>▼</span></div>",Qb+=compileHtml(n,{name:"one",options:multiSelectObj.getOptions(a.content,"one"),marginRight:"2%",width:Pb-p+"%"}),Qb+=compileHtml(n,{name:"two",options:multiSelectObj.getOptions(a.content,"two"),marginRight:q+"%",width:Pb+"%"}),Rb&&(Qb+=compileHtml(n,{name:"three",options:multiSelectObj.getOptions(a.content,"three"),marginRight:0,width:Pb+"%"}))),o.html(Qb),void 0!==a.content.required&&a.content.required&&o.attr("data-required",!0),w.html(wrapElement(o,a))}else if("goods"===a.type){var Sb=$("<div class='element-last'  style='width:100%;height:100%;'></div>"),Tb='<div style="{{objStyle}}" class="goods-list goods-query" data-id="{{dataId}}" title="{{title}}"> {{each list as goods j}}<div class="goods-box" data-usestock="{{goods.useStock}}" data-stock="{{goods.stock}}" data-name="{{goods.name}}" data-id="{{goods.id}}" data-price="{{goods.price}}"> <div class="gd-content">{{if goods.picture!=""}}<div class="goods-image-box"> <img src="{{imageHost+goods.picture+imageThumb}}"> </div>{{/if}}<div class="goods-text-box" style="{{goods.picture!=\'\'?(\'width:\'+textHeight+\';\'):\'width:100%;height:inherit;\'}}"> <div class="goods-name">{{goods.name}}</div> <div class="goods-desc">{{goods.desc}}</div> {{if goods.useStock==1}}<div class="goods-stock">{{stockTitle}}<span id="stock-{{dataId}}-{{goods.id}}">{{goods.stock}}</span>{{stockUnit}} </div>{{/if}} <div class="gd-price-number"> <div class="price-stock"> <div class="price" style="bottom:{{goods.useStock==1?\'5\':\'25\'}}px"><span>￥</span><span class="p-number">{{goods.price}}</span></div> </div> <div class="number-container"><a href="javascript:void(0)" class="num-minus">-</a> {{if goods.isEdit}}<input style="background-color: rgba(158, 158, 158, 0.18);" readonly="readonly" type="number" min="0" step="1" value="{{goods.defaultNum}}" />{{/if}} {{if !goods.isEdit}}<input style="pointer-events: {{isEditing?\'none\':\'auto\'}};" type="number" min="0" step="1" value="{{goods.defaultNum}}" />{{/if}}<a href="javascript:void(0)" class="num-add">+</a></div> </div> </div> </div> </div>{{/each}} </div>\n';Tb=compileHtml(Tb,{isEditing:_isEditing,objStyle:a.style,dataId:a.id,title:a.content.title,stockTitle:a.content.stockTitle||"库存",stockUnit:a.content.stockUnit||"件",list:a.content.list,imageHost:appConfig.imageHost,imageThumb:"@!200x200",textHeight:a.width>200?"calc(100% - 130px)":a.width+"px"}),Sb.html(Tb),void 0!==a.content.required&&a.content.required&&Sb.attr("data-required",!0);var Ub=Sb.find(".goods-query"),Vb=Ub.css("border");"rgba(0, 0, 0, 0)"==$(".goods-query").css("background-color")&&Ub.css("background-color","#fff"),Ub.find(".number-container").css("border",Vb),Ub.find(".number-container .num-minus").css("border-right",Vb),Ub.find(".number-container .num-add").css("border-left",Vb),Ub.find(".goods-box:not(:first-child)").css("border-top",Vb),w.html(wrapElement(Sb,a))}else if("plugin"===a.type){var Wb=$("<div class='element-last' style='width:100%;height:100%;'></div>");pluginIsFull(a.content.sizeType)&&w.css({top:0,left:0}),w.html(wrapElement(Wb,a)),1===parseInt(a.content.sizeType)&&0===parseInt(a.content.fixedWidth)&&0===parseInt(a.content.fixedHeight)&&w.css("width","fit-content"),$wePluginClient.render(a,Wb,b,_isPageThumb,_isPageInDialog)}else if("plugin-module"==a.type){var Xb=$("<div class='element-last' style='width:100%;height:100%;'></div>");w.html(wrapElement(Xb,a))}return _isEditing||(w.find(".submit").click(function(){if(a.content.needForceWechatAuthed!==!0||checkWeixinAlert()){var b=$(this);b.val("正在提交"),setTimeout(function(){submitData(b,a)},100)}}),"tel"===a.type?w.on("click",function(){reloveTwoClickByISroll()&&apiHelper.getAppInstance().interactHit("telephone","")}):"multiselect"===a.type?multiSelectObj.bindEvent(w,a):"goods"===a.type?bindGoodsEvent(w,a):"file"===a.type?bindFileUploadEvent(w):"date"===a.type&&(Cool.util.checkIsPc()?w.find(".date-query").addClass("full"):w.find(".date-query").on("input",function(){$(this).val().length>0?$(this).addClass("full"):$(this).removeClass("full")}))),_isEditing&&a.hasOwnProperty("filter")&&($(w.find(".element-box")).css("-webkit-filter",a.filter.filter),$(w.find(".element-box")).css("filter",a.filter.filter)),_isEditing||_isPageThumb||a.hasOwnProperty("sensor")&&a.sensor.show&&(w.children(0).css("overflow","visible"),w.children(0).attr("data-depth",a.sensor.depth),w.children(0).addClass("layer")),!_isEditing&&window.wxInputFocusEvent&&(window.wxInputFocusEvent(w.find("input[type=text],input[type=tel]")),window.wxInputFocusEvent(w.find("textarea")),window.wxInputFocusEvent(w.find("select"))),w}function compileHtml(a,b){template.config("escape",!1);var c=template.compile(a);return c(b)}function bindGoodsEvent(a){var b=0,c=null;a.find(".goods-box .num-minus").off().on("click",function(){reloveTwoClickByISroll()&&(c=$(this).parent().find("input"),"readonly"!==c.attr("readonly")&&(b=parseInt(c.val(),10)-1,0>b||$(this).parent().find("input").val(b)))}),a.find(".goods-box .num-add").off().on("click",function(){reloveTwoClickByISroll()&&(c=$(this).parent().find("input"),"readonly"!==c.attr("readonly")&&(b=parseInt(c.val(),10)+1,$(this).parent().find("input").val(b)))})}function bindFileUploadEvent(a){a.find("input").off().on("change",function(b){if(reloveTwoClickByISroll()){var c=b.target.files||b.dataTransfer.files;if(void 0!==c[0]){var d=c[0].name,e=(c[0].size/1e3).toFixed(0);if(e>10240)winAlert("上传附近不能超过10MB"),resetFileInput(a);else{var f=(c[0].size/1e3).toFixed(0)+"KB";a.find(".file-content").html(d+"（"+f+"）")}}}})}function isLoadedSvg(a){return loadedSvgKey.indexOf(getMd5SvgFullSrc(a))>-1}function pushLoadedSvgKey(a){loadedSvgKey.push(getMd5SvgFullSrc(a))}function saveLoadedSvgXml(a,b){var c=getMd5SvgFullSrc(a);loadedSvgXml[c]=b}function getLoadedSvgXml(a){return loadedSvgXml[getMd5SvgFullSrc(a)]}function getMd5SvgFullSrc(a){return hex_md5(a)}function loadSvg(a){var b=(new Date).getTime();return a+="?timestamp="+b,$.ajax({url:a,type:"GET"})}function getSvgFullUrl(a){return null===a||void 0===a||""===a?"":handleImgUrl(a)}function handleSvgDocument(a,b){for(var c,d=$(a).length,e=0;d>e;e++)if("svg"==$(a)[e].tagName){c=$(a)[e];break}if(null===c||void 0===c)return null;var f={width:parseFloat(c.getAttribute("width")),height:parseFloat(c.getAttribute("height"))},g="0 0 "+f.width+" "+f.height;c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("preserveAspectRatio","none"),c.removeAttribute("baseProfile"),c.setAttribute("class","element-last"),c.getAttribute("viewBox")||c.setAttribute("viewBox",g);for(var h=$(c),i=h.find("[fill], [style*='fill:']"),j=0;j<b.fillColorList.length;j++)i.eq(j).css({fill:b.fillColorList[j].fill});return h}function isLiveVideo(a){var b=["yiqicam.com"],c=!1;if(a)for(var d=0;d<b.length;d++)if(a.indexOf(b[d])>-1){c=!0;break}return c}function fnAddUploadEvent(a,b,c,d){var e=getLibHost();AmdLoader.require(e+"rrxiu/image-upload/ImageFileUpload.js",function(e){var f=getServiceHostIfHttps(),g={fileInput:b.get(0),url:f+"extend/image/uploadImage",onProgress:function(){c.html("正在加载...")},onSelected:function(b,e){d.content.isForm?(fnShowUploadImage(a,d,b),c.html(d.content.title)):e.upload()},onSuccess:function(b){var e=handleImgUrl(b.url);fnShowUploadImage(a,d,e),c.html(d.content.title),!d.content.isForm&&d.content.noteValue&&triggerPageEvent(currentPageId,d.content.noteValue,e)},onFailure:function(a){c.html("加载失败"),!d.content.isForm&&d.content.noteValue&&triggerPageEvent(currentPageId,d.content.noteValue,"")}},h=e.getInstance();h.init(g)})}function fnShowUploadImage(a,b,c){var d=a.find("img");if(d&&d.length>0)d.attr("src",c);else{var e=$('<div class="uploadImage">'),f=document.createElement("div");f.style=b.style,e.css({position:"absolute",top:0,left:0,"background-color":f.style.backgroundColor,width:"100%",height:"100%",overflow:"hidden"}),d=$("<img />").attr({src:c}),e.append(d),a.prepend(e)}}function getServiceHostIfHttps(){if(appConfig.dev)return appConfig.serviceHost;if(_isWxMin)return appConfig.serviceHost;var a=appConfig.serviceHost;return wsiteInfo.flhtps||wsiteInfo.httpsEnabled?a.indexOf("https://")>-1?a:a.replace("http://","https://"):a}function getInteractServiceHostIfHttps(a){if(appConfig.dev||"undefined"==typeof rrxgpara)return appConfig.interactServiceHost;if(_isWxMin)return appConfig.interactServiceHost;var b=appConfig.interactServiceHost,c=wsiteInfo.wxp&&wsiteInfo.wxp.isSelfRedpack,d=wsiteInfo.wxp.canTransfer;return a&&appConfig.selfRedpackServiceHost&&(c||d)&&(b=appConfig.selfRedpackServiceHost),rrxgpara.renb&&rrxgpara.rdn&&(b="https://"+rrxgpara.rdn+"/"),b?wsiteInfo.flhtps||wsiteInfo.httpsEnabled?b.indexOf("https://")>-1?b:b.replace("http://","https://"):b:""}function getRrxiuFontCssHost(){if(appConfig.dev)return appConfig.rrxiuFontCssHost;if(_isWxMin)return appConfig.rrxiuFontCssHost;if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return appConfig.rrxiuFontCssHost.replace("http://","https://");var a=appConfig.rrxiuFontCssHost,b=Cool.util.isSpecDomain(a);if(b){var c=Cool.util.getUrlSubDomain(a);c&&-1===a.indexOf("://ns")&&(a=a.replace("://"+c,"://ns"+c),a=a.replace("https://","http://"))}return a}function getLibHost(){if(appConfig.dev||_isEditing)return appConfig.libHost;if(_isWxMin)return appConfig.libHost;if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return appConfig.libHost.replace("http://","https://");var a=appConfig.libHost,b=Cool.util.isSpecDomain(a);if(b){var c=Cool.util.getUrlSubDomain(a);c&&-1===a.indexOf("://ns")&&(a=a.replace("://"+c,"://ns"+c),a=a.replace("https://","http://"))}return a}function getAssetsHost(){if(appConfig.dev||_isEditing)return appConfig.assetsHost;if(_isWxMin)return appConfig.assetsHost;if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return appConfig.assetsHost.replace("http://","https://");var a=appConfig.assetsHost,b=Cool.util.isSpecDomain(a);if(b){var c=Cool.util.getUrlSubDomain(a);c&&-1===a.indexOf("://ns")&&(a=a.replace("://"+c,"://ns"+c),a=a.replace("https://","http://"))}return a}function getWebFontHost(){if(appConfig.dev)return appConfig.webFontHost;if(_isWxMin)return appConfig.webFontHost;if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return appConfig.webFontHost.replace("http://","https://");var a=appConfig.webFontHost,b=Cool.util.isSpecDomain(a);if(b){var c=Cool.util.getUrlSubDomain(a);c&&-1===a.indexOf("://ns")&&(a=a.replace("://"+c,"://ns"+c),a=a.replace("https://","http://"))}return a}function getVrHost(){if(appConfig.dev)return appConfig.vrHost;if(_isWxMin)return appConfig.vrHost;if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return appConfig.vrHost.replace("http://","https://");var a=appConfig.vrHost,b=Cool.util.isSpecDomain(a);if(b){var c=Cool.util.getUrlSubDomain(a);c&&-1===a.indexOf("://ns")&&(a=a.replace("://"+c,"://ns"+c),a=a.replace("https://","http://"))}return a}function getDataHost(){if(appConfig.dev)return appConfig.dataHost;if(_isWxMin)return appConfig.dataHost;var a=appConfig.dataHost;if(wsiteInfo&&wsiteInfo.datacdn&&(a=wsiteInfo.datacdn,a=wsiteInfo.flhtps||wsiteInfo.httpsEnabled?"https://"+wsiteInfo.datacdn+"/":"http://"+wsiteInfo.datacdn+"/"),wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return a.replace("http://","https://");var b=a,c=Cool.util.isSpecDomain(b);if(c){var d=Cool.util.getUrlSubDomain(b);d&&-1===b.indexOf("://ns")&&(b=b.replace("://"+d,"://ns"+d),b=b.replace("https://","http://"))}return b}function getFg(){return wsiteInfo?wsiteInfo.fg:""}function getCanVisitUrl(){return _isWxMin?!1:!0}function startTimedCount(a,b){timer_count=60,a.html(timer_count+"s"),timer_instance=setInterval(function(){console.log("timer_instance",1),timer_count-=1,0===timer_count?resetSMSButton(a,b):a.html(timer_count+"s")},1e3)}function resetSMSButton(a,b){clearInterval(timer_instance),a.html("获取验证码"),b.data("smsAuth","")}function fnBindSMSEvent(a,b,c,d){c.unbind().bind("click",function(){if(reloveTwoClickByISroll()){if(void 0===_dataObj.guid)return void winAlert("请发布系统后再操作！");if(!b.data("smsAuth")){var e=a.val();if(!e)return void winAlert(d.content.title+"不能为空！");var f=/^0?1[3|4|5|6|7|8|9][0-9]\d{8}$/;return f.test(e)?void verifyAlert(_host,_dataObj.guid,e,"",function(a){a.isVerify&&(c.val("发送中..."),b.data("smsAuth",a.data.guid),startTimedCount(c,b))}):void winAlert("手机号码格式不正确！")}}})}function addInteractCount(a,b){$.post(_host+"interactData/add",{form:{wsiteGuid:_dataObj.guid,pageId:b,elemId:a.id,name:a.content.name,fg:getFg(),wxOpenId:apiHelper.getAppInstance().weixinStrong.getWxOpenId()}},function(c){if(0===c.result){var d=apiHelper.getAppInstance().getElement(a.id,b);if(d.length>0){var e=d.find(".interactCount"),f=parseInt(c.data.count,10)+(null!==c.data.water?parseInt(c.data.water,10):0);e.html(f),d.children().css("color",a.content.selectedColor||"#47B859"),bindElementEvent(b,a)}}},"json")}function setInteractData(a,b){for(var c=0;c<a.length;c++)for(var d=a[c].elementList,e=0;e<d.length;e++)if("interact"===d[e].type){var f=b[_dataObj.guid+a[c].id+d[e].id]||{count:0,water:0};d[e].content.count=parseInt(f.count,10)+(null!==f.water?parseInt(f.water,10):0)}}function getAllPageInteractData(a){if(!_dataObj.pageList||void 0===_dataObj.guid||_isSetting||wsiteInfo.wsiteType>1)return void a();var b=_dataObj.pageList;_dataObj.dialogList&&_dataObj.dialogList.length>0&&(b=b.concat(_dataObj.dialogList));for(var c="",d=0;d<b.length;d++){var e=b[d].elementList;if(e)for(var f=0;f<e.length;f++)"interact"===e[f].type&&(c+=b[d].id+","+e[f].id+"|")}""!==c?(c=c.substr(0,c.length-1),$.post(_host+"interactData/get",{form:{wsiteGuid:_dataObj.guid,pageElemIds:c}},function(c){if(0===c.result){var d=c.data;setInteractData(b,d)}a()},"json")):a()}function getFormUseGoods(a){if(!_dataObj.pageList||void 0===_dataObj.guid||_isSetting||wsiteInfo.wsiteType>1)return void a();var b=_dataObj.pageList;_dataObj.dialogList&&_dataObj.dialogList.length>0&&(b=b.concat(_dataObj.dialogList));for(var c=!1,d=0;d<b.length&&!c;d++){var e=b[d].elementList;if(e)for(var f=0;f<e.length&&!c;f++)if("goods"===e[f].type){if(c)break;for(var g=e[f].content.list,h=0;h<g.length;h++)1==g[h].useStock&&(c=!0)}}c?$.ajax({url:getInteractServiceHostIfHttps()+"formdata/getUseGoods",type:"POST",data:{wsiteGuid:_dataObj.guid},dataType:"json",xhrFields:{withCredentials:!0}}).done(function(c){0===c.result&&updateGoodsStock(b,c.data),a()}).fail(function(b){console.error(b),a()}):a()}function updateGoodsStock(a,b){for(var c=0;c<a.length;c++)for(var d=a[c].elementList,e=0;e<d.length;e++)if("goods"===d[e].type)for(var f=0;f<b.length;f++)if(b[f].elementId==d[e].id)for(var g=d[e].content.list,h=0;h<g.length;h++)if(g[h].id==b[f].goodId){var i=b[f].stock-b[f].count;0>i?g[h].stock=0:g[h].stock=i,g[h].count=b[f].count,g[h].useStock=b[f].useStock,g[h].price=b[f].price}}function bindElementEvent(a,b,c){if(console.log("bindElementEvent",c,b.click),"plugin"!==b.type&&void 0!==b.click&&""!==b.click&&_isEditing===!1)if(c){viewLinkImage(b,c),playLinkAudio(a,b.id,b,c);var d=getPageObjById(a),e="click";d.longPage&&(e="click",c.on(e,function(c){c.preventDefault(),c.stopPropagation(),"gotop"==b.click.type&&goLongPageTop(a)})),c.on(e,function(c){if(reloveTwoClickByISroll())if(isNavigateToSysSpecPage(b.click.type))_excuteElementEvent(a,b);else if(void 0!==b.click.type&&void 0!==b.click.value&&""!==b.click.value)if("mini"==b.click.type){var d=b.click||{};d.height=b.height,d.width=b.width,winAlert(b.click.value)}else _excuteElementEvent(a,b)})}else if(isNavigateToSysSpecPage(b.click.type))_excuteElementEvent(a,b);else if(void 0!==b.click.type&&void 0!==b.click.value&&""!==b.click.value)if("mini"==b.click.type){var f=b.click||{};winAlert("提交成功",null,!1,f)}else _excuteElementEvent(a,b)}function isNavigateToSysSpecPage(a){var b=["share","menu","focus","closeDialog","openInvite"];return $.inArray(a,b)>-1}function goLongPageTop(a){$("body,html").animate({scrollTop:0},500)}function _excuteElementEvent(a,b){if("plugin"!=b.type)if("url"==b.click.type)b.click.value.length>8&&(apiHelper.getAppInstance().interactHit("link",""),setTimeout(function(){apiHelper.getAppInstance().urlAuditVisit(b.click.value)},80));else if("page"==b.click.type){dialogCloseAll();var c=!1;$page&&1==$page.data("long")&&(c=!0),c?setTimeout(function(){goToPageById(b.click.value)},500):goToPageById(b.click.value)}else if("event"==b.click.type)dialogCloseAll(),triggerPageEvent(a,b.click.value);else if("share"===b.click.type)dialogCloseAll(),apiHelper.getAppInstance().showShareDialog("");else if("alert"===b.click.type)winAlert(b.click.value,!1,!1,b.click.extraParams);else if("focus"===b.click.type)dialogCloseAll(),showFocusWechat();else if("menu"===b.click.type)dialogCloseAll(),showTopMenu();else if("openInvite"===b.click.type)dialogCloseAll(),closeTopMenuPanel(),openWsiteInvite();else if("tel"===b.click.type)window.location.href="tel:"+$.trim(b.click.value);else if("sms"===b.click.type)window.location.href="sms:"+$.trim(b.click.value);else if("mini"===b.click.type)"miniprogram"===window.__wxjs_environment&&wx.miniProgram.navigateTo({url:b.click.pagepath,success:function(a){},fail:function(a){}});else if("openDialog"===b.click.type)dialogOpen(a,b.click.value);else if("closeDialog"===b.click.type)dialogClose(a);else if("danmu"===b.click.type&&(dialogCloseAll(),isShowDanmu()))if(getCommentLikeCount(),getCommentList(),wsiteInfo.authBehind){var d=apiHelper.getAppInstance().weixinStrong.getAuthedInfo();""!==d.id&&null!==d.id&&void 0!==d.id&&(authUserInfo=d),setTimeout(function(){showDanmuEvent()},300)}else if(null===authUserInfo){var e={stid:currentPageId,clickType:"danmu"};console.log(e),e=null,apiHelper.getAppInstance().weixinStrong.auth(function(a){authUserInfo=a,setTimeout(function(){showDanmuEvent()},300)},e)}}function _excutePluginElementEvent(a,b){}function dialogOpen(a,b){$(".page_"+b).css({zIndex:800,display:"block"}),playPageByPageId(b),apiHelper.getAppInstance().stopFlip(),setTimeout(function(){regPageEndEvent(b),pageCodeLoad(b,apiHelper.getAppInstance()),_isEditing||loadPluginEvent(b)},1e3)}function dialogClose(a){$(".page_"+a).css({zIndex:0,display:"none"}),triggerPluginLeaveEvent(a,!0),triggerPageEvent(currentPageId,"sys_dialogClose",a),pausePageAudio(a),apiHelper.getAppInstance().resetFlip()}function dialogCloseAll(){$(".dialog-page").css({zIndex:0,display:"none"}),apiHelper.getAppInstance().resetFlip()}function viewLinkImage(a,b){"img"===a.type&&a.click&&""!==a.click.image&&void 0!==a.click.image&&(b.on("touchstart",function(c){b.find(".element-last").attr("src",handleImgUrl(a.click.image))}),b.on("touchend",function(c){setTimeout(function(){b.find(".element-last").attr("src",handleImgUrl(a.content.src))},600)}))}function playLinkAudio(a,b,c,d){c.click&&""!==c.click.audio&&(d.on("mousedown touchstart",function(d){rrxdebug&&console.error("playLinkAudio3",d);var e="link-"+a+"-"+b,f=document.getElementById(e);f?f.play():(f=document.createElement("audio"),f.setAttribute("id",e),f.setAttribute("style","opacity:0;width:1px;height:1px"),f.setAttribute("src",apiHelper.getAppInstance().musicPreFix(c.click.audio)),f.setAttribute("preload",!0),$("#main").append(f),f.play())}),d.on("touchend",function(a){}))}function createHref(a,b){var c="";switch(a){case"tel":c="tel:"+b;break;case"sms":c="sms:"+b}return c}function isPreview(){return void 0===appConfig.preView?!0:1==appConfig.preView}function getShape(a){var b="../images/shape_",c=".png";return"line"!=a?b+a+c:void 0}function getLineStrokeDasharray(a,b){if("solid"==a)return'stroke-dasharray="none"';if("dotted"==a){var c=2*b;return'stroke-dasharray="'+c+","+c+'"'}}function pluginIsModule(a){return void 0!==a&&a.length>0}function pluginIsFull(a){return a===PLUGIN_SIZE_TYPE.FULL}function pluginIsAuto(a){return a===PLUGIN_SIZE_TYPE.AUTO}function pluginIsFixed(a){return a===PLUGIN_SIZE_TYPE.FIXED}function pluginIsScale(a){return a===PLUGIN_SIZE_TYPE.SCALE}function pluginIsTop(a){return"1"===a}function pluginIsGame(a){return"3"===a||"4"===a}function wrapElement(a,b){var c,d,e;if(_isEditing){var f=$('<div class="element-inner"></div>');e=b.style+"width: 100%; height: 100%;",("goods"===b.type||"smsCheck"===b.type||"time"===b.type||"city"===b.type||"multiselect"===b.type)&&(e="width: 100%; height: 100%;"),f.attr("style",e),f.css("position",""),"div"!==b.type&&"goods"!==b.type&&f.css("overflow","hidden"),f.css("left",""),f.css("top",""),f.css("z-index",""),void 0!==b.rotate&&(f.css("-webkit-transform","rotate("+b.rotate+"deg) translateZ(0)"),f.css("transform","rotate("+b.rotate+"deg) translateZ(0)"));var g=$('<div class="element-box" style="width: 100%; height: 100%;"></div>');return void 0!==b.opacity&&"video"!==b.type&&f.css("opacity",b.opacity),"div"===b.type&&"[object Object]"!=b.content?(c=$(a),c.has("img").length>0&&(d=c.find("p"),d.css("display","none"),c.find("img").css("display","block")),"vertical"===b.textDirec?(g.css("width","auto"),g.css({padding:b.padding+"px","-webkit-writing-mode":"vertical-rl","writing-mode":"vertical-rl"})):g.css({padding:b.padding+"px","-webkit-writing-mode":"horizontal-tb","writing-mode":"horizontal-tb"}),c.length>0?a=c[0].outerHTML:console.info(b)):"plugin"!==b.type&&g.addClass("element-radius"),g.html(a),f.html(g)}var h=$("<div ></div>");if(e=b.style+"width: 100%; height: 100%;",("goods"===b.type||"smsCheck"===b.type||"time"===b.type||"city"===b.type||"multiselect"===b.type)&&(e="width: 100%; height: 100%;"),h.attr("style",e),h.css("position",""),"div"!==b.type&&"goods"!==b.type&&h.css("overflow","hidden"),h.css("left",""),h.css("top",""),h.css("z-index",""),void 0!==b.opacity&&"video"!==b.type&&h.css("opacity",b.opacity),void 0!==b.rotate&&(h.css("-webkit-transform","rotate("+b.rotate+"deg) translateZ(0)"),h.css("transform","rotate("+b.rotate+"deg) translateZ(0)")),"div"===b.type&&"[object Object]"!==b.content){var i={};c=$(a),"vertical"===b.textDirec?(h.css("width","auto"),i={padding:b.padding+"px","-webkit-writing-mode":"vertical-rl","writing-mode":"vertical-rl"}):i={padding:b.padding+"px","-webkit-writing-mode":"horizontal-tb","writing-mode":"horizontal-tb"},b.isLongText&&(i.overflow="",h.addClass("txt-long-iscroll")),h.css(i),c.has("img").length>0&&(d=c.find("p"),d.css("display","none"),c.find("img").css("display","block")),c.length>0&&(a=c[0].outerHTML)}return void 0!==arguments[2]&&"img"===b.type?(h.addClass("image-border-two"),h.html(a),h.append(arguments[2])):h.html(a),h}function submitData(a,b){var c=b.content;if(!c.hasSubmit){if(c.hasSubmit=!0,null===_dataObj)return c.hasSubmit=!1,void a.val(c.content);$page=a.parents(".pt-page");var d=$page.data("id");if("1"!=c.submitType){var e=_$canvas.find(".pt-page"),f=[];$.each(e,function(a,b){var c=$(b);c.data("id")==d&&f.push(b),f.push(b)}),$page=$(f)}var g="",h=c.smsReminder,i=c.smsText,j=c.maxCounter,k=!1;if($page){var l=[],m=controlsOrderByTop(),n=0;$.each(m,function(a,b){var c={result:1,msg:"提交失败"};if("input"===b.type||"select"===b.type||"date"===b.type||"time"===b.type||"multiselect"===b.type||"city"===b.type||"file"===b.type||"goods"===b.type?c=getPageInputSelect(b):"checkbox"===b.type||"radio"===b.type?c=getPageCheckRadio(b):"rating"===b.type?c=getPageRating(b):"uploadImage"==b.type&&(c=getPageUploadImage(b)),"goods"===b.type&&""!==c.value){if(1===c.result)return l=[],winAlert(c.msg),k=!0,!1;for(var d=JSON.parse(c.value),e=0;e<d.length;e++)n+=parseFloat(d[e].price*d[e].count)}else if(1===c.result)return l=[],winAlert(c.msg),k=!0,!1;h&&!g&&"3"==b.inputType&&(g=c.value),c.required=b.required,c.title=b.title,l.push(c)});var o=[];if(!k){var p=controlBysmsCheck();$.each(p,function(a,b){var c=getPagesmsCheck(b);return 1===c.result?(winAlert(c.msg),l=[],o=[],!1):(h&&!g&&(g=c.item.value),l.push(c.item),void o.push(c.codeItem))})}if(l.length>0){var q=apiHelper.getAppInstance().weixinStrong.getAuthedInfo().id;if(n=parseFloat(n,10).toFixed(2),n>0)return Cool.util.checkIsWeixin()||appConfig.dev?void winAlert("表单中有未支付的商品，您需要支付『"+n+"元』人民币。",function(e){e?submitDataMethod(d,l,b,a,g,o,h,i,j,q):(c.hasSubmit=!1,a.val(c.content))},!0):(winAlert("表单中有未支付的商品，需要在微信中打开！"),c.hasSubmit=!1,void a.val(c.content));submitDataMethod(d,l,b,a,g,o,h,i,j,q)}else c.hasSubmit=!1,a.val(c.content)}}}function submitDataMethod(a,b,c,d,e,f,g,h,i,j){var k=c.content;uploadFileCallBack(b,function(l){for(var m=0;m<l.length;m++)if(l[m].required&&""===l[m].value&&("file"===l[m].type||"uploadImage"===l[m].type))return l[m].msg?winAlert(l[m].msg):winAlert("请上传"+l[m].title),
k.hasSubmit=!1,void d.val(k.content);b=l;var n=JSON.stringify(b),o="";f.length>0&&(o=JSON.stringify(f));var p={smsReminder:g,smsText:h,maxCounter:i,reminderPhone:e},q=_dataObj.guid,r=apiHelper.getAppInstance().weixinStrong.getAuthedInfo(),s={openId:r.id,wsiteGuid:q,pageId:a,data:n,smsData:o,strategyData:p,fg:getFg()};s=appendChannelParams(s),$.post(getInteractServiceHostIfHttps()+"formdata/add",{form:s},function(b){if(0===b.result){if((""===c.click||void 0===c.click||"none"==c.click.type)&&(c.click={type:"alert",value:"提交成功"}),"alert"===c.click.type&&""===$.trim(c.click.value)&&(c.click.value="提交成功"),console.warn("_log.getVisitCount()",_log.getVisitCount()),_log.getVisitCount()>50&&"customer"!=_copyrightFrom&&"na"!=_copyrightFrom&&"alert"===c.click.type&&(c.click.extraParams={isShowGG:!0,ggImg:"https://file2.rrxh5.cc/g1/2021/05/28/1622188829966.gif",ggLink:"https://engine.lghsrh.com/index/activity?appKey=2pFfUYVHYMd63nyFtbCt6PrBNPPs&adslotId=388717&uk_a1=__IMEI__&uk_a2=__IMEI2__&uk_a3=__MUID__&uk_b1=__IDFA__&uk_b2=__IDFA2__&uk_c1=__OAID__",key:"formdata"+q}),b.data.needPay){var e=c.click.value;/[\u4E00-\u9FA5]/g.test(e)&&(e="");var f=b.data.formDataGuid;return void(window.location.href=appConfig.wxPayHost+"goods.html?stid="+a+"&clickType="+c.click.type+"&clickValue="+e+"&wsiteGuid="+q+"&formDataGuid="+f+"&wxOpenId="+j)}$page.find(".input-query").val("").focus(),$page.find(".custom-input").val(""),$page.find(".control-outer .option").attr("checked",!1),$page.find(".rating-outer .rate .selected").css("color","inherit"),$page.find(".rating-outer .rate .selected").removeClass("selected"),$($page.find(".uploadImage-query .uploadImage")).remove(),$page.find(".city-query").length>1&&$page.find(".city-query").resetCityInfo(),$page.find(".date-query").val(""),$page.find(".date-query").removeClass("full"),$page.find(".time-query .time-select select").val("-1");for(var g=$page.find(".file-element-box"),h=0;h<g.length;h++)resetFileInput($(g[h])),$(g[h]).find(".file-content").html('<span class="fb_plus">+</span><p class="fb_text">上传文件（需小于10MB）</p>');for(var i=$page.find(".select-query"),l=0;l<i.length;l++){var m=i.eq(l);m.val(m.attr("title"))}for(var n=$page.find(".smsCheck-query"),o=0;o<n.length;o++){var p=n.eq(o);p.find(".smsPhone").val("").focus();var r=p.find(".smsCode");r.val("").focus(),resetSMSButton(p.find(".smsButtom"),r)}k.hasSubmit=!1,d.val(k.content),bindElementEvent(a,c)}else if(k.hasSubmit=!1,d.val(k.content),winAlert(b.msg),"goods"==b.errorCode){var s=b.errorData.stock;0>s&&(s=0),$("#stock-"+b.errorData.elementId+"-"+b.errorData.goodId).html(s)}d.focus()},"json")})}function resetFileInput(a){var b=a.find("input");b.after(b.clone().val("")),b.remove(),bindFileUploadEvent(a)}function uploadFileCallBack(a,b){var c=!1,d=0,e=function(){d===a.length-1&&b(a),d++};$.each(a,function(f,g){"uploadImage"==g.type?g.value.indexOf("data:image")>-1?(c=!0,fnUplaodImage(g.value,function(a){g.value=a,e()})):(c&&d===a.length-1&&b(a),d++):"file"==g.type?(c=!0,fnUploadFile(g.value,function(a){0===a.result?g.value=a.data.savedName:(g.value="",console.info(a),g.msg=a.msg),e()})):(c&&d===a.length-1&&b(a),d++)}),c||d!==a.length||b(a)}function fnUploadFile(a,b){var c=getInteractServiceHostIfHttps(),d=new FormData;d.append("file",a),$.ajax({url:c+"formdata/upload",type:"POST",cache:!1,data:d,processData:!1,contentType:!1}).done(function(a){b(a)}).fail(function(a){b({result:1,msg:JSON.stringify(a)})})}function fnUplaodImage(a,b,c){var d=getServiceHostIfHttps();$.ajax({url:d+"extend/image/uploadImage",type:"POST",data:{imageContent:a},dataType:"json",async:c||!1}).then(function(a){var c="";return 0!==a.result?void winAlert(a.msg,function(){b&&b(c)}):(c=handleImgUrl(a.data.url),void(b&&b(c)))})}function controlsOrderByTop(){var a=["input","select","checkbox","radio","rating","uploadImage","date","time","city","file","multiselect","goods"],b=[],c=$page.data("id"),d=getPageObjById(c);return $.each(a,function(a,c){for(var e=$page.find("."+c+"-query"),f=0;f<e.length;f++){var g=e.eq(f),h=1e4*(0|d.sort),i=g.data("id"),j=$page.find(".element_"+i),k=h+parseInt(j.css("top"),10),l=!1,m=!1,n="",o="",p="",q="";l=g.data("required"),m=g.data("unique"),n=g.attr("title"),"goods"===c&&(l=j.find(".element-last").data("required"));var r=0,s=[];if("city"===c)o=g.getCityInfoWithSplit();else if("multiselect"===c){for(s=g.children(),r=0;r<s.length;r++){var t=$(s[r]).find("select").val();t&&"-1"!=t&&(o+=$(s[r]).find("select").find("option:selected").text()+",")}o=o.replace(/\s+/g,""),""!==o&&(o=o.substr(0,o.length-1))}else if("time"===c)for(s=g.children(),r=0;r<s.length;r++){var u=$(s[r]).find("select").val();("时"===u||"-1"===u||"分"===u||"秒"===u)&&(u=""),o+=u}else if("select"===c)o=g.val()===n?"":g.val();else if("file"===c)g.length>0&&g[0].files&&g[0].files.length>0&&(o=g[0].files[0]);else if("goods"===c){s=g.children();var v=[];for(r=0;r<s.length;r++){var w=$(s[r]).find(".number-container input").val();if(w=parseInt(w,10),w=isNaN(w)?0:w,w>0){var x=$(s[r]).data("price");x=parseFloat(x,10),x=x.toFixed(2),v.push({id:$(s[r]).data("id"),name:$(s[r]).data("name"),price:x,useStock:$(s[r]).data("usestock"),stock:$(s[r]).data("stock"),count:w})}}o="",v.length>0&&(o=JSON.stringify(v))}else o=$.trim(g.val());var y={top:k,id:i,type:c,required:l,unique:m,value:o,title:n,inputType:"input"===c?j.attr("inputtype"):-1};p&&(y.province=p,y.fullAddr=q),b.push(y)}}),b.length>1&&b.sort(function(a,c){return a.top-c.top||b.indexOf(a)-b.indexOf(c)}),b}function getPageInputSelect(a){var b=a.type,c=a.id,d=a.required,e=a.value;"file"!==a.type&&(e=$.trim(a.value));var f=a.title;if("input"===b){var g=/^0?1[3|4|5|6|7|8|9][0-9]\d{8}$/,h=/^[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}$/;if(d&&""===e)return{result:1,msg:f+"不能为空！"};if(""!==e){if(!("邮箱"!==a.title&&"2"!=a.inputType||h.test(e)))return{result:1,msg:"输入的邮箱格式不正确！"};if(!("3"!=a.inputType&&"手机"!==a.title&&"手机号"!==a.title&&"手机号码"!==a.title||g.test(e)))return{result:1,msg:"输入的手机号码格式不正确！"};if("5"==a.inputType||"身份证"===a.title||"身份证号"===a.title||"身份证号码"===a.title){var i=IdentityCodeValid(e);if(1==i.result)return i}}}else if("goods"===b){if(d&&""===e)return{result:1,msg:"请选择"+f};if(""!==e)for(var j=JSON.parse(e),k=0,l=0;l<j.length;l++)if(k+=j[l].price*j[l].count,1==j[l].useStock&&j[l].count>j[l].stock)return{result:1,msg:j[l].name+"购买数据不能大于库存数"}}else if(d){if(""===e){var m="";return m="file"===b?"请上传"+f:"请选择"+f,{result:1,msg:m}}if("city"==b){var n=$page.find(".element_"+c+" .city-query").checkCityInfoInput();if(n.result>0)return n}else if("multiselect"==b&&e.split(",").length<2)return{result:1,msg:"请完善"+f}}var o={};return o.id=c,o.value=e,o.type=b,o.inputType=a.inputType,o.unique=a.unique,o}function getPageCheckRadio(a){var b=$page.find(".element_"+a.id).find(".option"),c=!1,d={id:0,value:"",type:a.type};d.id=a.id;for(var e="",f=a.required,g=0;g<b.length;g++){var h=b.eq(g);h.data("id");if(h.is(":checked")&&(c=!0,e+=h.attr("title").replace("|"," ")+"|"),f&&!c&&g===b.length-1)return{result:1,msg:a.title+"未选择项目!"}}return d.value=""!==e?e.substring(0,e.length-1):"",d}function getPageRating(a){var b=$page.find(".element_"+a.id),c=b.find(".rate .selected"),d=c.length,e={id:a.id,value:d+"星",type:a.type},f=a.required;return f&&1>d?{result:1,msg:a.title+"未评分!"}:e}function getPageUploadImage(a){var b=$page.find(".element_"+a.id),c=b.find("img"),d="";c&&c.length>0&&(d=c.attr("src"));var e={id:a.id,value:d,type:a.type},f=a.required;return f&&!d?{result:1,msg:a.title+"未上传!"}:e}function controlBysmsCheck(){for(var a=[],b="smsCheck",c=$page.find("."+b+"-query"),d=0;d<c.length;d++){var e=c.eq(d),f=e.data("id"),g=e.find(".smsPhone"),h=e.find(".smsCode");a.push({id:f,type:b,value:g.val(),codeValue:h.val(),codeAuth:h.data("smsAuth"),title:e.attr("title"),unique:g.data("unique")})}return a}function getPagesmsCheck(a){var b="";if(!a.value)return b=a.title+"不能为空！",{result:1,msg:b};if(!a.codeValue)return b=a.title+"验证码不能为空！",{result:1,msg:b};var c=/^0?1[3|4|5|6|7|8|9][0-9]\d{8}$/;return c.test(a.value)?{item:{id:a.id,value:a.value,type:a.type,unique:a.unique},codeItem:{value:a.value,code:a.codeValue,codeAuth:a.codeAuth}}:(b="手机号码格式不正确！",{result:1,msg:b})}function playAnimation(a,b,c,d,e){var f=null;f=_isEditing?$.extend(!0,{},c):c,e&&!_isEditing?($p=getPageDomById(e),$item=$p.find(".element_"+b)):$item=a.find(".element_"+b),doEleAnimation($item,f,d,e)}function doEleAnimation(a,b,c,d){var e=0;if(0===b.delay||_isEditing||void 0!==c&&c!==!1||(e=b.delay),"css"==_animationEngine)-1===b.repeat&&_isEditing||(b.type&&1===parseInt(b.type)?CssAnimationEngine.textAnimation(a,b.name,e,b.duration,b.repeat,b.repeatDelay,c,_isEditing,b.textDirection):CssAnimationEngine.animation(a,b.name,e,b.duration,b.repeat,b.repeatDelay,c,_isEditing));else{for(var f=0;f<preAnimationList.length;f++)preAnimationList[f].pageId===currentPageId&&preAnimationList[f].elementId===elementId&&preAnimationList[f].animationName===b.name&&preAnimationList[f].animation.seek(preAnimationList[f].animation.totalDuration());var g=JsAnimationEngine.animation(a,b.name,e,b.duration,b.repeat,b.repeatDelay,c);preAnimationList.push({pageId:currentPageId,elementId:elementId,animationName:b.name,animation:g})}}function playSecondAnimation(a,b,c,d){setTimeout(function(){playAnimation(a,b.id,c,!0,d)},1e3*c.delay)}function playElement(a,b,c){if(void 0!==b.animationList){for(var d,e=0,f=0,g=0;g<b.animationList.length;g++)d=b.animationList[g],(void 0===d.trigger||0===parseInt(d.trigger))&&(d.duration+d.delay>f&&(f=d.duration+d.delay),e>0&&0!==d.delay?playSecondAnimation(a,b,d,c):playAnimation(a,b.id,d,!1,c),e++);return f}}function getPageObjById(a){if("loadingpage"==a){if(void 0!==_dataObj.loadingpage&&void 0!==_dataObj.loadingpage.title)return _dataObj.loadingpage}else if("sharepage"==a){if(void 0!==_dataObj.sharepage)return _dataObj.sharepage}else if("floorpage"==a){if(void 0!==_dataObj.floorpage)return _dataObj.floorpage}else if("toppage"==a){if(void 0!==_dataObj.toppage)return _dataObj.toppage}else{var b=0;if(void 0!==_dataObj.pageList)for(b=0;b<_dataObj.pageList.length;b++)if(_dataObj.pageList[b].id==a)return _dataObj.pageList[b];if(void 0!==_dataObj.dialogList)for(b=0;b<_dataObj.dialogList.length;b++)if(_dataObj.dialogList[b].id==a)return _dataObj.dialogList[b]}return null}function getNextPageIdObjById(a){if(void 0===_dataObj.pageList)return 0;var b=0,c=_dataObj.pageList.length;for(b=0;c>b;b++)if(_dataObj.pageList[b].id==a)return b+1>=c?0:_dataObj.pageList[b+1].id;return 0}function getPrePageIdObjById(a){if(void 0===_dataObj.pageList)return 0;var b=0,c=_dataObj.pageList.length;for(b=0;c>b;b++)if(_dataObj.pageList[b].id==a)return 0===b?_dataObj.pageList[c-1].id:_dataObj.pageList[b-1].id;return 0}function parsePageBackgroundColor(a,b){var c=$("<div class='pt-page-bg-box' style='width:100%;height:100%;cursor: default;'></div>");void 0!==a&&null!==a&&(c=fillPageBgColorDomAttr(c,a),b.append(c))}function getPageType(a){return a.pageType?parseInt(a.pageType,10):1}function fillPageBgColorDomAttr(a,b){var c=1;void 0!==b.backgroundColorType&&null!==b.backgroundColorType&&(c=parseInt(b.backgroundColorType,10));var d="#FFFFFF",e=1,f=getPageType(b);return void 0!==b.backgroundAlpha&&""!==b.backgroundAlpha&&(e=2===f?(100-b.backgroundAlpha)/100:b.backgroundAlpha/100),1===c?(void 0!==b.backgroundColor&&""!==b.backgroundColor&&(d=b.backgroundColor),a.css({opacity:e,backgroundColor:d})):2===c&&b.bgGradien&&(a.css({opacity:e,backgroundColor:b.bgGradien.bgColor}),a.addClass(b.bgGradien.gradientClassName)),a}function parsePageBackground(a){var b=$("<div class='pt-page-bg-box' style='width:100%;height:100%;cursor: default;'></div>");if(void 0===a||null===a)return b;if(b=fillPageBgColorDomAttr(b,a),void 0!==a.backgroundImage&&null!==a.backgroundImage&&""!==a.backgroundImage){var c=handleImgUrl(a.backgroundImage);b.css("background-image","url("+c+")"),b.css("background-repeat","no-repeat"),b.css("background-size","cover"),b.css("background-position","center top")}return b}function parsePageBackgroundFixMode(a,b){if(void 0!==a&&null!==a){var c=$("<div class='pt-page-bg-box' style='width:100%;height:100%;cursor: default;'></div>");c=fillPageBgColorDomAttr(c,a),void 0!==a.backgroundImage&&null!==a.backgroundImage&&""!==a.backgroundImage?(b.append(c),parsePageBackgroundImage(a,b)):b.append(c)}}function isLongPageFixMode(a){return!a.longPage||void 0!==a.longPagebgMode&&1!==parseInt(a.longPagebgMode)?!1:!0}function parsePageBackgroundImage(a,b){if(void 0!==a&&null!==a){var c=1;getPageType(a);if(void 0!==a.backgroundAlpha&&""!==a.backgroundAlpha&&(c=a.backgroundAlpha/100),void 0!==a.backgroundImage&&null!==a.backgroundImage&&""!==a.backgroundImage){var d=$("<div class='element element_pagebg'></div>"),e=$('<img class="pagebg_img">'),f=handleImgUrl(a.backgroundImage);if(e.attr("src",f),void 0===a.backgroundView){var g=Math.ceil(_$canvas.width()/_pt_inner_scale_value),h=Math.ceil(_$canvas.height()/_pt_inner_scale_value),i=isLongPageFixMode(a);!a.longPage||i?d.css({position:a.longPage?"fixed":"absolute",left:0,top:0,zIndex:0,height:h,width:g,backgroundImage:"url("+f+")",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:i?"top center":"center center",opacity:c}):(d.append(e),d.css({position:"absolute",left:0,top:0,zIndex:0,height:g,width:h,opacity:c})),b.append(d)}else{var j="",k=!1;j=_isEditing?window.rrxiuWsiteCrateTime:wsiteInfo.loading.createTime,j&&appConfig.startTimeParseBgImgNew&&j>appConfig.startTimeParseBgImgNew&&(k=!0);var l,m,n,o,p,q,r;if(q=Math.ceil(_$canvas.width()/_pt_inner_scale_value),r=Math.ceil(_$canvas.height()/_pt_inner_scale_value),testAlert("_pt_inner_scale_value"+_pt_inner_scale_value),testAlert("canvas-w"+_$canvas.width()),testAlert("canvas-h"+_$canvas.height()),k){l=a.backgroundImageNaturalWidth/a.backgroundImageNaturalHeight;var s=1;a.backgroundImageNaturalWidth===a.backgroundView.width?(testAlert("NaturalWidth "+a.backgroundImageNaturalWidth),testAlert("viewWidth "+a.backgroundView.width),s=a.backgroundView.width/q,m=q,n=m/l):(s=a.backgroundView.width/q,m=a.backgroundImageNaturalWidth/s,n=m/l),p=void 0===a.backgroundView?0:a.backgroundView.x/s,o=void 0===a.backgroundView?0:a.backgroundView.y/s}else{var t=1010;a.backgroundImageNaturalHeight>=1008&&a.backgroundImageNaturalHeight<=1010?t=1010:a.backgroundImageNaturalHeight>1010?t=1100:a.backgroundImageNaturalHeight>1100&&(t=a.backgroundImageNaturalHeight),l=a.backgroundImageNaturalWidth/a.backgroundImageNaturalHeight;var u=a.backgroundImageNaturalHeight/t;n=t;var v=1;a.backgroundView.height*u<t&&(v=t/a.backgroundView.height*u,n=t*v),m=l*n,o=void 0===a.backgroundView?0:a.backgroundView.y*v/u,o<1/_pt_inner_scale_value&&(o=1/_pt_inner_scale_value),p=void 0===a.backgroundView?0:a.backgroundView.x*v/u,640==a.backgroundView.width&&a.backgroundView.height>1100&&(m=a.backgroundView.width,n=a.backgroundView.height)}if(m=Math.ceil(m),n=Math.ceil(n),!a.longPage||isLongPageFixMode(a)){var w=m/n,x="",y=r>n,z=q>m;y&&z?(x="h",m>n&&(x="w")):y?x="h":z&&(x="w"),testAlert("refsize"+x),"h"===x?(n=r,m=Math.ceil(n*w)):"w"===x&&(console.log("spec w"),m=q,n=Math.ceil(m/w)),testAlert("refsizedw"+m+" dh "+m),""!==x&&(p=(m-q)/2,o=0)}testAlert(m+" "+n+" "+p+" "+o),e.css({width:m,height:n,marginLeft:-p,marginTop:-o}),d.append(e),testAlert(q+" "+q+" "+p+" "+o),d.css({position:"absolute",left:0,top:0,zIndex:0,minWidth:640,height:"100%",width:"100%",opacity:c}),b.append(d)}}}}function testAlert(a){}function parsePage(a){var b=$("<div class='pt-page-element-list-box' style='width:100%;height:100%;position: absolute;top:0;left: 0;'></div>");if(void 0===a||null===a)return b;if(null!==a&&(void 0===a||void 0===a.elementList))return b;for(var c=Cool.util.checkIsMobile(),d=0;d<a.elementList.length;d++){var e=a.elementList[d];"html"===e.type&&e.content.fullscreen&&(e.left=0,e.top=0,e.width=640,e.height=a.longPage?a.height:1010);var f=parseElement(e,a.id,a.longPage),g=!1;"submit"!==e.type&&"interact"!==e.type&&"audio"!==e.type&&"video"!==e.type&&bindElementEvent(a.id,e,f),"input"===e.type&&(_isEditing||setInputPlaceholderColor(f.find(".input-query.element-last"),"",f,e)),"smsCheck"===e.type&&(_isEditing||(setInputPlaceholderColor(f.find(".smsPhone.element-last"),"",f,e),setInputPlaceholderColor(f.find(".smsCode.element-last"),"",f,e))),"img"===e.type&&(g=e.canFloat),!_isEditing&&g&&a.longPage&&f.css("position","fixed"),"plugin"!==e.type||_isEditing||!pluginIsGame(e.content.levelId)&&pluginIsFull(e.content.sizeType)&&pluginIsTop(e.content.isTop)&&"答题"!==e.content.name&&"问答"!==e.content.name&&f.css("background-color","#ffffff"),b.append(f)}if(!_isEditing&&!c&&a.longPage){var h=$("<div></div>");return h.attr("class","iscroll_wrapper"),h.attr("id","iscroll_wrapper"+a.id),b.css("height",a.height),h.html(b),h}return b}function setInputPlaceholderColor(a,b,c,d){var e="11px 0 0 6px",f=a.height(),g={color:b};if(window.rrxMobileViewportScale&&window.rrxMobileViewportScale>0&&window.rrxMobileViewportScale<1){var h=f*window.rrxMobileViewportScale/2-5+"px";e=h+" 0 0 6px"}"smsCheck"==d.type&&(e="0",g.height=a.parent().css("height"),g.lineHeight=a.parent().css("line-height"),console.log(a.parent())),g.margin=e,console.log(f),a.placeholder({labelMode:!0,labelStyle:g,labelAlpha:!0,labelAcross:!0})}function setPageArrowIcon(a){var b=getPageObjById(a);if(b)if(b.hasOwnProperty("arrowImgUrl")&&""!==b.arrowImgUrl&&null!==b.arrowImgUrl){"icon_arrow_1.png"===b.arrowImgUrl&&(b.arrowImgUrl="icon_arrow2.png");var c=handleImgUrl(b.arrowImgUrl);"down"===flipWay?$(".arrow-down p").css("background-image","url("+c+")"):$(".arrow-right p").css("background-image","url("+c+")")}else"down"===flipWay?$(".pt-wrapper .arrow-down p").css("background-image",""):$(".pt-wrapper .arrow-down p").css("background-image","")}function outPage(a,b,c,d){_$outpageWrapper=d;var e=$("<div></div>");e.css("width",b),e.css("height",c),createWrapper(e,a),_$canvas=e;var f=e.find(".pt-inner");if(_isEditing){var g=isPagebgColorOpacity(a);g?f.append('<div class="pt-page pt-page-current pt-page-background-image"></div>'):f.append('<div class="pt-page pt-page-current pt-page-background-image" style="background-image:none;"></div>')}else f.append('<div class="pt-page pt-page-current"></div>');var h=f.find(".pt-page");return a.longPage?void 0===a.longPagebgMode||1===parseInt(a.longPagebgMode)?(parsePageBackgroundFixMode(a,h),h.append(parsePage(a))):(parsePageBackgroundColor(a,h),h.append(parsePage(a)),parsePageBackgroundImage(a,f.find(".pt-page-element-list-box"))):void 0===a.backgroundImageNaturalWidth||void 0===a.backgroundView?(f.find(".pt-page").append(parsePageBackground(a)),f.find(".pt-page").append(parsePage(a))):(parsePageBackgroundColor(a,h),h.append(parsePage(a)),parsePageBackgroundImage(a,f.find(".pt-page-element-list-box"))),e}function isPagebgColorOpacity(a){if(null===a||void 0===a)return!1;var b=1;if(null!==a.pageType&&void 0!==a.pageType&&(b=parseInt(a.pageType,10),2===b))return!0;var c=1;if(null!==a.backgroundColorType&&void 0!==a.backgroundColorType&&(c=parseInt(a.backgroundColorType,10)),1===c){if(null===a.backgroundColor||void 0===a.backgroundColor||""===a.backgroundColor)return!0;if("transparent"===a.backgroundColor)return!0;if("rgba(0, 0, 0, 0)"===a.backgroundColor)return!0;var d=a.backgroundColor.toLowerCase();if(d.indexOf("rgba")>-1){d=d.replace("rgba","").replace("(","").replace(")","");var e=d.split(",");if(e.length>2){var f=parseFloat(e[3]);if(!isNaN(f)&&.99>f)return!0}}}return!1}function showElement(a){var b=$('div[class^="element element_'+a+'"]');void 0!==b&&b.show()}function handleScaleIfSmallScreen(a){if(!_isPc){var b=$(window).height(),c=1008*_pt_inner_scale_value;if(c>b&&"1"!==$page.attr("data-long")){var d=b/c;_page_element_list_scale_value=d;var e=a||$page.find(".pt-page-element-list-box");e.css("-webkit-transform","scale("+d+")"),e.css("transform","scale("+d+")"),e.css("-webkit-transform-origin","center top"),e.css("transform-origin","center top")}}}function isRegImgSilderTimer(a){for(var b=0;b<regImgSilderTimerRecord.length;b++)if(a==regImgSilderTimerRecord[b].pageId)return!0;return!1}function addRegedImgSilderTimer(a){regImgSilderTimerRecord.push({pageId:a,isReg:!0,silderObject:[]})}function getImgSilderTimerByPage(a){for(var b=0;b<regImgSilderTimerRecord.length;b++)if(a==regImgSilderTimerRecord[b].pageId)return regImgSilderTimerRecord[b];return null}function stopOtherImgSilderTimer(a){for(var b=0;b<regImgSilderTimerRecord.length;b++)if(a!=regImgSilderTimerRecord[b].pageId){if(void 0!==regImgSilderTimerRecord[b]&&void 0!==regImgSilderTimerRecord[b].silderObject)for(j=0;j<regImgSilderTimerRecord[b].silderObject.length;j++)void 0!==regImgSilderTimerRecord[b].silderObject[j]&&regImgSilderTimerRecord[b].silderObject[j].stop()}else if(void 0!==regImgSilderTimerRecord[b]&&void 0!==regImgSilderTimerRecord[b].silderObject)for(j=0;j<regImgSilderTimerRecord[b].silderObject.length;j++)void 0!==regImgSilderTimerRecord[b].silderObject[j]&&regImgSilderTimerRecord[b].silderObject[j].start()}function stopAllImgSilderTimer(){for(var a=0;a<regImgSilderTimerRecord.length;a++)if(void 0!==regImgSilderTimerRecord[a]&&void 0!==regImgSilderTimerRecord[a].silderObject)for(var b=0;b<regImgSilderTimerRecord[a].silderObject.length;b++)void 0!==regImgSilderTimerRecord[a].silderObject[b]&&regImgSilderTimerRecord[a].silderObject[b].stop()}function regImgSilderTimer(a){if(pageId=a,stopOtherImgSilderTimer(pageId),!isRegImgSilderTimer(pageId)){addRegedImgSilderTimer(pageId);var b=$(".page_"+pageId).find(".slider");b.length>0&&Cool.util.loadJs(appConfig.libHost+"flux.js?v="+appConfig.version,function(){$.each(b,function(a,b){var c=$(b);if(0===c.children().length)return void console.info("img 0");var d=c.attr("id");if(void 0!==d){var e=d.replace("slider",""),f=$(".element_"+e),g=parseInt(f.css("width"),10),h=parseInt(f.css("height"),10),i="#"+d,j=c.attr("playstyle"),k=c.attr("autoplay")===!0||"true"==c.attr("autoplay")||"autoplay"==c.attr("autoplay"),l=convertToBool(c.attr("showarrow")),m=c.attr("leftarrow");m&&(m=handleImgUrl(m));var n=c.attr("rightarrow");n&&(n=handleImgUrl(n));var o;if(k){o=new flux.slider(i,{pagination:!1,autoplay:!0,controls:l,prevButton:m,nextButton:n,transitions:[j],width:g,height:h,delay:2e3});var p=getImgSilderTimerByPage(pageId);null!==p&&p.silderObject.push(o)}else o=new flux.slider(i,{pagination:!1,autoplay:!1,controls:!0,prevButton:m,nextButton:n,transitions:[j],width:g,height:h}),noAutoPlayImgGroupInstances.push({pageId:pageId,elemId:e,instance:o})}})})}}function regImgPlayTimer(a){var b=getPageObjById(a||currentPageId);if(null!==b){if(clearRegIntervals(),void 0===b.elementList)return;var c=b.elementList;$.each(c,function(a,c){"img"===c.type&&c.content.constructor===Object&&regImgElementEvent(b.id,c.id,c.content)})}}function resetElementLastImg(a,b){b===!0?a.css("display","block"):a.css("display","none")}function regImgElementEvent(a,b,c){var d=apiHelper.getAppInstance().getElement(b,a),e=arguments[3]||null,f=d.find(".element-mask span");if(c.showAnimation&&f.length>0){var g=d.find(".element-mask .element-last");1===parseInt(c.imageType)&&resetElementLastImg(g,!0),$.each(f,function(a,b){$(b).css("opacity",0)});var h=null;1===parseInt(c.touchType)?(d.bind(clickEventType,function(d){d.preventDefault(),d.stopPropagation(),setTimeout(function(){null===h&&($(f[0]).css("opacity",1),1===parseInt(c.imageType)&&resetElementLastImg(g,!1),h=new ImgPlayTimer,h.setCount(0),h.setPageId(a),h.setElemId(b),h.setImgList(f),h.setContent(c),h.playImgList())},1e3*c.playDelay)}),d.bind("mouseup mouseleave touchend",function(a){a.preventDefault(),a.stopPropagation()})):0===parseInt(c.touchType)?setTimeout(function(){$(f[0]).css("opacity",1),1===parseInt(c.imageType)&&resetElementLastImg(g,!1),h=new ImgPlayTimer,h.setCount(0),h.setPageId(a),h.setElemId(b),h.setImgList(f),h.setContent(c),h.playImgList()},1e3*c.playDelay):2===parseInt(c.touchType)&&null!==e?setTimeout(function(){$(f[0]).css("opacity",1),1===parseInt(c.imageType)&&resetElementLastImg(g,!1),h=new ImgPlayTimer,h.setCount(0),h.setPageId(a),h.setElemId(b),h.setImgList(f),h.setContent(c),h.playImgList()},1e3*c.playDelay):"3"===c.touchType&&(startShake(),window.addEventListener("shake",function(d){stopShake(),setTimeout(function(){$(f[0]).css("opacity",1),1===parseInt(c.imageType)&&resetElementLastImg(g,!1),h=new ImgPlayTimer,h.setCount(0),h.setPageId(a),h.setElemId(b),h.setImgList(f),h.setContent(c),h.playImgList()},1e3*c.playDelay)},!1),setTimeout(function(){startShake()},2e3))}}function ImgPlayTimer(){this.count=0,this.pageId=-1,this.elemId=-1,this.content=null,this.imgList=[]}function clearAllCustomIntervals(){for(var a=0;a<customIntervals.length;a++)window.clearInterval(customIntervals[a]);stopAllImgSilderTimer()}function clearRegIntervals(a,b){a&&b?$.each(regIntervals,function(c,d){a===d.pageId&&b===d.elemId&&window.clearInterval(d.interval)}):$.each(regIntervals,function(a,b){window.clearInterval(b.interval)})}function createAudioElement(a,b,c){var d="audio-"+a+"-"+b,e=document.getElementById(d);if(!e){var f=apiHelper.getAppInstance().musicPreFix(c.content.url);e=document.createElement("audio"),e.setAttribute("id",d),e.setAttribute("style","opacity:0;width:1px;height:1px"),e.setAttribute("src",f),e.setAttribute("preload",!0),c.click?"loop"===c.click.type?e.setAttribute("loop","loop"):""!==c.click.value&&$(e).on("ended",function(){bindElementEvent(a,c)}):c.content.loop&&e.setAttribute("loop",c.content.loop),$("#main").append(e),(void 0===_pageAudio[a]||null===_pageAudio[a])&&(_pageAudio[a]=[]),-1==_pageAudio[a].indexOf(d)&&_pageAudio[a].push(d),rrxdebug&&console.log(_pageAudio)}}function switchAudioPlay(a,b){var c=document.getElementById("audio-"+a+"-"+b);rrxdebug&&console.log("switchAudioPlay",c),c&&(c.paused?(pausePageAudio(a),c.play(),Cool.util.checkIsWeixin()===!0&&"undefined"!=typeof WeixinJSBridge&&WeixinJSBridge.invoke("getNetworkType",{},function(a){c.play()}),musicIsPlayWhenPlayAudio=$iconMusic.hasClass("music-play")||$iconMusic.hasClass("music-play-none"),console.log("musicIsPlayWhenPlayAudio",musicIsPlayWhenPlayAudio),musicIsPlayWhenPlayAudio&&stopMusic(),$(c).off().on("ended",function(){musicIsPlayWhenPlayAudio&&playMusic()})):(c.pause(),musicIsPlayWhenPlayAudio&&playMusic()))}function pauseAudio(a){var b=document.getElementById(a);rrxdebug&&console.log(b),null!==b&&(b.paused||b.pause())}function pausePageAudio(a){rrxdebug&&console.log(_pageAudio,a),_pageAudio[a]&&$.each(_pageAudio[a],function(a,b){pauseAudio(b)})}function regAudioEvent(a,b,c,d){var e=d||null,f=apiHelper.getAppInstance().getElement(b,a),g=c.delay||0;g=1e3*g,"0"===c.touchType?f.off(clickEventType).on(clickEventType,function(c){reloveTwoClickByISroll()&&setTimeout(function(){switchAudioPlay(a,b)},g)}):"1"===c.touchType?setTimeout(function(){switchAudioPlay(a,b)},g):"2"===c.touchType&&null!==e?setTimeout(function(){switchAudioPlay(a,b)},g):"3"===c.touchType&&(startShake(),window.addEventListener("shake",function(c){stopShake(),setTimeout(function(){switchAudioPlay(a,b)},g),setTimeout(function(){startShake()},2e3)},!1))}function regAudioPlayTimer(a){var b=getPageObjById(a||currentPageId);if(null!==b){if(void 0===b.elementList)return;var c=b.elementList;$.each(c,function(a,c){"audio"===c.type&&regAudioEvent(b.id,c.id,c.content)})}}function createVideoClose(a,b){var c=$('<div class="close-mask" id="close_'+b+'">×</div>');c.click(function(){apiHelper.getAppInstance().resetFlip(!0),$("#mask_"+b).remove(),$("#close_"+b).remove(),showMusicIcon(),musicIsPlayWhenPlayVideo&&playMusic(),showElement(b)}),getPageDomById(a).append(c)}function handleVideoIframeSrc(a){return void 0===a||void 0===a?"":appConfig.dev?a:wsiteInfo.flhtps||wsiteInfo.httpsEnabled?a.replace("http://","https://"):a}function createVideoPlay(a,b,c){var d=$('<div class="video-mask" id="mask_'+b+'"></div>'),e="",f=isLiveVideo(c.code),g=0===parseInt(c.type)&&f;1===parseInt(c.type)||g?(1===parseInt(c.type)&&apiHelper.getAppInstance().stopFlip(),e=$("<video   autoPlay controls></video>"),e.attr("type","video/mp4"),e.attr("id","video_"+b),e.attr("src",handleDataUrl(c.url)),e.css({position:"absolute",height:"50%",width:"100%",top:"22%"})):(apiHelper.getAppInstance().stopFlip(),c.code=handleVideoIframeSrc(c.code),e=$(c.code).css({position:"absolute",top:"22%"}),e.attr("id","vif_"+b),e.attr("width","100%"),e.attr("height","50%"),e.attr("frameborder",0)),d.html(e),getPageDomById(a).append(d)}function removeAllVideo(){$(".video-mask").remove(),$(".close-mask").remove(),$('div[eletype="video"]').show(),showMusicIcon()}function getCanVisitThirdVideo(){return _isWxMin?!1:!0}function createVideoControl(a,b,c){createVideoPlay(a,b,c),createVideoClose(a,b,c)}function createVideoElement(a,b,c,d){if(0===parseInt(d.type)&&!getCanVisitThirdVideo())return void winAlert("暂时不支持第三方视频");if(isPreview()){musicIsPlayWhenPlayVideo=$iconMusic.hasClass("music-play")||$iconMusic.hasClass("music-play-none"),stopMusic();var e=parseInt(d.type);if(d.embed&&1===e||0===e&&isLiveVideo(d.code)){var f=a.find(".element-last").get(0);if(f){var g=1!==parseInt(d.touchType);playVideoByWx(f,g),apiHelper.getAppInstance().resetFlip(!0)}}else createVideoControl(b,c,d)}}function playVideoByWx(a,b){var c=function(){a&&(a.paused?a.play():a.pause())};b?c():Cool.util.checkIsWeixin()===!0&&"undefined"!=typeof WeixinJSBridge?WeixinJSBridge.invoke("getNetworkType",{},function(a){c()}):c()}function regVideoEvent(a,b,c,d){rrxdebug&&console.log("regVideoEvent",a);var e=d||null,f=apiHelper.getAppInstance().getElement(b,a),g=parseInt(c.touchType),h=getPageObjById(a),i=h.longPage?"mousedown touchstart":"click";if(0!==g&&0!==parseInt(c.type)&&c.embed)if(1===g){var j=getFirstPageId()===a?500:0;setTimeout(function(){createVideoElement(f,a,b,c)},j)}else c.embed&&2===g&&null!==e&&createVideoElement(f,a,b,c);else f.off(i).on(i,function(d){reloveTwoClickByISroll()&&(d.preventDefault(),d.stopPropagation(),createVideoElement(f,a,b,c))})}function regVideoPlayTimer(a){var b=getPageObjById(a||currentPageId);if(null!==b){if(void 0===b.elementList)return;var c=b.elementList;$.each(c,function(a,c){"video"===c.type&&regVideoEvent(b.id,c.id,c.content)})}}function regAnimationShake(a){var b=_dataObj.pageEventList[a||currentPageId],c=function(b,c,d){startShake(),window.addEventListener("shake",function(e){stopShake(),playAnimation(b,c,d,!1,a),setTimeout(function(){startShake()},2e3)},!1)};if(b)for(var d=0;d<b.length;d++)"animation"===b[d].type&&2===parseInt(b[d].animation.trigger)&&c(_$canvas,b[d].elementId,b[d].animation)}function startShake(a){a=a||"shake",void 0===myShakeEvent[a]?(myShakeEvent[a]=new Shake({shake:a}),myShakeEvent[a].start()):myShakeEvent[a].start()}function stopShake(a){a=a||"shake",void 0!==myShakeEvent[a]&&myShakeEvent[a].stop()}function regSensorEvent(a){var b=getPageDomById(a).find(".pt-page-element-list-box");if(b&&b.length>0&&b.html().indexOf("data-depth")>-1){new Parallax(b[0])}}function getPageStopflip(a){var b=_$canvas.find(".page_"+a);return"1"===b.attr("data-stopflip")}function regPageStopflipEvent(a){_allowFlipCurrentPage=!getPageStopflip(a),_allowFlip&&_allowFlipCurrentPage?a==lastPageId?getCanShowCopyrightPageEnd()?showArrow():hideArrow():showArrow():hideArrow()}function regPageAutoTimeFlipEvent(a){window.clearTimeout(rrxAutoFlipTimer);var b=getPageObjById(a||currentPageId);null!==b&&b.autoFlip&&""!==b.autoFlipTime&&void 0!==b.autoFlipTime&&(rrxAutoFlipTimer=setTimeout(function(){swipeFlipEvent("up",flipWay)},1e3*b.autoFlipTime))}function regPageEndEvent(a){regImgSilderTimer(a),regImgPlayTimer(a),regAudioPlayTimer(a),regVideoPlayTimer(a),regAnimationShake(a),regSensorEvent(a),regPageStopflipEvent(a),regPageAutoTimeFlipEvent(a)}function loopPluginByPage(a,b){rrxdebug&&console.log("loopPluginByPage");var c=getPageObjById(a||currentPageId);if(c)for(var d=0;d<c.elementList.length;d++){var e=c.elementList[d];"plugin"===e.type&&b(e)}}function loadPluginEvent(a){rrxdebug&&console.log("loadPluginEvent",a),a=a||currentPageId,loopPluginByPage(a,function(b){$wePluginClient.load(a,b);
}),resetEmbedVideo(a),hideMenuByOther(a);var b=$(".page_"+a+" wx-open-launch-weapp");b&&b.css("opacity",0)}function getIndexByArray(a,b,c){c=c||"id";for(var d=a.length-1;d>=0;d--)if(a[d][c]==b)return d;return-1}function hideMenuByOther(a){if(pageIsHaveTopPlugin(!0,"照片投票,VR全景图,问答",[1,appConfig.gameCategory],!0))return void hideMenuPlugin();if("customer"!==_copyrightFrom&&"na"!==_copyrightFrom){var b=getPageObjById(a);null!==b&&b.longPage&&console.log(13)}var c=getIndexByArray(_dataObj.pageList,a);return-1!=c&&_menuPageIndex>c?void hideMenuPlugin():void((!base.isLastPage()&&"rrxiu"===_copyrightFrom||"rrxiu"!==_copyrightFrom)&&showMenuPlugin())}function triggerPluginLeaveEvent(a,b){a=a||currentPageId,b||loopPluginByPage(a,function(b){$wePluginClient.leave(a,b)}),stopEmbedVideo(a),hideMenuByOther(a)}function stopEmbedVideo(a){a=a||currentPageId,getEmbedVideo(a,function(a){var b=a.find(".element-last").get(0);$(b).remove()})}function resetEmbedVideo(a){a=a||currentPageId,getEmbedVideo(a,function(b,c){var d=parseInt(c.content.type),e=isLiveVideo(c.content.code)&&0===d,f=handleDataUrl(c.content.url);console.info(f),e&&(f=c.content.code);var g=e?"":'type="video/mp4"',h=$('<video  x5-video-player-type="h5" x5-video-player-fullscreen="true" x5-video-orientation="portrait" x-webkit-airplay="true" y-webkit-airplay="true" webkit-playsinline playsinline class="element-last" width="'+c.width+'" height="'+c.height+'">您的浏览器不支持 video 标签。<source src="'+f+'" '+g+"></video>"),i=parseInt(c.content.touchType);if(1===i||0===i&&h.attr("controls","controls"),1==i?h.attr("preload","auto"):h.attr("preload","metadata"),void 0!==c.content.poster&&!e){var j="@!user_image_700x1";c.content.poster=handleImgUrl(c.content.poster),c.content.poster=appendThumb(c.content.poster,j),h.attr("poster",c.content.poster)}c.click&&("loop"===c.click.type?h.attr("loop","loop"):""!==c.click.value&&h.off().on("ended",function(){musicIsPlayWhenPlayVideo&&(showMusicIcon(),playMusic()),bindElementEvent(a,c)})),1==i&&(console.log("video auto play ended"),h.off().on("ended",function(){console.log("video ended"),musicIsPlayWhenPlayVideo&&(showMusicIcon(),playMusic()),bindElementEvent(a,c)})),b.html(wrapElement(h,c))})}function getEmbedVideo(a,b){var c=getPageObjById(a);if(c)for(var d=0;d<c.elementList.length;d++){var e=c.elementList[d];if("video"===e.type){var f=isLiveVideo(e.content.code),g=parseInt(e.content.type);if(e.content.embed&&1===g||f&&0===g){var h=apiHelper.getAppInstance().getElement(e.id,a);b(h,e)}}}}function getActualPageId(a){var b;b=0!==currentPageId?$pagelist.find(".page_"+currentPageId):$pagelist.find("div.pt-page:not(.ifpage)").first();var c=null;if(-1==a){for(c=b.next();c.hasClass("ifpage")&&(c=c.next(),c.hasClass("pt-page")!==!1););c.hasClass("pt-page")===!1&&(c=$pagelist.find("div.pt-page:not(.ifpage)").first())}else if(-2==a){for(c=b.prev();c.hasClass("ifpage")&&(c=c.prev(),c.hasClass("pt-page")!==!1););c.hasClass("pt-page")===!1&&(c=$pagelist.find("div.pt-page:not(.ifpage)").last())}else 0===a&&(c=$pagelist.find("div.pt-page:not(.ifpage)").first());return null!==c&&(a=c.data("id")),a}function getAnimationIndex(a,b){var c,d="";return b===!0?(c=getPageObjById(a),void 0!==c.flip?d=c.flip.enter:void 0!==flipAnimation.enter&&(d=flipAnimation.enter)):(c=getPageObjById(currentPageId),void 0!==c.flip?d=c.flip.back:void 0!==flipAnimation.back&&(d=flipAnimation.back)),d}function gotoPage(a,b){console.log("gotoPage.........."),goToPageById(b)}function playPage(a,b){if(void 0===b||void 0===b.elementList)return 0;for(var c=-1,d=0,e=0;e<b.elementList.length;e++){var f=b.elementList[e];f.display!==!0&&void 0!==f.display&&_isEditing||(c=playElement(a,f,b.id),"img"===f.type&&"loadingpage"===b.id&&f.content.showAnimation&&regImgElementEvent(b.id,f.id,f.content,f.content.name),c>d&&(d=c))}return d}function playPageByPageId(a){var b=getPageObjById(a);null!==b&&playPage(_$canvas,b)}function setBlurBgPage(){$("body").css({"background-color":"#fff"}),$(".pt-dialogs").addClass("blur-container"),$(".pt-wrapper").addClass("blur-container"),$("div.outGameCanvas").addClass("blur-container")}function flipBlurPage(){removeAllBlurPage()}function removeBlurBgPage(){$("body").css({"background-color":"#000"}),$(".pt-wrapper").removeClass("blur-container"),$("div.outGameCanvas").removeClass("blur-container")}function removeAllBlurPage(){$("body").css({"background-color":"#000"}),$(".pt-dialogs").removeClass("blur-container"),$(".pt-wrapper").removeClass("blur-container")}function createPages(){if(void 0!==_dataObj.pageList){for(var a=_dataObj.pageList,b=0;b<a.length;b++){var c=a[b];wsiteInfo.wxp.canStopFlip||(c.stopFlip=!1);var d='<div class="pt-page page_'+c.id+'" data-id='+c.id;c.longPage&&(d+=' data-long="1"'),c.stopFlip&&(d+=' data-stopflip="1"'),d+="></div>",$pagelist.append(d),$.isNumeric(c.id)&&_pageIdList.push(parseInt(c.id,10))}firstPageId=a[0].id,lastPageId=a[a.length-1].id,totalPages=a.length}}function createWrapper(a,b){a.html("");var c='<div class="pt-outer"><div class="pt-inner"></div></div>';a.append(c);var d=parseFloat(a.height()/a.width())*canvasDefaultWidth;scale=parseFloat(1*a.width()/canvasDefaultWidth).toFixed(6),_pt_inner_scale_value=scale;var e=parseFloat(a.height()/d),f=navigator.userAgent.toLowerCase(),g=97e-5*parseFloat(a.width()/360);f.indexOf("android")>-1&&(e+=g),e=e.toFixed(6);var h=0;if(_isEditing){var i=!1;h=parseFloat(-1*d/2)-0,i&&(.5==e&&(d=1016,h=-509),.75==e&&(d=1014,h=-508.5))}else h=parseFloat(-1*d/2)-0;$outer=a.find(".pt-outer"),$inner=a.find(".pt-inner"),$inner.css("height",d),$inner.css("margin-top",h),$inner.css("-webkit-transform","scale("+scale+","+e+")"),$inner.css("-moz-transform","scale("+scale+","+e+")"),$inner.css("transform","scale("+scale+","+e+")"),$outer.css("height",a.height()),$outer.css("width",a.width())}function createProgress(){$progress.css("position","absolute"),$progress.css("z-index","100"),$progress.css("bottom","0"),$progress.css("left","0"),$progress.css("display","none"),$progress.css("width","100%"),$progress.css("height","7px"),$progress.css("background-color","rgba(0,0,0,.2)"),$(".progress-tip").css("display","none"),$(".page-tip").css("display","none")}function isShowFocusWechat(){return _dataObj.focusWechat&&convertToBool(_dataObj.focusWechat.show)?"rrx-qrcode.jpg"===_dataObj.focusWechat.qrcode?!1:_dataObj.focusWechat.qrcode?!0:!1:!1}function isShowTopMenu(){if(!_dataObj.topMenu||!_dataObj.topMenu.list||0===_dataObj.topMenu.list.length)return!1;var a=void 0===_dataObj.topMenu.position?"top":_dataObj.topMenu.position;return 1===parseInt(_dataObj.topMenu.show)&&"top"===a}function sysMenuBottomIsShow(){return _dataObj.topMenu&&_dataObj.topMenu.list&&0!==_dataObj.topMenu.list.length?1===parseInt(_dataObj.topMenu.show)&&"bottom"===_dataObj.topMenu.position:!1}function sysMenuBottomCreate(){if(sysMenuBottomIsShow()){var a=template.compile(sysMenuBottomHtml);_dataObj.topMenu.style=_dataObj.topMenu.style||{backgroundColor:"#f2f2f2",color:"#666666",borderColor:"#cccccc"};var b=a({menuCss:"rrx-sys-menu-bottom",menu:_dataObj.topMenu,widthPercent:Math.floor(100/_dataObj.topMenu.list.length)});$iconsPanel.append(b),$sysMenuBottom=$("#js_rrx_sys_menu_bottom"),sysMenuBottomBindEvent(),_isHaveMenu=!0}}function sysMenuBottomBindEvent(){var a=$sysMenuBottom.find(".m-buttons a");a.off(clickEventType).on(clickEventType,function(a){var b=$sysMenuBottom.find(".m-sub-list");"block"===b.css("display")&&b.hide();var c=$(this).data("id"),d=_dataObj.topMenu.list[c];"sms"!==d.type&&"tel"!==d.type&&(a.stopPropagation(),a.preventDefault()),sysMenuBottomItemEventExec(d,c,!0)})}function sysMenuBottomSubMenuRender(a,b){for(var c=$sysMenuBottom.find(".m-sub-list"),d="",e=_dataObj.topMenu.style,f=0;f<a.length;f++){var g=b+"-"+f;d+=f===a.length-1?'<a data-id="'+g+'" style="color:'+e.color+";border-color:"+e.borderColor+';border:none" target="_blank" href="javascript:void(0)">'+a[f].name+"</a>":'<a data-id="'+g+'" style="color:'+e.color+";border-color:"+e.borderColor+'" target="_blank" href="javascript:void(0)">'+a[f].name+"</a>"}c.show(),c.css("left",200*b+10),c.html(d),c.find("a").off(clickEventType).on(clickEventType,function(a){var d=$(this).data("id"),e=d.split("-");if(2===e.length){var f=_dataObj.topMenu.list[e[0]].list[e[1]];"sms"!==f.type&&"tel"!==f.type&&(a.stopPropagation(),a.preventDefault()),sysMenuBottomItemEventExec(f,b,!1)}c.hide()}),$(document).one(clickEventType,function(a){return a.stopPropagation(),"block"===c.css("display")?void c.hide():void 0})}function sysMenuBottomItemEventExec(a,b,c){if("url"!==a.type||a.list&&0!==a.list.length)if(c&&a.list&&a.list.length>0)sysMenuBottomSubMenuRender(a.list,b);else{var d=isShowFocusWechat();"page"===a.type?a.value&&0!==parseInt(a.value)&&setTimeout(function(){apiHelper.getAppInstance().gotoPage(a.value)},100):"focus"===a.type?d?showFocusWechat():winAlert("关注页面已关闭"):"share"===a.type?getForbidShare()?winAlert("分享页面已关闭"):apiHelper.getAppInstance().showShareDialog(""):"openDialog"===a.type?a.dialog&&dialogOpen(null,a.dialog):"openInvite"===a.type&&openWsiteInvite()}else apiHelper.getAppInstance().urlAuditVisit(a.href)}function createTopeMenu(){if(isShowTopMenu()){"topmenu-icon.png"===_dataObj.topMenu.icon&&(_dataObj.topMenu.icon="topmenu-icon2.png");var a=handleImgUrl(_dataObj.topMenu.icon)+"?v="+appConfig.version;$topMenuButton.attr("src",a),$topMenuButton.css("pointer-events","auto"),$topMenuButton.off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),showTopMenu(),setBlurBgPage()}),showEffect($topMenuButton)}}function formatHref(a){return a&&-1===a.indexOf("http://")&&-1===a.indexOf("https://")&&(a=a.replace("www","http://www")),a||""}function showTopMenu(){if(_dataObj.topMenu){if(0===$topMenuPanel.find(".top-menu-list").length){var a='<a class="rrx-icon-close-layer fw_close" href="javascript:void(0)"></a><div class="top-menu-list"><div class="scroll-list"><div class="scroll-menu">',b=isShowFocusWechat();_dataObj.focusWechat&&"rrx-qrcode.jpg"!==_dataObj.focusWechat.qrcode&&!getCanModifyWechat()&&(b=!1);for(var c=_dataObj.topMenu.list,d=0;d<c.length;d++)a+="url"===c[d].type?'<a class="menu-'+c[d].type+'" href="javascript:void(0)" data-id="'+formatHref(c[d].href)+'">'+c[d].name+"</a>":"page"===c[d].type?'<a class="menu-'+c[d].type+'" href="javascript:void(0)" data-id="'+c[d].value+'">'+c[d].name+"</a>":"event"===c[d].type?'<a class="menu-'+c[d].type+'" href="javascript:void(0)" data-id="'+c[d].event+'">'+c[d].name+"</a>":"tel"===c[d].type?'<a class="menu-'+c[d].type+'" href="tel:'+c[d].phone+'">'+c[d].name+"</a>":"sms"===c[d].type?'<a class="menu-'+c[d].type+'" href="sms:'+c[d].phone+'">'+c[d].name+"</a>":"openDialog"===c[d].type?'<a class="menu-'+c[d].type+'" href="javascript:void(0)" data-id="'+c[d].dialog+'">'+c[d].name+"</a>":'<a class="menu-'+c[d].type+'" href="javascript:void(0)" data-id="'+c[d].value+'">'+c[d].name+"</a>",(b||d!==c.length-1)&&(a+='<div class="cut-line"></div>');b&&(a+='<a class="menu-focus" href="javascript:void(0)">关注公众号</a>'),a+="</div></div></div>",a+="customer"===_copyrightFrom?'<div class="menu-copyright">'+getCopyrightCustomer(!0)+'<span class="show-report">举报</span></div>':"na"===_copyrightFrom?'<div class="menu-copyright"></div>':'<div class="menu-copyright"><span class="show-report">举报</span><span class="show-copyright"><a href="'+getMakeRRxUrl()+'" target="_blank" style="color:#fff;">'+getMakeRRxContent()+"</a></span></div>",$topMenuPanel.html(a),"na"!==_copyrightFrom&&registerReportEvent($topMenuPanel.find(".menu-copyright .show-report")),_dataObj.showVisitCount&&null!==_log&&!getIsFromTpl()&&setTimeout(function(){0!==_log.getVisitCount()&&$topMenuPanel.find(".menu-copyright").append('<span class="show-visit">阅读:'+_log.getVisitCount()+"</span>")},300);var e=$topMenuPanel.find(".fw_close");e.off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),displayPanelDialog("up","down","topmenu"),removeAllBlurPage()});var f=$topMenuPanel.find(".top-menu-list");f.find(".menu-page").off().on("click",function(a){displayPanelDialog("up","down","topmenu"),removeAllBlurPage();var b=$(this).data("id");setTimeout(function(){if("first"===b)firstPageId!=currentPageId&&apiHelper.getAppInstance().gotoPage(firstPageId);else if("pre"===b)apiHelper.getAppInstance().gotoPrePage();else if("next"===b)apiHelper.getAppInstance().gotoNextPage();else{if(b===currentPageId||"0"===b||0===b)return;apiHelper.getAppInstance().gotoPage(b)}},500)}),f.find(".menu-url").off().on("click",function(a){var b=$(this).data("id");b&&apiHelper.getAppInstance().urlAuditVisit(b)}),b&&f.find(".menu-focus").off().on(clickEventType,function(a){console.log("focus"),a.stopPropagation(),a.preventDefault(),displayPanelDialog("up","down","topmenu"),showFocusWechat()}),getForbidShare()||f.find(".menu-share").off().on(clickEventType,function(a){console.log("share"),a.stopPropagation(),a.preventDefault(),displayPanelDialog("up","down","topmenu"),apiHelper.getAppInstance().showShareDialog("")}),f.find(".menu-openInvite").off().on(clickEventType,function(a){console.log("invite"),a.stopPropagation(),a.preventDefault(),displayPanelDialog("up","down","topmenu"),removeAllBlurPage(),setTimeout(function(){openWsiteInvite()},500)}),f.find(".menu-openDialog").off().on(clickEventType,function(a){console.log("openDialog"),a.stopPropagation(),a.preventDefault(),displayPanelDialog("up","down","topmenu");var b=$(this).data("id");dialogOpen(null,b)})}displayPanelDialog("down","up","topmenu"),loadMenuListByiScroll()}}function closeTopMenuPanel(){var a=$topMenuPanel.find(".fw_close");a&&a.length>0&&a.trigger(clickEventType)}function loadMenuListByiScroll(){if(null===menuScrollInstance){var a=$topMenuPanel.find(".top-menu-list");menuScrollInstance=new iScroll(a.find(".scroll-list").get(0),{bounce:!1,bounceLock:!1,vScrollbar:!1})}}function createFocusWechat(){if(isShowFocusWechat()&&(!_dataObj.focusWechat||"rrx-qrcode.jpg"===_dataObj.focusWechat.qrcode||getCanModifyWechat())){"focus-icon.png"===_dataObj.focusWechat.icon&&(_dataObj.focusWechat.icon="focus-icon2.png");var a=handleImgUrl(_dataObj.focusWechat.icon)+"?v="+appConfig.version;$focusButton.attr("src",a),$focusButton.off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),showFocusWechat(),_rrxtach.recordFocusClick(apiHelper.getAppInstance().weixinStrong.getWxOpenId())}),isShowTopMenu()||$focusButton.css({left:"23px","pointer-events":"auto"}),showEffect($focusButton)}}function initMyPoints(){console.log(111,wsiteInfo.openPoints),wsiteInfo.openPoints?fetchMyPoints(function(a){createMyPoints(window.myPoints.points,window.myPoints.unit),showMyPoints()}):wsiteInfo.useJf&&getMyJfConf()}function fetchMyPoints(a){var b=_dataObj.guid,c=apiHelper.getAppInstance().weixinStrong.getAuthedInfo(),d=getInteractServiceHostIfHttps(),e={wsiteGuid:b,wxOpenId:c.id};$.ajax({url:d+"/publicUser/getAvailablePoints",type:"GET",data:e,dataType:"json",xhrFields:{withCredentials:!0}}).then(function(b){console.log(b.data),0!==b.result&&winAlert(b.msg),window.myPoints=b.data,a(b)},function(a){console.error(a)})}function getMyJfConf(){var a=_dataObj.guid,b=apiHelper.getAppInstance().weixinStrong.getAuthedInfo(),c=getInteractServiceHostIfHttps(),d={wsiteGuid:a,wxOpenId:b.id};$.ajax({url:c+"/publicUser/getSetting",type:"GET",data:d,dataType:"json",xhrFields:{withCredentials:!0}}).then(function(a){0===a.result&&(window.myPoints.unit=a.data.unit,window.myPoints.earnPointsButtonText=a.data.earnPointsButtonText,window.myPoints.earnPointsUrl=a.data.earnPointsUrl,window.myPoints.getPointsDetailUrl=a.data.getPointsDetailUrl,a.data.myParams&&(window.myPoints.myParams=a.data.myParams),a.data.my&&(window.myPoints.my=a.data.my))},function(a){console.error(a)})}function test_subPoints(a,b){var c=_dataObj.guid,d=apiHelper.getAppInstance().weixinStrong.getAuthedInfo(),e=getInteractServiceHostIfHttps(),f={wsiteGuid:c,wxOpenId:d.id,activeGuid:a.activeGuid,fg:getFg()},g=e+"/publicUser/subPoints";rrxtrace(JSON.stringify(f)+" || "+g+" || "+window.location.href),$.ajax({url:g,type:"POST",data:f,dataType:"json",xhrFields:{withCredentials:!0}}).then(function(a){rrxtrace("test_subPoints"+JSON.stringify(a))},function(a,b,c){rrxtrace("test_subPoints"+JSON.stringify(a))})}function consumeMyPoints(a,b){var c=_dataObj.guid,d=apiHelper.getAppInstance().weixinStrong.getAuthedInfo(),e=getInteractServiceHostIfHttps(),f={wsiteGuid:c,wxOpenId:d.id,activeGuid:a.activeGuid,fg:getFg()},g=e+"/publicUser/consumePoints";("ykjks2"==c||"qc12wt"==c)&&rrxtrace(JSON.stringify(f)+" || "+g+" || "+window.location.href),$.ajax({url:g,type:"POST",data:f,dataType:"json",xhrFields:{withCredentials:!0}}).then(function(a){console.log(a.data),(0===a.result||70001===a.result)&&a.data.myPoints&&null!==a.data.myPoints.points&&void 0!==a.data.myPoints.points&&updateMyPoints(a.data.myPoints.points),b(a)},function(a,b,c){hideRRXProcess(),winAlert("请稍后再试-"+a.status),rrxtrace(JSON.stringify(a))})}function createMyPoints(a,b){var c=handleImgUrl("icon_points.png");console.log(c);var d='<span class="points-icon" style="background-image:url('+c+');"></span>';d+='<span class="points-val">'+a+b+"</span>",$myPointsButton.html(d)}function showMyPoints(){if(wsiteInfo.openPoints){var a=!1,b=!1;$iconsPanel&&(b="block"==$iconsPanel.css("display")),b&&($focusButton&&(a="block"==$focusButton.css("display")),!a&&$topMenuButton&&(a="block"==$topMenuButton.css("display"))),$myPointsButton.css({display:"block",opacity:1,top:a?"11%":"3%"})}}function updateMyPoints(a,b){window.myPoints.points=a,b=b||window.myPoints.unit,$myPointsButton.find(".points-val").html(a+b),_$canvas.find("._public_user_lefgold_id_").html(a),console.log("after",window.myPoints)}function refreshMyPoints(){fetchMyPoints(function(a){updateMyPoints(window.myPoints.points)})}function isRrxHost(a){var b=["rrxiu.cc","rrxiuh5.top","rrxiu.me","rrxiu.net","renrenxiu.me"],c=a.split("."),d="";return d=c.length<=2?a:c[1]+"."+c[2],b.indexOf(d)>-1}function getCustomeParams(){var a=window.myPoints.myParams;return a||(a=Cool.util.getUrlParameterByName("params")),a}function joinEarnPointsUrl(a){if(!a)return a;var b=window.myPoints.my,c=encodeURIComponent(window.location.href),d=getCustomeParams();if(d&&(d=encodeURIComponent(d)),_isWxMin){var e=parseUri(a);isRrxHost(e.host)&&(a=webUrlToMiniAppUrl(a))}return a+=-1==a.indexOf("?")?"?redirect="+c:"&redirect="+c,b&&(a+="&openid="+b),d&&(a+="&params="+d),a}function joinPointsDetailUrl(a){if(!a)return a;var b=(window.myPoints.my,encodeURIComponent(window.location.href)),c=getCustomeParams();if(c&&(c=encodeURIComponent(c)),_isWxMin){var d=parseUri(a);isRrxHost(d.host)&&(a=webUrlToMiniAppUrl(a))}return a+=-1==a.indexOf("?")?"?redirect="+b:"&redirect="+b,c&&(a+="&params="+c),a}function webUrlToMiniAppUrl(a){if(!a)return a;var b=getCustomeParams();if(b&&(b=encodeURIComponent(b),a=a.indexOf("?")>-1?a+"&params="+b:a+"?params="+b),!_isWxMin)return a;if(a){if(a.indexOf("//min.rrxiu.net")>-1)return a;var c=parseUri(a);if(!c||!c.host)return a;var d=c.path;d&&(d=d.indexOf("/v")>-1?d.replace("/v",""):"/"+c.queryKey.v);var e="https://min.rrxiu.net/m"+d;return c.query&&(e=e+"?"+c.query),e=e.indexOf("?")>-1?e+"&ft=1&mwa="+mwa:e+"?ft=1&mwa="+mwa,console.log(e),e}return a}function formatJfCenterUrl(a){var b=webUrlToMiniAppUrl(a);return console.log("jfcenter",b),b}function parseUri(a){for(var b={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},c=b,d=c.parser[c.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[c.key[f]]=d[f]||"";return e[c.q.name]={},e[c.key[12]].replace(c.q.parser,function(a,b,d){b&&(e[c.q.name][b]=d)}),e}function showFocusWechat(){if(setBlurBgPage(),"rrx-qrcode.jpg"!==_dataObj.focusWechat.qrcode&&(!_dataObj.focusWechat||"rrx-qrcode.jpg"===_dataObj.focusWechat.qrcode||getCanModifyWechat())){if(0===$focusPanel.find(".fw-qrcode-box").length){var a=handleImgUrl(_dataObj.focusWechat.qrcode),b='<a href="javascript:void(0)" class="show-common-report">举报</a><a class="rrx-icon-close-layer fw_close"></a><div class="fw-qrcode-box"><div class="qr-box"><div class="wxqr"><img src="'+a+'"></div></div><div class="fw-name">'+_dataObj.focusWechat.name+'</div><div class="fw-describe">'+_dataObj.focusWechat.describe+"</div>";$focusPanel.html(b);var c=$focusPanel.find(".fw_close");c.off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),displayPanelDialog("up","down","focus"),removeAllBlurPage()}),registerReportEvent($focusPanel.find(".show-common-report"))}displayPanelDialog("down","up","focus")}}function playShowCopyrightPageAnim(){$pageCopyrightPageEnd.css("display","block"),getIsFlipDown()?setTimeout(function(){$pageCopyrightPageEnd.removeClass("damu-down"),$pageCopyrightPageEnd.addClass("damu-up")},0):setTimeout(function(){$pageCopyrightPageEnd.removeClass("damu-right"),$pageCopyrightPageEnd.addClass("damu-left")},0)}function playHideCopyrightPageAnim(){getIsFlipDown()?(setTimeout(function(){$pageCopyrightPageEnd.css("display","none"),$pageCopyrightPageEnd.removeClass("damu-up"),removeBlurBgPage()},250),$pageCopyrightPageEnd.removeClass("damu-up"),$pageCopyrightPageEnd.addClass("damu-down")):(setTimeout(function(){$pageCopyrightPageEnd.css("display","none"),$pageCopyrightPageEnd.removeClass("damu-left"),removeBlurBgPage()},250),$pageCopyrightPageEnd.removeClass("damu-left"),$pageCopyrightPageEnd.addClass("damu-right"))}function displayPanelDialog(a,b,c){var d=null;d="danmu"===c?$danmuPanel:"topmenu"===c?$topMenuPanel:"share"===c?$sharePanel:$focusPanel,"down"===a?(d.css("display","block"),hideDanmuInfo(),apiHelper.getAppInstance().stopFlip()):(setTimeout(function(){d.css("display","none"),removeBlurBgPage()},250),resetDanmuInfo(),apiHelper.getAppInstance().resetFlip(!0)),setTimeout(function(){d.removeClass("damu-"+a),d.addClass("damu-"+b)},0)}function createSharePanel(){var a="rrx-icon-share-friend share-button-friend",b="微信";checkIsAppEnv()&&(a="rrx-icon-share-normal share-button-normal",b="分享");var c=' <div class="rrx-icon-close-layer"></div> <div class="share-image"> <img src="{{shareImageUrl}}"> </div> <div class="share-title">{{shareTitle}}</div> <div class="share-tips-box"> <div class="share-tips-content"> <div class="share-left"></div> <span class="share-center">分享到</span> <div class="share-right"></div> </div> </div> <div class="share-button-box"> <div class="share-button-content"> <div class="share-button-left"> <div class="'+a+'"> </div> <div class="share-button-text">'+b+'</div> </div> <div class="share-button-right"> <div class="rrx-icon-share-poster share-button-timeline"> </div> <div class="share-button-text">生成海报</div> </div> </div> </div><div class="share-copyright"> <span class="show-report" style="display: none;">举报</span>   </div>',d=_dataObj.shareImageUrl||defaultShareImageUrl;c=c.replace("{{shareTitle}}",_dataObj.title).replace("{{shareImageUrl}}",d),$sharePanel.html(c);var e=$sharePanel.find(".share-copyright");"na"===_copyrightFrom||("customer"===_copyrightFrom?e.append(getCopyrightCustomer(!0)):e.append('<span class="show-copyright"><a href="'+getMakeRRxUrl()+'" target="_blank" style="color:#fff;">'+getMakeRRxContent()+"</a></span>"));var f=e.find(".show-report");"na"===_copyrightFrom?f.hide():f.show(),registerReportEvent(f),_dataObj.showVisitCount&&null!==_log&&!getIsFromTpl()&&setTimeout(function(){0!==_log.getVisitCount()&&e.append('<span class="show-visit">阅读:'+_log.getVisitCount()+"</span>")},1500),1==_dataObj.forbidShare&&($sharePanel.find(".share-button-content").hide(),$sharePanel.find(".share-tips-box").hide());var g=$sharePanel.find(".rrx-icon-close-layer");g.off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),displayPanelDialog("up","down","share"),removeAllBlurPage()}),$sharePanel.find(".share-button-left").off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),1===parseInt(_dataObj.forbidShare)?winAlert("当前活动禁止分享！"):showSharepage()}),$sharePanel.find(".share-button-timeline").off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),1===parseInt(_dataObj.forbidShare)?winAlert("当前活动禁止分享！"):(createSharePoster(),_rrxtach.recordSharePoster(apiHelper.getAppInstance().weixinStrong.getWxOpenId()))})}function showSharePanel(){setBlurBgPage(),displayPanelDialog("down","up","share")}function hideTopIcons(){$iconsPanel.hide()}function showTopIcons(){$iconsPanel.show()}function getSharePosterBgImg(){return _dataObj.sharePosterBgImg?(sharePosterBgImgCustomed=!0,handleImgUrl(_dataObj.sharePosterBgImg)):""}function createSharePoster(){var a=!1;if(sharePosterCreated?(shareTitle!==shareTitleLast||shareDesc!==shareDescLast||shareImageUrl!==shareImgLast||shareUrl!==shareUrlLast)&&(a=!0):a=!0,a){var b={serviceHost:getServiceHostIfHttps(),shareTitle:shareTitle,shareDesc:shareDesc,shareImg:shareImageUrl,shareUrl:shareUrl,wsiteShareImg:_dataObj.shareImageUrl,sharePosterBgImg:getSharePosterBgImg(),wsiteGuid:_dataObj.guid,wsiteCreateTime:wsiteInfo.loading.createTime,imageHost:getImageHost(),base64:!0,sharePosterBgImgCustomed:sharePosterBgImgCustomed,callback:handleSharePosterResult,canShowSharePosterInfo:_dataObj.canShowSharePosterInfo},c=new rrxSharePosterCreator(b);c.create(),showSharePosterTips("正在生成"),shareTitleLast=shareTitle,shareDescLast=shareDesc,shareImgLast=shareImageUrl,shareUrlLast=shareUrl}else showSharePosterTips("正在生成"),setTimeout(function(){hideSharePosterTips(),showSharePosterDialog()},200)}function handleSharePosterResult(a){if(0===a.code)if("base64"===a.imgFormat)hideSharePosterTips(),$("#share_poster_img").attr("src",a.base64),showSharePosterDialog(),sharePosterCreated=!0;else{var b=getImageHost()+a.imgPath;Cool.util.loadImage(b,function(){if(hideSharePosterTips(),appConfig.dev===!0){var a=new Date;$("#share_poster_img").attr("src",b+"?v="+a.getTime())}else $("#share_poster_img").attr("src",b);showSharePosterDialog(),sharePosterCreated=!0},!1)}else hideSharePosterTips(),winAlert("生成图片失败，请重试")}function initSharePoster(){var a='<div class="dialog-content"> <div class="dialog-close"></div> <div class="dialog-top">长按图片保存海报分享朋友圈</div> <div class="dialog-content-container"> <div style="width:100%;"><img id="share_poster_img" src width="100%" style="-webkit-user-drag:none;"></div> </div> </div>';$sharePosterDialog.append(a);var b=$sharePosterDialog.find(".dialog-close");b.off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),hideSharePosterDialog()});var c=$(".share-poster-process-dialog"),d=$('<div class="dialog-container">');c.append(d);var e=$('<div class="dialog-container-process">').html("请稍等");d.append(e),$sharePosterTips=c}function showSharePosterTips(a){$sharePosterTips.find(".dialog-container-process").html(a),$sharePosterTips.show()}function hideSharePosterTips(){$sharePosterTips.hide(),$sharePosterTips.find(".dialog-container-process").html("请稍等")}function showSharePosterDialog(){$sharePosterDialog.find(".dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),$sharePosterDialog.show()}function hideSharePosterDialog(){$sharePosterDialog.find(".dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){$sharePosterDialog.hide()},600)}function initSidleShare(){4!=wsiteInfo.wsiteType&&(1===wsiteInfo.activityType||_isAllPageShowReport||_isWxMin)&&($sidleShareButton=$(".sidle-share"),setSidleSharePos(),showSidleShare(),$sidleShareButton.off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),lanchShare(),_rrxtach.recordShareClick(apiHelper.getAppInstance().weixinStrong.getWxOpenId())}))}function lanchShare(){window.my?my.getEnv(function(a){console.log(a.miniprogram),a.miniprogram&&my.startShare()}):lanchShareNormal()}function lanchShareNormal(){canLanuchWxMinShare()?navigateToWxMinShare():showSharePanel()}function setSidleSharePos(){hasBgMusic||$sidleShareButton.css({top:"3%"})}function getForbidShare(){return _isWxMin&&"ash0mw"==_dataObj.guid?!0:1===parseInt(_dataObj.forbidShare)||wsiteInfo.wxp.showShareMenu===!1}function showSidleShare(){getIsFromTpl()||getForbidShare()||"1"===wsiteInfo.mamfm?hideSidleShare():(1===wsiteInfo.activityType||_isAllPageShowReport||_isWxMin)&&null!==$sidleShareButton&&void 0!==$sidleShareButton&&$sidleShareButton.show()}function hideSidleShare(){$sidleShareButton&&$sidleShareButton.hide()}function initSidleReport(){4!=wsiteInfo.wsiteType&&(1===wsiteInfo.activityType||_isAllPageShowReport)&&($sidleReportButton=$(".sidle-report"),setSidleReportPos(),showSidleReport(),registerReportEvent($sidleReportButton))}function setSidleReportPos(){hasBgMusic?getIsFromTpl()&&$sidleReportButton.css({top:"11%"}):$sidleReportButton.css({top:"11%"})}function showSidleReport(){getForbidShare()||"1"===wsiteInfo.mamfm?hideSidleReport():(1===wsiteInfo.activityType||_isAllPageShowReport)&&$sidleReportButton&&$sidleReportButton.show()}function hideSidleReport(){$sidleReportButton&&$sidleReportButton.hide()}function initWsiteInvite(){if((appConfig.dev===!0||Cool.util.checkIsWeixin())&&wsiteInfo.isOpenInvite){var a=Cool.util.getPluginDomain("wsiteInvite",10)+"index.js";AmdLoader.require(a,function(a){if(a&&a.init){var b={id:"wsiteInvite"+_dataObj.guid,content:{token:"wsiteInvite",version:10}};a.init(b,$("#main"),apiHelper.getAppInstance(),0,0)}})}}function openWsiteInvite(){if(!wsiteInfo.isOpenInvite)return void winAlert("邀请有礼已关闭");if(window.rrxWsiteInviteMyInfo&&window.rrxWsiteInviteMyInfo.cntOver)return void winAlert("剩余次数不足");var a=$(".rrx-wsite-invite-button");a&&a.length>0&&$(".rrx-wsite-invite-button").trigger("click")}function checkHasFormInfo(a,b){a.wsiteGuid=_dataObj.guid,a.identify||(a.identify=apiHelper.getAppInstance().weixinStrong.getIdentifyId()),requestAjax("checkFormInfo",a,"GET","generalPrize").then(function(a){b(0===a.result?a.data:{has:!1})},function(a){b({has:!1})})}function initSidlePluginMsg(){if($pluginMsgButton.off().on(clickEventType,function(){var a="开启活动消息提醒";window.pluginMsgAlertTitle&&(a=window.pluginMsgAlertTitle),showAlertPluginMsg(a,function(a){if(a){var b=_$canvas.find(".rrx-plugin-msg-dialog");b&&b.length>0&&(b.find(".dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),b.find(".content-close").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),b.show())}})}),$sidleReportButton){var a=$sidleReportButton.css("display");"none"!==a&&hasBgMusic?$pluginMsgButton.css({top:getPercentValue(27)}):hasBgMusic&&"none"===a?$pluginMsgButton.css({top:getPercentValue(11)}):hasBgMusic||"none"===a?hasBgMusic||"none"!==a||$pluginMsgButton.css({top:getPercentValue(3)}):$pluginMsgButton.css({top:getPercentValue(19)})}}function setPluginMsgAlertTitle(a){window.pluginMsgAlertTitle=a}function showPluginMsgButton(){wsiteInfo&&wsiteInfo.authBehind&&$pluginMsgButton.show()}function hidePluginMsgButton(){$pluginMsgButton.hide()}function loadPluginMsg(a){if(wsiteInfo&&wsiteInfo.authBehind){var b=apiHelper.getAppInstance().weixinStrong.getAuthedInfo();if(""!==b.id&&null!==b.id&&void 0!==b.id){var c={};null!==a&&void 0!==a&&(c=$.extend({},a)),c.wsiteGuid=_dataObj.guid,c.wxOpenId=b.id,requestAjax("checkfocus",c,"POST","pluginmsg",_host).then(function(b){0===b.result&&b.data.needShowDialog&&(createRRxPluginMsgDialog(apiHelper.getAppInstance(),{qr:b.data.qr}),showPluginMsgButton()),a.callback&&a.callback(b)},function(a){})}}}function setNeedTriggerWxMessage(){var a="1",b="",c=10;Cool.cookie.setWithoutTime(getNeedTriggerWxMessageKey(),a,c,b)}function getNeedTriggerWxMessageKey(){var a=_dataObj.guid;return hex_md5("NeedTriggerWxMessage"+a)}function getNeedTriggerWxMessageCookie(){return Cool.cookie.get(getNeedTriggerWxMessageKey());
}function closeOnlyPluginDanmu(){onlyPluginDanmu=!1}function isShowDanmu(){return forceOpenDanmu?forceOpenDanmu:getIsFromTpl()?!1:_dataObj.danmuLike&&_dataObj.danmuLike.show?!0:!1}function isOldWsite(){return!1}function isShowDanmuAnimate(){return forceOpenDanmu?forceOpenDanmu:getIsFromTpl()?!1:_dataObj.danmuLike&&_dataObj.danmuLike.showDanmu?!0:!1}function createDanmu(){danmuButtonShow&&isShowDanmu()&&(rrxdebug&&console.info("createDanmu"),$danmuButton.off().on(clickEventType,function(a){if(a.stopPropagation(),a.preventDefault(),checkWeixinAlert()){if(wsiteInfo.authBehind){var b=apiHelper.getAppInstance().weixinStrong.getAuthedInfo();""!==b.id&&null!==b.id&&void 0!==b.id&&(authUserInfo=b)}if(null===authUserInfo){var c={stid:currentPageId,clickType:"danmu"};apiHelper.getAppInstance().weixinStrong.auth(function(a){authUserInfo=a,Danmaku.hide(),showDanmuEvent()},c)}else Danmaku.hide(),showDanmuEvent()}}),showEffect($danmuButton))}function getHasSetTeamCopyright(){return wsiteInfo.team&&wsiteInfo.team.copyrightText?!0:!1}function createDanmuPanel(){var a="rrx-icon-danmu-open l-icon";_dataObj.hasOwnProperty("danmuLike")&&(_dataObj.danmuLike.showDanmu||(a="rrx-icon-danmu-close l-icon"));var b='<a class="rrx-icon-close-layer dm_close"></a><div class="comment-send-tip"></div><div class="p-buttons"><div class="btn-like"><div class="rrx-icon-danmu-like l-icon"></div><div class="l-txt">喜欢</div><span class="l-tip">'+danmu_like_count+'</span></div><div class="btn-danmu"><div class="'+a+'"></div><div class="l-txt">弹幕</div><span class="l-tip">'+danmu_comment_count+'</span></div><div class="btn-share"><div class="rrx-icon-danmu-share l-icon"></div><div class="l-txt">分享</div></div></div><div class="p-publish"><input type="text" placeholder="发布弹幕"> <a href="javascript:void(0)">发布</a></div><div class="p-comments"><div class="comment-list"><div class="scroll-comment"></div></div></div>';"customer"!==_copyrightFrom&&"na"!==_copyrightFrom&&(_isWxMin||getHasSetTeamCopyright()||(b+='<div class="p-make"><a href="'+getMakeRRxUrl(!0)+'" target="_blank">我也要制作人人秀</a></div>')),b+="customer"===_copyrightFrom?'<div class="p-copyright">'+getCopyrightCustomer(!0)+'<span class="show-report">举报</span></div>':"na"===_copyrightFrom?'<div class="p-copyright"></div>':'<div class="p-copyright"><span class="show-report">举报</span><span class="show-copyright"><a href="'+getMakeRRxUrl()+'" target="_blank" style="color:#fff;">'+getMakeRRxContent()+"</a></span></div>",$danmuPanel.html(b),"na"!==_copyrightFrom&&registerReportEvent($danmuPanel.find(".p-copyright .show-report")),_dataObj.showVisitCount&&null!==_log&&!getIsFromTpl()&&setTimeout(function(){0!==_log.getVisitCount()&&$danmuPanel.find(".p-copyright").append('<span class="show-visit">阅读:'+_log.getVisitCount()+"</span>")},300),1===parseInt(_dataObj.forbidShare)&&($danmuPanel.find(".p-buttons .btn-share").css({visibility:"hidden"}),$sharePanel.find(".share-tips-box").hide(),$sharePanel.find(".share-button-box").hide()),loadCommentListByiScroll(DM_Comment_List)}function showDanmuEvent(){displayPanelDialog("down","up","danmu"),null===danmuiScrollInstance&&(createDanmuPanel(),bindDanmuElementEvent())}function hideDanmuInfo(){preIconPanelIsShow=$iconsPanel&&"none"==$iconsPanel.css("display")?!1:!0,hideTopIcons()}function pageIsHaveTopPlugin(a,b,c,d){var e=getPageObjById(currentPageId);if(void 0===currentPageId&&console.trace(currentPageId),null===e||void 0===e)return!1;var f=e.elementList;b=b||"照片投票";for(var g=0;g<f.length;g++){if(a&&pluginIsTop(f[g].content.isTop))return!0;if(void 0!==b&&null!==b&&""!==$.trim(b)&&b.indexOf(f[g].content.name)>-1)return!0;if(d&&pluginIsFull(f[g].content.sizeType))return!0;if(c&&c.indexOf(0|f[g].content.categoryId)>-1)return!0}return!1}function resetDanmuInfo(){preIconPanelIsShow&&showTopIcons()}function bindDanmuElementEvent(){var a=$danmuPanel.find(".p-buttons .btn-share"),b=$danmuPanel.find(".p-buttons .btn-like"),c=$danmuPanel.find(".p-buttons .btn-danmu"),d=$danmuPanel.find(".p-publish a"),e=$danmuPanel.find(".dm_close"),f=$danmuPanel.find(".p-publish input");f.unbind().bind(clickEventType,function(){!checkWeixinAlert()}),e.unbind().bind(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),$(window).trigger("sysDanmaCloseClick"),displayPanelDialog("up","down","danmu")}),c.unbind().bind(clickEventType,function(a){a.stopPropagation(),a.preventDefault();var b=c.find(".l-icon");b.hasClass("rrx-icon-danmu-close")?(b.addClass("rrx-icon-danmu-open"),b.removeClass("rrx-icon-danmu-close"),_dataObj.danmuLike.showDanmu=!0,closeOnlyPluginDanmu(),forceOpenDanmu=!1,Danmaku.start()):(b.addClass("rrx-icon-danmu-close").removeClass("rrx-icon-danmu-open"),_dataObj.danmuLike.showDanmu=!1,Danmaku.stop())}),b.unbind().bind(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),sendLikePost();var b=$('<div class="like_icon" style="background-image: url('+authUserInfo.headimgurl+')"></div>');$danmuPanel.append(b),b.css({transform:"translateY(40px) scale(0.5)","-webkit-transform":"translateY(40px) scale(0.5)"}),function(a){setTimeout(function(){a.css({"-webkit-transition":"1.5s ease-out",transition:"1.5s ease-out",transform:"translateY(-120px) scale(1)","-webkit-transform":"translateY(-120px) scale(1)"}),a.get(0).addEventListener("webkitTransitionEnd",function(){$(this).remove()},!1)},0)}(b)}),a.unbind().bind(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),$danmuPanel.hide(),$danmuPanel.removeClass("danmu-up").addClass("damu-down"),_isWxMin&&displayPanelDialog("up","down","danmu"),lanchShare(),_rrxtach.recordShareClick(apiHelper.getAppInstance().weixinStrong.getWxOpenId())}),d.unbind().bind(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),sendComment()})}function getCommentLikeCount(){ajaxPost("like/getCount",{wsiteGuid:_dataObj.guid},function(a){0===a.result?(danmu_like_count=a.data.likeCount,danmu_comment_count=a.data.commentCount,createDanmu()):console.error(a)})}function sendLikePost(){danmu_like_count=parseInt(danmu_like_count)+1;var a=$danmuPanel.find(".p-buttons .btn-like .l-tip");a.html(danmu_like_count),setTimeout(function(){ajaxPost("like/add",{wsiteGuid:_dataObj.guid,wechatOpenId:authUserInfo.id,name:authUserInfo.nickname,photo:authUserInfo.headimgurl,fg:getFg()},function(a){0===a.result&&(hasDoLike||isInLikeList(a.data.wechatOpenId)||Danmaku.addLikeData(a.data))})},2e3)}function html2Escape(a){return a.replace(/[<>&"]/g,function(a){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[a]})}function sendComment(){if(!isSending){var a=$danmuPanel.find(".p-publish input");if(""===a.val())return void showDanmuTip("评论信息不能为空！");if(Danmaku.getCharacterSize(a.val())>48)return void showDanmuTip("评论信息不能超过25个字符！");if(null===authUserInfo)return void showDanmuTip("微信授权失败，请尝试点击输入框！");isSending=!0,ajaxPost("comment/add",{wsiteGuid:_dataObj.guid,review:!0,content:html2Escape(a.val()),wechatOpenId:authUserInfo.id,name:authUserInfo.nickname,photo:authUserInfo.headimgurl,fg:getFg()},function(b){if(0===b.result){var c=$danmuPanel.find(".p-buttons .btn-danmu").find(".l-icon");c.hasClass("rrx-icon-danmu-close")&&(c.addClass("rrx-icon-danmu-open"),c.removeClass("rrx-icon-danmu-close"),_dataObj.danmuLike.showDanmu=!0),danmu_comment_count=parseInt(danmu_comment_count,10)+1,a.val(""),showDanmuTip("评论成功 ^_^");var d=$danmuPanel.find(".p-buttons .btn-danmu .l-tip");d.html(danmu_comment_count),b.data.photo&&(b.data.photo=handleWxHeadImg(b.data.photo)),DM_Comment_List.unshift(b.data),Danmaku.refresh(DM_Comment_List),appendCommentToList(b.data)}else showDanmuTip("评论失败 ︶︿︶")})}}function handleWxHeadImg(a){return a?(a.indexOf(!1)&&a.indexOf("/0")>-1&&(a=a.replace("/0","/64")),a.replace("http://","https://")):a}function showDanmuTip(a){var b=$danmuPanel.find(".comment-send-tip");b.css("display","block"),b.css("top",getPercentValue(4)),b.html(a),setTimeout(function(){b.css("top","-100px"),isSending=!1,setTimeout(function(){b.css("display","none")},1e3)},700)}function appendCommentToList(a){if(a.createTime||(a.createTime=getNowFormatDate()),!a.hideInList){var b=$danmuPanel.find(".p-comments .comment-list");b.find(".scroll-comment").prepend(getCommentHtml(a))}}function getCommentHtml(a){return a.hideInList?"":a.customCommnetListItem?($citem=$('<div class="cm-content" data-customid="'+a.customId+'" data-photo="'+a.photo+'">'+a.customCommnetListItem+"</div>"),a.customEvent&&$citem.unbind("mousedown touchstart").bind("mousedown touchstart",function(b){b.preventDefault(),b.stopPropagation(),console.info("click",a.customEvent),a.customEvent.clickEvent($citem,a.customData,a.customId)}),$citem):'<div class="cm-content"><img src="'+a.photo+'"><span>'+html2Escape(a.content)+"</span></div>"}function getNowFormatDate(){var a=new Date,b="-",c=":",d=a.getMonth()+1,e=a.getDate();d>=1&&9>=d&&(d="0"+d),e>=0&&9>=e&&(e="0"+e);var f=a.getHours();f>=0&&9>=f&&(f="0"+f);var g=a.getMinutes();g>=0&&9>=g&&(g="0"+g);var h=a.getSeconds();h>=0&&9>=h&&(h="0"+h);var i=a.getFullYear()+b+d+b+e+" "+f+c+g+c+h;return i}function stringTime2Time(a){try{if(a){a=a.replace(/-/g,"/");var b=Date.parse(new Date(a));return b/=1e3}return nowTime()}catch(c){return nowTime()}}function nowTime(){var a=Date.parse(new Date);return a/=1e3}function srotDanmuList(a,b){a=a.sort(function(a,b){return b-a});var c=[];return $.each(a,function(a,d){$.each(b,function(a,b){d===b.sort&&(inSortList(c,b)||c.push(b))})}),c}function inSortList(a,b){var c=!1;return $.each(a,function(a,d){d.content===b.content&&d.name===b.name&&d.photo===b.photo&&d.createTime===b.createTime&&(c=!0)}),c}function isInLikeList(a){var b=!1;return $.each(DM_Comment_Like_List,function(c,d){return d.wechatOpenId===a&&(b=!0)?b:void 0}),b}function loadCommentListByiScroll(a){var b=$danmuPanel.find(".p-comments .comment-list");$.each(a,function(a,b){b.sort=stringTime2Time(b.createTime),danmuSortKey.push(b.sort)}),a=srotDanmuList(danmuSortKey,a);for(var c=0;c<a.length;c++)b.find(".scroll-comment").append(getCommentHtml(a[c]));null===danmuiScrollInstance&&(danmuiScrollInstance=new iScroll(b.get(0),{bounce:!1,bounceLock:!1,vScrollbar:!1}))}function getCommentList(){ajaxPost("comment/getCommentList",{wsiteGuid:_dataObj.guid},function(a){0===a.result&&(a.data&&a.data.length>20&&(a.data=a.data.slice(0,19)),$.each(a.data,function(a,b){b.photo=handleWxHeadImg(b.photo),DM_Comment_List.push(b)}),a.likeData&&a.likeData.length>10&&(a.likeData=a.likeData.slice(0,9)),$.each(a.likeData,function(a,b){b.photo=handleWxHeadImg(b.photo),DM_Comment_Like_List.push(b)}),isShowDanmu()&&(initDanmu(),isShowDanmuAnimate()&&!window.rrxDanmuJump&&danmuAnimateShow&&Danmaku.start()))})}function initDanmu(a){var b="horizontal";if(void 0!==_dataObj.danmuLike&&null!==_dataObj.danmuLike&&(b=_dataObj.danmuLike.style),onlyPluginDanmu){var c=[];console.log(DM_Comment_List),$.each(DM_Comment_List,function(a,b){console.log(b),b.source&&"plugin"===b.source&&c.push(b)}),Danmaku.init({style:b}),console.log(c),Danmaku.setDanmuData(c),Danmaku.setDanmuLikeData(DM_Comment_Like_List)}else Danmaku.init({style:b}),Danmaku.setDanmuData(DM_Comment_List),Danmaku.setDanmuLikeData(DM_Comment_Like_List);a&&Danmaku.start()}function ajaxPost(a,b,c){$.post(getInteractServiceHostIfHttps()+a,{form:b},function(a){c(a)},"json")}function listenVisibilitychange(a){}function renderPage(a,b,c){(void 0===b||null===b)&&(b=!0),(void 0===c||null===c)&&(c=!0),$(".pt-wrapper .arrow-down p").css("background-image","none !important"),$(".pt-wrapper .arrow-down p").css("background-image","none !important"),$page=_$canvas.find(".page_"+a),"sharepage"==a?$page=$sharepage:"loadingpage"==a?$page=$loadingpage:"floorpage"==a?$page=$floorpage:"toppage"==a?$page=$pagewrapper:b&&flipLoadImage(a);var d=null,e=!1;return _dataObj.swipe=void 0,$page.data("isrender")!==!0?("loadingpage"!==a&&pageCodeInit(a,apiHelper.getAppInstance()),pageEventInit(a),$page.data("isrender",!0),d=getPageObjById(a),null!==d&&(d=newLongPageFactory.formatPageByLongPlugin(d),e=d.longPage,d.longPage?(longPageObj["p"+a]=d,void 0===d.longPagebgMode||1===parseInt(d.longPagebgMode)?(parsePageBackgroundFixMode(d,$page),$page.append(parsePage(d))):(parsePageBackgroundColor(d,$page),$page.append(parsePage(d)),parsePageBackgroundImage(d,$page.find(".pt-page-element-list-box")))):void 0===d.backgroundImageNaturalWidth||void 0===d.backgroundView?($page.append(parsePageBackground(d)),$page.append(parsePage(d))):(parsePageBackgroundColor(d,$page),$page.append(parsePage(d)),parsePageBackgroundImage(d,$page.find(".pt-page-element-list-box"))),d.elementList&&!_isEditing&&$.each(d.elementList,function(a,b){if("html"===b.type){if(e=!b.content.fullscreen&&e,b.content.scroll){var c=apiHelper.getAppInstance().getElement(b.id,d.id);if(c){console.log("new myHtmlScroll");var f=new iScroll(c.find(".we-canvas").get(0),{checkDOMChanges:!0,bounce:!1,bounceLock:!1,onBeforeScrollStart:function(a){a.stopPropagation(),newLongPageFactory.setCanScroll(!1)},onBeforeScrollEnd:function(a){a.stopPropagation(),newLongPageFactory.setCanScroll(!0)}});iScrollInstances.push({pageId:d.id,elemId:b.id,instance:f})}}}else if("div"===b.type&&b.isLongText){var g="vertical"===b.textDirec,h=apiHelper.getAppInstance().getElement(b.id,d.id);if(h){var i=new iScroll(h.find(".txt-long-iscroll").get(0),{hScrollbar:g?!0:!1,vScrollbar:g?!1:!0,checkDOMChanges:!0,bounce:!0,bounceLock:!0,onBeforeScrollStart:function(a){a.stopPropagation()}});iScrollInstances.push({pageId:d.id,elemId:b.id,instance:i})}}}),Cool.util.checkIsMobile()||_isEditing||!e||setTimeout(function(){rrxScrollLongPageIScroll(d)},100),recoredPageRendered(a))):c&&(_isEditing||loadPluginEvent(a),d=getPageObjById(a),d.elementList&&!_isEditing&&$.each(d.elementList,function(a,b){d.elementList[a].playedAnimation=!1}),e=d.longPage),c?($.isNumeric(a)||"loadingpage"!==a&&pageCodeLoad(a,apiHelper.getAppInstance()),e):void 0}function rrxScrollLongPageIScroll(a){var b=_$canvas.find(".page_"+a.id),c=b.find(".iscroll_wrapper").get(0);if(c){var d=new iScroll(c,{checkDOMChanges:!0,bounce:!1,bounceLock:!1,scrollbars:!0,onScrollBottom:function(){limitBottomCount++},onScrollTop:function(){limitTopCount++}});iScrollInstances.push({pageId:a.id,elemId:-1,instance:d})}}function renderDialog(a){$page=_$canvas.find(".page_"+a),(null===$page||void 0===$page||0===$page.length)&&$ptWrapper.append('<div class="pt-page dialog-page page_'+a+'" data-id="'+a+'"></div>'),$page=_$canvas.find(".page_"+a),flipLoadImage(a);var b=null;return iScrollLongPage=!1,$page.data("isrender")!==!0?("loadingpage"!==a&&pageCodeInit(a,apiHelper.getAppInstance()),pageEventInit(a),$page.data("isrender",!0),b=getPageObjById(a),null!==b&&(void 0===b.backgroundImageNaturalWidth||void 0===b.backgroundView?($page.append(parsePageBackground(b)),$page.append(parsePage(b))):(parsePageBackgroundColor(b,$page),$page.append(parsePage(b)),parsePageBackgroundImage(b,$page.find(".pt-page-element-list-box"))),b.elementList&&!_isEditing&&$.each(b.elementList,function(a,c){if("html"===c.type&&c.content.scroll){var d=apiHelper.getAppInstance().getElement(c.id,b.id);if(d){console.log("new myHtmlScroll");var e=new iScroll(d.find(".we-canvas").get(0),{checkDOMChanges:!0,bounce:!1,bounceLock:!1,onBeforeScrollStart:function(a){a.stopPropagation()}});iScrollInstances.push({pageId:b.id,elemId:c.id,instance:e})}}}))):(b=getPageObjById(a),b.elementList&&!_isEditing&&$.each(b.elementList,function(a,c){b.elementList[a].playedAnimation=!1})),regDialogCloseSelf(a),iScrollLongPage}function renderPagePart(a,b){var c=5;a=parseInt(a,10);var d=_pageIdList.indexOf(a);if(!(d>pageListCount-1)){for(var e=d+1;d+c>e&&e<_pageIdList.length;e++)_pageRendered[_pageIdList[e]+""]||(rrxdebug&&console.log("after will render",e,_pageIdList[e]),rrxdebug&&console.log(_pageRendered[e+""]),renderPage(_pageIdList[e],!0,b));for(var f=d-1;f>=d-c&&f>=0;f--)_pageRendered[_pageIdList[f]+""]||(rrxdebug&&console.log("before will render",f,_pageIdList[f]),renderPage(_pageIdList[f],!0,b));_pageRendered[a+""]||renderPage(a,!0,b)}}function recoredPageRendered(a){_isEditing||(_pageRendered[a+""]=!0)}function regDialogCloseSelf(a){var b=_$canvas.find(".page_"+a);b.find(".pt-page-element-list-box").off("click").on("click",function(b){b.stopPropagation(),"pt-page-element-list-box"===b.currentTarget.className&&"pt-page-element-list-box"===b.target.className&&dialogClose(a)}),b.find(".element_pagebg").off("click").on("click",function(b){b.stopPropagation(),console.log("close",b),"element element_pagebg"!==b.currentTarget.className||"element element_pagebg"!==b.target.className&&"pagebg_img"!==b.target.className||dialogClose(a)})}function renderProgress(a,b){if(2>pageListCount)return void $progress.css("display","none");var c="block";a===lastPageId&&(c="none");for(var d=_dataObj.pageList,e=a,f=0;f<d.length;f++)if(d[f].id===a){e=f+1;break}var g=e/b*100+"%",h=e+"/"+b;$progress.css("display",c),$(".progress-tip").animate({width:g},700),$(".progress-tip").css("display","block"),$(".progress-tip").css("height","100%"),$(".progress-tip").css("background-color","#08A1EF"),$(".page-tip").html(h),$(".page-tip").css("display","inline-block"),$(".page-tip").css("position","absolute"),$(".page-tip").css("font-size","16px"),$(".page-tip").css("bottom","10px"),$(".page-tip").css("right","10px"),$(".page-tip").css("color","#fff")}function removeCopyrightContainer(){return _isWxMin?($(".copyright").remove(),!0):!1}function needShowCopyright(){return _isWxMin?!1:!0}function renderCopyright(){renderCopyrightH5webpage()}function renderCopyrightH5webpage(){_isHaveMenu&&"rrxiu"!==_copyrightFrom&&"bottom"!==_copyrightFrom&&$copyright.css("bottom","70px"),0!==_dataObj.result?createCopyrightWeplus(!0):"customer"===_copyrightFrom?createCopyrightCustomer():createCopyrightWeplus()}function setWxMinShare(){_isWxMin&&setTimeout(function(){showSidleShare(),showSidleReport()},1500)}function object2QueryString(a,b){if(a){var c=[];return jQuery.each(a,function(a,d){d=$.trim(d),void 0!==d&&null!==d&&""!==d&&(b&&(d=encodeURIComponent(d)),c.push(a+"="+d))}),c.join("&")}return""}function navigateToWxMinPage(a,b,c){if(!a)return void console.error("nav to mini url is null");var d=a;c||b&&void 0===b.guid&&(b.guid=_dataObj.guid);var e=object2QueryString(b,!0);e&&(d+="?"+e),console.log("== mini share encode page with params",d);var f=decodeURIComponent(d);console.log("== mini share decode page with params",f),wx.miniProgram.navigateTo({url:d,success:function(a){console.log(a)},fail:function(a){console.error(a)}})}function buildWxMiniSharePath(a){return a?wsiteInfo.team&&wsiteInfo.team.wxMiniSharePagePath:appConfig.wxMinWsiteSharePage}function buildWxMinShareParams(a){var b=_dataObj.shareImageUrl||defaultShareImageUrl,c=getImageHost()+removeHostName(b),d=_dataObj.guid+"VisitFirstLogGuid",e=Cool.cookie.get(d);return a?{title:shareTitle,shareImage:c,h5Url:shareUrl}:{guid:_dataObj.guid,title:shareTitle,shareImg:c,desc:shareDesc,shareBg:getSharePosterBgImg(),visitGuid:e,wxOpenId:getWxOpenIdByShare(),crFrom:_copyrightFrom,crContent:void 0===_dataObj.copyright.content?"":_dataObj.copyright.content,crUnionRrx:_crUnionRrx}}function navigateToWxMinShare(){var a=getCanCustomWxMiniShare(),b=buildWxMiniSharePath(a),c=buildWxMinShareParams(a);navigateToWxMinPage(b,c,a)}function switchToWxMinPage(a){a=a||"index",appConfig.wxMinAppPath&&wx.miniProgram.switchTab({url:appConfig.wxMinAppPath+a+"/"+a,success:function(a){console.log(a)},fail:function(a){console.error(a)}})}function getIsFromThirdWxMin(){return Cool.util.getUrlParameterByName("ft")}function getCanCustomWxMiniShare(){return wsiteInfo.team&&wsiteInfo.team.wxMiniSharePagePath}function canLanuchWxMinShare(){return _isWxMin?getCanCustomWxMiniShare()?(console.log("custom mini page"),!0):getIsFromThirdWxMin()?!1:!0:!1}function navigateToWxMinMap(a,b,c,d){var e=getCanCustomWxMiniShare(),f={address:a,title:b,lat:c,lng:d};appConfig.wxMinWsiteMapPage?navigateToWxMinPage(appConfig.wxMinWsiteMapPage,f,e):console.error("url is null")}function checkWxMinWhenWxReady(){wsiteInfo.wxp.isp?_isWxMin||(_isWxMin="miniprogram"===window.__wxjs_environment):_isWxMin="miniprogram"===window.__wxjs_environment,wsiteInfo.wxp.isp||jumpWeb(),setWxMinShare()}function checkEnvAliMini(){2==mwa&&(wsiteInfo.wxp.isp||window.my&&my.getEnv(function(a){_isWxMin=a.miniprogram,jumpWeb()}))}function jumpWeb(){(window.location.href.indexOf(rrxCommConfig.wxMinDomain)>-1||2===wsiteInfo.rrxfp)&&!_isWxMin&&(window.location.href=appConfig.viewDomainFormat.replace("{guid}",_dataObj.guid))}function getCopyrightCustomer(a){var b=void 0===_dataObj.copyright.content?"":_dataObj.copyright.content,c="";return c=a?'<span class="show-copyright">'+createCopyrightHrefConent(_dataObj.copyright.url,b,getCopyrightColor(""))+"</span>":'<span class="show-copyright">'+createCopyrightHrefConent(_dataObj.copyright.url,b,getCopyrightColor(_dataObj.copyright.color))+"</span>"}function createCopyrightCustomer(){$copyright.css("background-color",getCopyrightBgColor(_dataObj.copyright.bgColor)),$copyright.css("color",getCopyrightColor(_dataObj.copyright.color)),$copyright.css("text-align",getCopyrightTextAlign(_dataObj.copyright.textAlign)),$copyright.html(getCopyrightCustomer()),$copyright.prepend(getShowReportByWeplus()),registerReportEvent($copyright.find(".show-report")),_dataObj.showVisitCount&&null!==_log&&!getIsFromTpl()&&setTimeout(function(){0!==_log.getVisitCount()&&$copyright.append('<span class="show-visit">阅读:'+_log.getVisitCount()+"</span>")},1500)}function getShowVisitByWeplus(){var a='<span class="show-visit" ';return _dataObj.flipProgress&&(a+='style="margin-right:40px;margin-bottom:2px;"'),a+=">阅读:"+_log.getVisitCount()+"</span>"}function getShowAllPageReport(){return'<a href="javascript:void(0)" class="show-allpage-report">举报</a>'}function hideAllPageReport(){}function showAllPageReport(){}function getShowReportByWeplus(){return'<span class="show-report">举报</span>'}function getShowCopyrightByWeplus(){var a=appConfig.copyright;return'<span class="show-copyright">'+createCopyrightHrefConent(getMakeRRxUrl(),getMakeRRxContent(),getCopyrightColor(a.color))+"</span>"}function getShowCopyrightByUnion(){var a=appConfig.copyright,b=getCopyrightColor(a.color),c=_dataObj.copyright.bgColor,d=_dataObj.copyright.url,e='<div class="cy-union">'+createCopyrightHrefConent(d,_dataObj.copyright.content,b)+"</div>",f='<div class="cy-rrxiu">'+createCopyrightHrefConent(d,_crUnionRrx,b)+"</div>";return $copyright.css({height:"68px","line-height":"68px","background-color":c}),'<span style="background-color:'+c+'" class="show-copyright">'+e+f+"</span>"}function createCopyrightWeplus(a){var b="",c=appConfig.copyright,d=getShowReportByWeplus(),e=null;$copyright.css("background-color",getCopyrightBgColor(c.bgColor)),$copyright.css("color",getCopyrightColor(c.color)),"na"===_copyrightFrom?($copyright.css("pointer-events","none"),_dataObj.showVisitCount&&a!==!0&&!getIsFromTpl()&&setTimeout(function(){0!==_log.getVisitCount()&&(b=getShowVisitByWeplus(),$copyright.append(b))},1500)):(b="union"===_copyrightFrom?getShowCopyrightByUnion():getShowCopyrightByWeplus(),$copyright.css("text-align","center"),a?($copyright.html(b),showCopyright(!0,currentPageId)):(b=d+b,_dataObj.showVisitCount&&null!==_log&&!getIsFromTpl()&&setTimeout(function(){0!==_log.getVisitCount()&&$copyright.append('<span class="show-visit">阅读:'+_log.getVisitCount()+"</span>")},1500),$copyright.html(b),registerReportEvent($copyright.find(".show-report")),e=getPageObjById(currentPageId),showCopyright(e?e.stopFlip:!1,currentPageId)))}function getIsFromTpl(){return Cool.util.getUrlParameterByName("tpl")}function createCopyrightHrefConent(a,b,c){return _isWxMin?b:void 0!==a&&null!==a&&""!==$.trim(a)?'<a href="'+a+'" target="_blank" style="color:'+c+';">'+b+"</a>":b}function getCopyrightTextAlign(a){return"center"}function getCopyrightContent(a){return void 0===a||""===$.trim(a)?"免费制作 → 人人秀":a}function getCopyrightBgColor(a){return"na"===_copyrightFrom?"rgba(255,255,255,0)":void 0===a||""===$.trim(a)?"rgba(0,0,0,0.5)":a}function getCopyrightColor(a){return void 0===a||""===$.trim(a)?"#fff":a}function createPageEventList(){_dataObj.pageEventList={}}function createPageCodes(){if(_dataObj.pageCodeList={},wsiteInfo.wxp.isp&&_dataObj.pageList){var pageList=_dataObj.pageList,specialList=["loadingpage","floorpage","sharepage"],pageCode=null;$.each(specialList,function(idx,sid){void 0!==_dataObj[sid]?void 0!==_dataObj[sid].code&&null!==_dataObj[sid].code&&""!==_dataObj[sid].code?eval("_dataObj.pageCodeList['"+_dataObj[sid].id+"']= new function(){"+_dataObj[sid].code+" return this;};"):(pageCode=getCodeByCodeList(sid),null!==pageCode&&eval("_dataObj.pageCodeList['"+pageCode.id+"']= new function(){"+pageCode.code+" return this;};")):"loadingpage"===sid&&(pageCode=getCodeByCodeList(sid),null!==pageCode&&eval("_dataObj.pageCodeList['"+pageCode.id+"']= new function(){"+pageCode.code+" return this;};"))});var i=0,pageItem;for(i=0;i<pageList.length;i++)pageItem=pageList[i],void 0!==pageItem.code&&null!==pageItem.code&&""!==pageItem.code?eval("_dataObj.pageCodeList['"+pageItem.id+"']= new function(){"+pageItem.code+" return this;};"):(pageCode=getCodeByCodeList(pageItem.id),null!==pageCode&&eval("_dataObj.pageCodeList['"+pageCode.id+"']= new function(){"+pageCode.code+" return this;};"));if(_dataObj.dialogList)for(pageList=_dataObj.dialogList,i=0;i<pageList.length;i++)pageItem=pageList[i],void 0!==pageItem.code&&null!==pageItem.code&&""!==pageItem.code?eval("_dataObj.pageCodeList['"+pageItem.id+"']= new function(){"+pageItem.code+" return this;};"):(pageCode=getCodeByCodeList(pageItem.id),null!==pageCode&&eval("_dataObj.pageCodeList['"+pageCode.id+"']= new function(){"+pageCode.code+" return this;};"));showloadingpageCode()}}function getCodeByCodeList(a){if(void 0===_dataObj.codeList)return null;var b=_dataObj.codeList,c=null;return $.each(b,function(b,d){return d.id===a?(c=d,!1):void 0}),c}function getPageCodes(a){var b={code:"",plugin:""},c=["loadingpage","floorpage","sharepage"];if($.each(c,function(a,c){void 0!==_dataObj[c]&&(b=_dataObj[c])}),null!==b){var d=!1,e=0;for(e=0;e<_dataObj.pageList.length;e++)a==_dataObj.pageList[e].id&&(b=_dataObj.pageList[e],d=!0);if(!d&&_dataObj.dialogList)for(e=0;e<_dataObj.dialogList.length;e++)a==_dataObj.dialogList[e].id&&(b=_dataObj.dialogList[e])}return b}function loadExternalJsLibs(a){if(_isSetting)return void a();if(void 0===_dataObj.codeJsLibs)return createPageCodes(),void a();var b=_dataObj.codeJsLibs;return 1===b.length&&""===$.trim(b[0])?(createPageCodes(),void a()):void Cool.util.loadJs(b,function(){createPageCodes(),a()})}function pageCodeInit(a,b){if(wsiteInfo.wxp.isp&&void 0!==_dataObj.pageCodeList){var c=_dataObj.pageCodeList[a];void 0!==c&&null!==c&&void 0!==c.init&&null!==c.init&&c.init(b)}}function pageCodeLoad(a,b){if(wsiteInfo.wxp.isp&&void 0!==_dataObj.pageCodeList){var c=_dataObj.pageCodeList[a];void 0!==c&&null!==c&&void 0!==c.load&&null!==c.load&&c.load(b)}}function pageEventInit(a){var b=_dataObj.pageEventList[a];(void 0===b||null===b)&&(_dataObj.pageEventList[a]=[],b=_dataObj.pageEventList[a]);var c=getPageObjById(a);if(null!==c){if(!c.hasOwnProperty("elementList"))return;for(var d=0;d<c.elementList.length;d++){var e=c.elementList[d];if(void 0!==e.animationList){for(var f,g=0;g<e.animationList.length;g++)f=e.animationList[g],(1===parseInt(f.trigger)&&""!==f.eventName||2===parseInt(f.trigger))&&b.push({name:f.eventName,type:"animation",elementId:e.id,animation:f});"img"===e.type&&e.content.showAnimation&&b.push({name:e.content.eventName,type:"imageAnimation",elementId:e.id,animation:e.content}),"audio"===e.type&&b.push({name:e.content.eventName,type:"audioEvent",elementId:e.id,animation:e.content}),"video"===e.type&&b.push({name:e.content.eventName,type:"videoEvent",elementId:e.id,animation:e.content})}}}}function triggerPageEvent(a,b,c){var d=_dataObj.pageEventList[a];if(void 0!==_dataObj.pageEventList.floorpage&&(d=d.concat(_dataObj.pageEventList.floorpage)),void 0!==d&&null!==d){for(var e,f={},g=0;g<d.length;g++)e=d[g],e.name==b&&("animation"==e.type?f[e.elementId]?f[e.elementId].push(e.animation):f[e.elementId]=[e.animation]:"imageAnimation"==e.type?(clearRegIntervals(a,e.elementId),regImgElementEvent(a,e.elementId,e.animation,e.name)):"audioEvent"===e.type?regAudioEvent(a,e.elementId,e.animation,e.name):"videoEvent"===e.type?regVideoEvent(a,e.elementId,e.animation,e.name):"customEvent"==e.type&&void 0!==e.callback&&e.callback(c));for(var h in f)for(var i,j=0,k=0,l=f[h],m=0;m<l.length;m++)i=l[m],(1===parseInt(i.trigger)&&""!==i.eventName||2===parseInt(i.trigger))&&(i.duration+i.delay>k&&(k=i.duration+i.delay),j>0&&0!==i.delay?playSecondAnimation(_$canvas,{id:h},i,a):playAnimation(_$canvas,h,i,!1,a),j++)}}function createCopyRightPage(){try{if(("we+"===_copyrightFrom||"rrxiu"===_copyrightFrom)&&0===_dataObj.result&&!isOldWsite()){var a=appConfig.copyrightPage,b=getCopyrightPageValue("image");null!==b&&(a.backgroundImage=handleImgUrl(getCopyrightPageValue("image")));var c=a.elementList[0].content.html,d=_dataObj.shareImageUrl||defaultShareImageUrl;a.elementList[0].content.html=c.replace("{{shareTitle}}",_dataObj.title).replace("{{shareImageUrl}}",d).replace("{{showVisitCount}}",_dataObj.showVisitCount?"block":"none"),_dataObj.pageList.push(a),hasCopyRightPage=!0}}catch(e){}}function getIsFlipDown(){return"down"===flipWay?!0:!1}function getMakeRRxUrl(a){return _isWxMin?"javascript:void(0)":a?appConfig.copyright.url:wsiteInfo.team&&wsiteInfo.team.copyrightUrl?wsiteInfo.team.copyrightUrl:appConfig.copyright.url}function showSildeAds(a,b){var c=$("#rrx-prom-side"),d=!1;("customer"===a||"na"===a)&&(d=!0);var e=_log.getVisitCount();window.appConfig&&window.appConfig.dev&&(e=1222),console.log("==showSildeAds==",a,e);var f=!0;(d||50>=e)&&(f=!1),(null===b||void 0===b)&&(b=0),f?setTimeout(function(){c&&c.css({animation:"1s ease 0s 1 normal both running bounceInRight",display:"block",bottom:"187px"})},b):c&&c.css({display:"none"})}function showBottomAds(a,b){var c=$("#rrx-prom-bottom");(null===b||void 0===b)&&(b=0),a?setTimeout(function(){c&&c.css({animation:"1s ease 0s 1 normal both running bounceInDown",display:"flex"})},b):c&&c.css({display:"none"})}function getMakeRRxContent(){return wsiteInfo.team&&wsiteInfo.team.copyrightText?wsiteInfo.team.copyrightText:appConfig.copyright.content}function createCopyRightPage2(){try{if(getCanShowCopyrightPageEnd()&&0===_dataObj.result&&!isOldWsite()){getIsFlipDown()||($pageCopyrightPageEnd.removeClass("damu-down").addClass("damu-right"),$pageCopyrightPageEnd.css({top:0,left:"100%"}));var a="";_isWxMin?getIsFromTpl()||(a='<div class="view-more"> <a class="view-more-button mini-home-button" href="javascript:void(0)">免费制作</a> </div>'):a='<div class="view-more"> <a class="view-more-button" href="'+getMakeRRxUrl()+'" target="_blank">查看更多 >></a> </div>';var b='  <div class="rrx-icon-close-layer"> </div> <div class="share-image"> <img src="{{shareImageUrl}}"> </div> <div class="share-title">{{shareTitle}}</div> '+a+' <a href="javascript:void(0)" class="show-rrxiu-report">举报</a> <div class="bottomm-text" style="{{bgBottomColor}}"> <a class="make-rrxiu" href="{{makeRRXUrl}}" target="blank"> <span>{{makeRRXText}}</span> </a> </div> <a href="javascript:void(0)" class="show-rrxiu-visit" style="color:#fff;display:{{showVisitCount}}">阅读:{{visitCount}}</a>',c=_dataObj.shareImageUrl||defaultShareImageUrl;b=b.replace("{{shareTitle}}",_dataObj.title).replace("{{shareImageUrl}}",c).replace("{{showVisitCount}}",_dataObj.showVisitCount?"block":"none").replace("{{makeRRXUrl}}",getMakeRRxUrl()).replace("{{makeRRXText}}",getMakeRRxContent()),$pageCopyrightPageEnd.html(b),_dataObj.showVisitCount&&setTimeout(function(){var a=_log.getVisitCount(),b=$pageCopyrightPageEnd.find(".show-rrxiu-visit");!getIsFromTpl()&&b.length>0&&a>0?(b.css("display","block"),b.html(b.html().replace("{{visitCount}}",a))):b.css("display","none")},1500),registerReportEvent($pageCopyrightPageEnd.find(".show-rrxiu-report")),hasCopyRightPage=!0,$pageCopyrightPageEnd.find(".rrx-icon-close-layer").unbind().bind(clickEventType,function(a){
a.stopPropagation(),a.preventDefault(),copyrightPageEndHide()}),_isWxMin&&!getIsFromTpl()&&$pageCopyrightPageEnd.find(".mini-home-button").off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),switchToWxMinPage("index")}),getIsFlipDown()?(touch.on($pageCopyrightPageEnd,"swipedown",function(a){copyrightPageEndHide()}),touch.on($pageCopyrightPageEnd,"swipeup",function(a){"stop"!==lastPageGoto&&(console.log("netx"),pageListCount>1?(copyrightPageEndHideNoAnim(),isCopyrightPageEndGotoFirst=!0,goToNextPage()):(copyrightPageEndHideNoAnim(),isCopyrightPageEndGotoFirst=!1))})):(touch.on($pageCopyrightPageEnd,"swiperight",function(a){copyrightPageEndHide()}),touch.on($pageCopyrightPageEnd,"swiperleft",function(a){"stop"!==lastPageGoto&&(console.log("netx"),pageListCount>1?(copyrightPageEndHideNoAnim(),isCopyrightPageEndGotoFirst=!0,goToNextPage()):(copyrightPageEndHideNoAnim(),isCopyrightPageEndGotoFirst=!1))}))}}catch(d){}}function getCanShowCopyrightPageEnd(){return"we+"===_copyrightFrom||"rrxiu"===_copyrightFrom}function copyrightPageEndShow(){getCanShowCopyrightPageEnd()&&(hideDanmuInfo(),apiHelper.getAppInstance().stopFlip(),playShowCopyrightPageAnim(),setBlurBgPage(),isCopyrightPageEndShow=!0)}function copyrightPageEndHide(){getCanShowCopyrightPageEnd()&&(resetDanmuInfo(),apiHelper.getAppInstance().resetFlip(!0),playHideCopyrightPageAnim(),removeAllBlurPage(),isCopyrightPageEndShow=!1)}function copyrightPageEndHideNoAnim(){resetDanmuInfo(),apiHelper.getAppInstance().resetFlip(!0);$pageCopyrightPageEnd.css("display","none"),getIsFlipDown()?($pageCopyrightPageEnd.removeClass("damu-up"),$pageCopyrightPageEnd.addClass("damu-down")):($pageCopyrightPageEnd.removeClass("damu-left"),$pageCopyrightPageEnd.addClass("damu-right")),removeAllBlurPage(),isCopyrightPageEndShow=!1}function getCopyrightPageValue(a,b){return void 0!==_dataObj.copyrightPage?(b=b||"",null!==_dataObj.copyrightPage&&void 0!==_dataObj.copyrightPage[a]?b+_dataObj.copyrightPage[a]:null):null}function canCreateCopyrightPage(){return _isWxMin?!1:!0}function getViewHost(){if(appConfig.dev)return appConfig.viewHost;if(_isWxMin)return appConfig.viewHost;if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return appConfig.viewHost.replace("http://","https://");var a=appConfig.viewHost,b=Cool.util.isSpecDomain(a);if(b){var c=Cool.util.getUrlSubDomain(a);c&&-1===a.indexOf("://ns")&&(a=a.replace("://"+c,"://ns"+c),a=a.replace("https://","http://"))}return a}function setMusicIcon(a,b){if(""!==a){if(_isWxMin)return getImageHost()+removeHostName(a);if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)a=a.replace("http://","https://");else{var c=Cool.util.isSpecDomain(a);if(c){var d=Cool.util.getUrlSubDomain(a);d&&-1===a.indexOf("://ns")&&(a=a.replace("://"+d,"://ns"+d),a=a.replace("https://","http://"))}}$iconMusic.css("background-image","url("+a+")")}else{b=b||"on";var e="2";$iconMusic.css("background-image","url("+getViewHost()+"images/icon_music_"+b+e+".png)")}}function setMusicPosition(){_isWxMin&&(musicPosition="rt"),wsiteInfo.wxp.isp||(musicPosition="rt"),"rb"===musicPosition?($iconMusic.css("right","23px"),$iconMusic.css("bottom",getPercentValue(3))):"lt"===musicPosition?isShowFocusWechat()?($iconMusic.css("right","23px"),$iconMusic.css("top",getPercentValue(3))):($iconMusic.css("left","23px"),$iconMusic.css("top",getPercentValue(3))):"lb"===musicPosition?($iconMusic.css("left","23px"),$iconMusic.css("bottom",getPercentValue(3))):($iconMusic.css("right","23px"),$iconMusic.css("top",getPercentValue(3)))}function getPercentValue(a,b){return b=b||1280,_isPc?a/100*b+"px":a+"%"}function canAuthPlayMusic(){if(wsiteInfo&&wsiteInfo.loading){var a=wsiteInfo.loading.musicAutoPlay,b=!1;(1===a||"1"===a)&&(b=!0);var c=wsiteInfo.loading.musicUrl;if(b&&void 0!==c&&""!==c)return!0}return!1}function autoPlayBackGroundMusicByWeixin(){if(canAuthPlayMusic()){var a=wsiteInfo.loading.musicUrl;if(a=apiHelper.getAppInstance().musicPreFix(a),console.log("初始自动播放",a),null===$music)if($music=document.getElementById("viewBgMusicId"))$music.setAttribute("src",a),$music.setAttribute("preload","true"),$music.setAttribute("autoplay","autoplay");else{var b=document.createElement("audio");b.setAttribute("src",a),b.setAttribute("id","viewBgMusicId"),b.setAttribute("preload","true"),b.setAttribute("autoplay","autoplay"),$("body").append(b),$music=document.getElementById("viewBgMusicId")}canPlayAudio($music,!0)}}function canPlayAudio(a,b){a.paused&&(b&&(a.currentTime=0,a.load()),Cool.util.checkIsWeixin()===!0&&"undefined"!=typeof WeixinJSBridge?(a.play(),WeixinJSBridge.invoke("getNetworkType",{},function(b){a.paused&&(a.play(),a.paused&&$(window).one("click",function(){a.play()}))})):a.play())}function playMusic(a){if(null!==$music)$music.paused&&$music.play();else if(""!==musicUrl){if($music=document.getElementById("viewBgMusicId"))$music.setAttribute("src",musicUrl),$music.setAttribute("preload","true"),$music.setAttribute("autoplay","autoplay");else{var b=document.createElement("audio");b.setAttribute("src",musicUrl),b.setAttribute("id","viewBgMusicId"),b.setAttribute("preload","true"),b.setAttribute("autoplay","autoplay"),$("body").append(b),$music=document.getElementById("viewBgMusicId")}$music.play()}""!==musicUrl&&(_isWxMin?($music.onended=function(){setMusicIconOff()},$music.onplay=function(){playCount+=1,console.log("onplay")},$music.onpause=function(){console.log("onpause")}):$music.setAttribute("loop","loop"),$iconMusic.show(),$iconMusic.off().on("click",function(a){a.stopPropagation(),a.preventDefault(),reloveTwoClickByISroll()&&($music.paused?playMusic():stopMusic())})),null!==$music&&($music.paused?setMusicIconOff():(setMusicIcon(musicPlayIcon,"on"),$iconMusic.removeClass("music-play"),$iconMusic.removeClass("music-play-none"),$iconMusic.addClass(""===musicPlayIcon?"music-play":"music-play-none")),$music.paused&&(Cool.util.checkIsWeixin()===!0&&document.addEventListener("WeixinJSBridgeReady",function(){$music.paused&&(a=a||1,3>a&&(a+=1,playMusic(a)))},!1),$(document).off("touchend mouseup").on("touchend mouseup",function(){$(document).off("touchend mouseup"),$music.paused&&(_isWxMin?0===playCount&&playMusic():playMusic())})))}function stopMusic(){null!==$music&&($music.paused||$music.pause(),setMusicIconOff())}function setMusicIconOff(){setMusicIcon(musicStopIcon,"off"),$iconMusic.removeClass("music-play"),$iconMusic.removeClass("music-play-none")}function hideMusicIcon(){$iconMusic.hide()}function showMusicIcon(){null!==$music&&""!==musicUrl&&$iconMusic.show()}function handleAllPageImageThumb(){for(var a=_dataObj.pageList||[],b=0,c=a.length;c>b;b++)getImageListByPage(a[b]);if(_dataObj.dialogList){var d=_dataObj.dialogList;for(b=0,c=d.length;c>b;b++)getImageListByPage(d[b])}}function getLoadingImageList(a){if(_isSetting)return[];var b=[],c=0;if(_preloadAllResource){var d=_dataObj.pageList;for(c=0;c<d.length;c++)b=getImageListByPage(d[c]),d[c]!=a&&loadImgList(b,1)}else{var e=getPageObjById(a);b=getImageListByPage(e)}return b}function updateLoadingPercent(a){$loadingpage.find(".line").css("width",a+"%"),$loadingpage.find(".percent").html(a+"%")}function filterUserImage(a){return a.indexOf("@!user_image_")>-1||a.indexOf("data:image")>-1?!1:!0}function getImageListByPage(a){var b=[];if(null!==a){var c=[],d=0,e="";if(a.elementList)for(var f=0;f<a.elementList.length;f++){var g=a.elementList[f].content,h=a.elementList[f].type;if("img"===h){var i=g.width||0;if(e=handleImgUrl(g.src),filterUserImage(e)&&(e+=Cool.util.getImageThumb(i,"",e),g.src=e),b.push(e),g.showImageBorder&&(""!==g.border&&b.push(handleImgUrl(g.border)),""!==g.mask&&b.push(handleImgUrl(g.mask))),g.showAnimation&&(c=g.imageList,void 0!==c))for(var j=0;j<c.length;j++)e=handleImgUrl(c[j].src),filterUserImage(e)&&(e+=Cool.util.getImageThumb(i,"",e),c[j].src=e),b.push(e)}else if("imggroup"===h){c=g.list||[];for(var k=0;k<c.length;k++)d=a.elementList[f].width,e=handleImgUrl(c[k].src),filterUserImage(e)&&(e+=Cool.util.getImageThumb(d,h,e),c[k].src=e),b.push(e);Cool.util.loadJs(appConfig.libHost+"flux.js?v="+appConfig.version)}else if("plugin"===h){if("卡片"===g.name&&g.imageList){c=g.imageList;for(var l=0;l<c.length;l++)""!==c[l].src&&(d=a.elementList[f].width,e=handleImgUrl(c[l].src),filterUserImage(e)&&(e+=Cool.util.getImageThumb(d,"",e),c[l].src=e),b.push(e))}else if(g.banners&&g.banners.length)for(var m=0;m<g.banners.length;m++)-1==g.banners[m].indexOf("@!")&&(g.banners[m]+="@!user_image_700x1")}else if("svgShape"===h){var n=getSvgFullUrl(g.src);""!==n&&b.push(n)}}""!==a.backgroundImage&&void 0!==a.backgroundImage&&(e=handleImgUrl(a.backgroundImage),filterUserImage(e)&&(e+=Cool.util.getImageThumb(a.backgroundImageNaturalWidth,"",e),a.backgroundImage=e),b.push(e))}return b}function getLoadingBorderPluginList(){var a=_dataObj.pageList;if(!a)return{pluginList:[]};_dataObj.dialogList&&(a=a.concat(_dataObj.dialogList));for(var b,c=[],d=[],e=!1,f=0;f<a.length;f++){var g=a[f].elementList;if(void 0!==g&&""!==g&&null!==g)for(var h=0;h<g.length;h++)"plugin"===g[h].type?(b=Cool.util.getPluginDomain(g[h].content.token,g[h].content.version)+"index.js",-1===d.indexOf(b)&&c.push({element:g[h],token:g[h].content.token,version:g[h].content.version,url:b}),e=!0):"map"===g[h].type&&g[h].content.embed&&(e=!0)}return e&&initQQMap(),{pluginList:c}}function loading(a,b,c){var d=getLoadingBorderPluginList(),e=d.pluginList,f=fnLoadPluginImages(e);a=a.concat(f);var g=0,h=0,i=.6;void 0!==_dataObj.loadingpage&&(g=500,h=500,i=1,void 0!==_dataObj.loadingpage.delay&&(g=1e3*_dataObj.loadingpage.delay));var j=i*(a.length+e.length),k=0;if(0===j){var l=setInterval(function(){_allowFlip===!0&&(clearInterval(l),setTimeout(function(){$loadingpage.addClass("pt-page-fadeOut animated"),setTimeout(function(){$loadingpage.hide()},500),c&&c()},g))},10),m=g+500+10;updatePerForNoImg(m,b)}else{for(var n=!1,o=function(){percent=parseInt(k/j*100,10),percent>100&&(percent=100),b(percent);var a=e.length>0?100:96;if(percent>=a&&n===!1){n=!0;var d=setInterval(function(){_allowFlip===!0&&(clearInterval(d),setTimeout(function(){$loadingpage.hasClass("pt-page-fadeOut")===!1&&($loadingpage.addClass("pt-page-fadeOut animated"),setTimeout(function(){$loadingpage.hide()},h),c&&c())},g))},10)}},p=function(){k++,o()},q=function(a){loadSvg(a).then(function(b,c,d){4==d.readyState&&200==d.status&&(isLoadedSvg(a)||pushLoadedSvgKey(a),saveLoadedSvgXml(a,d.responseText)),p()},function(a){console.error(a),p()})},r=0;r<a.length;r++)if(src=a[r],src.indexOf(".svg")>-1)q(src);else{var s=new Image;s.src=src,s.onload=p,s.onerror=p}var t=[],u=function(a){if(a&&"0"!=a.length){rrxdebug&&console.log("预加载插件js");var b=a.shift();t.indexOf(b.url)>-1?(k++,o(),u(a)):(t.push(b.url),$wePluginClient.preload(b.element,function(){k++,o(),u(a)}))}};u(e)}}function fnLoadPluginImages(a){for(var b=[],c=["pagesInSingle","beadd8004b2c0e3a1173eb1efbff9225","aeaae5aad118de699c9e91d5cd278365","c9acc5c5f157ce2010f380bba5eb70d7"],d=0;d<a.length;d++){var e=a[d];if(c.indexOf(e.token)>-1&&e.element.content&&e.element.content.dialogList)for(var f=0;f<e.element.content.dialogList.length;f++){var g=e.element.content.dialogList[f];b=b.concat(getImageListByPage(g))}}return b}function updatePerForNoImg(a,b){var c=100/a,d=1,e=setInterval(function(){b(d),d>=100&&(d=100,clearInterval(e)),d++},c)}function flipLoadImage(a){var b=_$canvas.find(".page_"+a);if(b.data("isrender")!==!0){var c=0,d=[],e=_dataObj.pageList;if(void 0!==e){var f;for(c=0;c<e.length;c++)if(f=e[c],f.id==a){c>0&&d.push(e[c-1].id),c<e.length-1&&d.push(e[c+1].id);break}for(c=0;c<d.length;c++)if(b=_$canvas.find(".page_"+d[c]),b.data("isrender")!==!0){f=getPageObjById(d[c]);var g=getImageListByPage(f);d[c]==a?loadImgList(g,0):loadImgList(g,1)}}}}function loadImgList(a,b){var c=0,d="";if(0===b)for(c=0;c<a.length;c++){d=a[c];var e=new Image;e.src=d}else setTimeout(function(){for(c=0;c<a.length;c++){d=a[c];var b=new Image;b.src=d}},500)}function showLoadingpage(){void 0!==_dataObj.llImageUrl&&""!==_dataObj.llImageUrl||_dataObj.showCustomLoadingLogo||void 0!==_dataObj.loadingpage&&void 0!==_dataObj.loadingpage.title&&($loadingpage.html(""),renderPage("loadingpage"),playPageByPageId("loadingpage"))}function showloadingpageCode(){void 0!==_dataObj.loadingpage&&(pageCodeInit("loadingpage",apiHelper.getAppInstance()),pageCodeLoad("loadingpage",apiHelper.getAppInstance()))}function showFloorpage(){void 0!==_dataObj.floorpage&&(renderPage("floorpage"),playPageByPageId("floorpage"))}function showToppage(){void 0!==_dataObj.toppage&&void 0!==_dataObj.toppage.elementList&&_dataObj.toppage.elementList.length>0&&(renderPage("toppage"),playPageByPageId("toppage"))}function showSharepage(){void 0!==_dataObj.sharepage?(renderPage("sharepage"),playPageByPageId("sharepage")):renderDefautShareInfo(),$sharepage.show()}function checkDefautShareInfoSetting(){(void 0===appConfig.shareInfo||null===appConfig.shareInfo)&&(appConfig.shareInfo={color:"#fff",bgColor:"rgba(0, 0, 0, 0.7)",content:'<div style="position:absolute;top:3px;right:10px;font-size:24px;">&uarr;&uarr;&uarr;</div><div style="position:absolute;top:40px;right:10px;font-size:24px;">点我分享</div>'})}function renderDefautShareInfo(){checkDefautShareInfoSetting(),$sharepage.css("background-color",appConfig.shareInfo.bgColor),$sharepage.css("color",appConfig.shareInfo.color);var a=$sharepage.html();$sharepage.html(a+appConfig.shareInfo.content)}function hideSharepage(){$sharepage.hide()}function showReportpage(){if(_reportInit===!1){var a='<div class="pt-report"><div class="report-content"><div class="report-title">请选择投诉该网页的原因:</div><div class="report-reason"><div class="reason-item" data-value="欺诈">网页包含欺诈信息（如：假红包）</div><div class="reason-item" data-value="色情低俗">网页包含色情信息</div><div class="reason-item" data-value="暴力恐怖">网页包含暴力恐怖信息</div><div class="reason-item" data-value="政治敏感">网页包含政治敏感信息</div><div class="reason-item" data-value="个人隐私">网页在收集个人隐私信息（如：钓鱼链接）</div><div class="reason-item" data-value="诱导分享">网页包含诱导分享性质的内容</div><div class="reason-item" data-value="谣言">网页可能包含谣言信息</div><div class="reason-item" data-value="虚假活动">网页包含虚假活动</div><div class="reason-item" data-value="刷票">网页有刷票行为</div></div><div class="report-close"><a href="javascript:void(0)">关闭</a></div></div><div class="report-msg"><div class="rt-msg-icon"></div><div class="rt-msg-text"><span>投诉已提交</span></div><div class="rt-msg-close"><a href="javascript:void(0);">关闭</a></div></div></div>\n';$reportpage.html(a),$reportpage.css("display","block"),$reportpage.css("z-index","10000"),$reportpage.css("width","100%"),$reportpage.css("height","100%"),_reportInit=!0;var b=$reportpage.find(".reason-item"),c=$reportpage.find(".report-close"),d=$reportpage.find(".report-msg .rt-msg-close a"),e=!1;b.on(clickEventType,function(a){if(a.stopPropagation(),a.preventDefault(),!e){e=!0;var b=$(a.currentTarget).data("value");if(""!==b){var c=_host+"WsiteReport/Add";$.ajax({type:"get",url:c,data:{guid:_dataObj.guid,reason:b,fg:getFg(),openId:apiHelper.getAppInstance().weixinStrong.getWxOpenId()},datatype:"script",complete:function(a){}}),setTimeout(function(){$reportpage.find(".report-content").hide(),$reportpage.find(".report-msg").show(),e=!1},500)}}}),c.on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),$reportpage.css("display","none")}),d.on(clickEventType,function(a){_isWxMin?$reportpage.css("display","none"):"undefined"!=typeof WeixinJSBridge?WeixinJSBridge.call("closeWindow"):(window.close(),setTimeout(function(){$reportpage.css("display","none")},1e3))})}else $reportpage.css("display","block"),$reportpage.find(".report-content").show(),$reportpage.find(".report-msg").hide()}function suspended(a){void 0===a&&(a="暂停访问");var b='<div class="pt-reportpage page_reportpage" style="display:none"></div><div class="pt-wrapper"><div class="pt-suspended"><div class="msg">'+a+"</div></div><div class=\"copyright\"><a href='http://www.rrxiu.net' target='_blank'><div>使用 <span>人人秀</span> 制作</div></a></div></div>";_$canvas.find(".pt-inner").append(b),_copyrightFrom="rrxiu",$copyright=_$canvas.find(".copyright"),$reportpage=_$canvas.find(".pt-reportpage"),renderCopyright(),showCopyright(!0)}function needCode(a){void 0===a&&(a="需要授权");var b='<div class="pt-wrapper" id="pt-wrapper-needcode"><div class="pt-code"><div class="code-title">'+_dataObj.title+'</div><div class="msg">'+a+"</div><div><table><tr><td><input type='text' name='code' class='code-value' placeholder='输入授权码' /></td></tr><tr><td><input class='code-submit' type='button' value='提交'/></td></tr></table></div><div class=\"copyright\"><a href='http://www.rrxiu.net' target='_blank'><div>使用 <span>人人秀</span> 制作</div></a></div></div>";_$canvas.find(".pt-inner").append(b),$code=_$canvas.find(".code-value"),$btn=_$canvas.find(".code-submit");var c=getInteractServiceHostIfHttps();$btn.bind(clickEventType,function(){var a=$code.val();if(""!==a){var b=c+"view/data";$.ajax({type:"post",url:b,data:{id:_dataObj.guid,code:a,preview:_isPreview===!0?1:0},datatype:"script",complete:function(){$("#pt-wrapper-needcode").remove();var a=Cool.util.getUrlParameterByName("from_code"),b=getQrc(),d=getQrcType();_log=new WePlusLog(c,_dataObj.guid,a,b,_isPreview,"",d),base.init(c,_$canvas,coolData,_isPc,_isWeixin,_log,_isEditing,_isPreview)}})}})}function getQrc(){var a=Cool.util.getUrlParameterByName("qrc_code");return(""===a||null===a||void 0===a)&&(a=Cool.util.getUrlParameterByName("qrc")),$.trim(a)}function getQrcType(){var a=Cool.util.getUrlParameterByName("qrcty");return""===a||null===a||void 0===a?"":$.trim(a)}function appendChannelParams(a){return console.log("==appendqrc 11==",JSON.stringify(a)),Cool.util.isNullOrUndef(a)?a:(a.qrc=getQrc(),a.qrcty=getQrcType(),console.log("==appendqrc 22==",a),a)}function getCanvasRealHeight(){return parseFloat(_$canvas.height()/_$canvas.width())*canvasDefaultWidth}function initBone(){var a='<img class="pt-icons-button focus-wechat-button"><img class="pt-icons-button top-menu-button"><div class="pt-icons-button my-points-button"></div><div class="pt-icons-button myprize-button rrx-icon-sidle-myprize"></div><div class="pt-icons-button danmu-button rrx-icon-sidle-danmu"></div><div class="pt-icons-button copyright"></div><div class="pt-icons-button plugin-copyright"></div><div class="pt-icons-button wxmin-share-button">分享</div><div class="pt-icons-button danmu-show"></div><div class="pt-preview-notice">预览模式，仅供测试</div><div class="pt-progress"><span class="progress-tip"></span><span class="page-tip"></span></div><div class="arrow-down"><p></p></div><div class="arrow-right"><p></p></div><div class="pt-icons-button music"><span class="music1"><s></s></span><span class="music2"><s></s></span><span class="music3"><s></s></span></div><div class="pt-icons-button sidle-share rrx-icon-share"></div><div class="pt-icons-button sidle-report rrx-icon-report"></div><div class="pt-icons-button sidle-plugin-msg rrx-icon-msg"></div>',b="",c='<div class="pt-wrapper"><div class="pt-pagewrapper"><div class="pt-pagelist"></div></div></div>';_$canvas.find(".pt-icons").append(a),_$canvas.find(".pt-dialogs").append(b),_$canvas.find(".pt-inner").append(c),$ptWrapper=_$canvas.find(".pt-wrapper"),$previewNotice=_$canvas.find(".pt-preview-notice"),$copyright=_$canvas.find(".copyright"),$pluginCopyright=_$canvas.find(".plugin-copyright"),$wxminShareButton=_$canvas.find(".wxmin-share-button"),$pagewrapper=_$canvas.find(".pt-pagewrapper"),$pagelist=_$canvas.find(".pt-pagelist"),$progress=_$canvas.find(".pt-progress"),$floorpage=_$canvas.find(".pt-floorpage"),$loadingpage=_$canvas.find(".pt-loadingpage"),$sharepage=_$canvas.find(".pt-sharepage"),$reportpage=_$canvas.find(".pt-reportpage"),$sharepage.bind(clickEventType,function(){$(this).hide()}),$iconArrowDown=_$canvas.find(".arrow-down"),$iconArrowRight=_$canvas.find(".arrow-right"),$iconMusic=_$canvas.find(".music"),$focusButton=_$canvas.find(".focus-wechat-button"),$topMenuButton=_$canvas.find(".top-menu-button"),$focusPanel=_$canvas.find(".focus-wechat-panel"),$topMenuPanel=_$canvas.find(".top-menu-panel"),$sharePanel=_$canvas.find(".share-panel"),$sharePosterDialog=_$canvas.find(".share-poster-result-dialog"),$pageCopyrightPageEnd=_$canvas.find(".page_copyrightPage"),$danmuButton=_$canvas.find(".danmu-button"),$danmuPanel=_$canvas.find(".danmu-panel"),$danmuShow=_$canvas.find(".danmu-show"),$focusWxQrPanel=_$canvas.find(".focus-plugin-wxqr-panel"),$iconsPanel=_$canvas.find(".pt-icons"),$dialogsPanel=_$canvas.find(".pt-dialogs"),$myPrizeButton=_$canvas.find(".myprize-button"),$pluginMsgButton=_$canvas.find(".sidle-plugin-msg"),$myPointsButton=_$canvas.find(".my-points-button"),$myPrizeButton.off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault();var b=apiHelper.getAppInstance().weixinStrong.getAuthedInfo(),c=$(this).data("baseColor"),d={pluginType:"product"};apiHelper.getAppInstance().getMyActivePrizeList(_dataObj.guid,"",b.id,c,"我的奖品",null,d)})}function initSwipe(){var a=!1;setScrollFn(),$pagewrapper.on("mousedown touchstart",function(b){return longPageObj["p"+currentPageId]?void newLongPageFactory.moveStart(b):(a=!0,void((_allowFlip&&!getPageStopflip(currentPageId)&&pageEffectComplete(currentPageId)||"copyrightPage"===currentPageId)&&scrollStart(b)))}),$pagewrapper.on("mousemove touchmove",function(b){return longPageObj["p"+currentPageId]?void newLongPageFactory.moving(b):(a&&(_allowFlip&&!getPageStopflip(currentPageId)&&pageEffectComplete(currentPageId)||"copyrightPage"==currentPageId?(scrollMove(b),rrxdebug&&console.info("can flip")):rrxdebug&&console.info("cannot flip pid",currentPageId,_allowFlip)),void(rrxdebug&&console.log("touchmove")))}),$pagewrapper.on("mouseup touchend mouseleave",function(b){return longPageObj["p"+currentPageId]?void newLongPageFactory.moveEnd(b):(a=!1,void((_allowFlip&&!getPageStopflip(currentPageId)&&pageEffectComplete(currentPageId)||"copyrightPage"===currentPageId)&&scrollEnd(b)))}),$("img").on("dragstart",function(a){a.preventDefault()})}function pageEffectComplete(a){var b=$($.find(".pt-inner .page_"+a));if(!b)return!0;var c=b.find('div[data-role="pt-page-effect"]');return c&&0!==c.length&&"no"===c.attr("data-complete")?!1:!0}function commpletedPageEffect(a){var b=$($.find(".pt-inner .page_"+a));if(b){var c=b.find('div[data-role="pt-page-effect"]');c&&c.attr("data-complete","yes")}}function getCoord(a){if(!a)return!1;left=$pagewrapper.offset().left,top=$pagewrapper.offset().top;var b,c;return("mousedown"==a.type||"mousemove"==a.type)&&(b=a.pageX-left,c=a.pageY-top),("touchstart"==a.type||"touchmove"==a.type)&&(b=a.touches?a.touches[0].pageX:a.originalEvent.touches[0].pageX,c=a.touches?a.touches[0].pageY:a.originalEvent.touches[0].pageY),{x:b/_pt_inner_scale_value,y:c/_pt_inner_scale_value}}function scrollStart(a){if(isSliding=!0,_isDisableFlipPage)rrxdebug&&console.log("_isDisableFlipPage true");else{scrolling||(_$activePage=null),rrxdebug&&console.log("isStart = true"),isStart=!0,isNext=!1,isFirstTime=!0,moveDistanceX=0,moveDistanceY=0;var b=getCoord(a);b&&(startX=b.x,startY=b.y),_$currentPage=_$canvas.find(".page_"+currentPageId).first(),cssAnimation(_$currentPage[0].style,"Transition","none")}}function scrollMove(a){if(enableScroll()){rrxdebug&&console.log("scrollMove");var b=getCoord(a);b&&(moveDistanceX=b.x-startX,moveDistanceY=b.y-startY),setScrollFn(),rrxdebug&&console.log("绑定移动方法"),doScrollMoveFn()}else rrxdebug&&console.log("not scrollMove")}function scrollEnd(a){isSliding=!1,scrolling=!1,rrxdebug&&console.log("isStart",isStart),isStart&&(isStart=!1,rrxdebug&&console.log("_$activePage",_$activePage),_$activePage&&(_isDisableFlipPage=!0,setScrollEndAnim(),setScrollFn(),doScrollEndFn(),_allowFlip||apiHelper.getAppInstance().resetFlip())),_canContinue=!0}function flipend(){$pluginCopyright.hide(),_pageScrollEnd=!1;var a=currentPageId;currentPageId=_$activePage.data("id"),$page=_$activePage,rrxdebug&&console.log("flipend",currentPageId),rrxdebug&&console.log("regPageEndEvent",currentPageId);var b=_$activePage.data("id");b==lastPageId?b===_copyrightId&&(hideDanmuInfo(),_pageScrollEnd=!0):a===_copyrightId&&resetDanmuInfo(),console.log("====prevId======",a),pausePageAudio(a),setPageArrowIcon(currentPageId),triggerPluginLeaveEvent(a),void 0!==_log&&_log.clearPageLeaveCount(),rrxdebug&&console.info("flipend-showCopyright ",currentPageId,lastPageId,_copyrightId),currentPageId==lastPageId&&"rrxiu"!==_copyrightFrom?(rrxdebug&&console.log("flipend-showCopyright ",currentPageId,lastPageId),showCopyright(!0,currentPageId),getCanShowCopyrightPageEnd()?showArrow():hideArrow()):(showCopyright(!1,currentPageId),showArrow()),renderPagePart(currentPageId,!1),setTimeout(function(){_flipProgress===!0&&renderProgress(currentPageId,totalPages)},10),setTimeout(function(){regPageEndEvent(currentPageId),cssAnimation(_$currentPage[0].style,"Transition","none"),deactive(_$activePage).addClass("pt-page-current"),deactive(_$currentPage).removeClass("pt-page-current"),_$currentPage=_$activePage,_isDisableFlipPage=!1,_$currentPage.css("z-index","1"),$(".pt-page").attr("style",""),rrxdebug&&console.log("end"),updateUserReadDepth(),"loadingpage"!==currentPageId&&pageCodeLoad(currentPageId,apiHelper.getAppInstance()),_isEditing||loadPluginEvent(currentPageId),newLongPageFactory.initLongPage(),flipBlurPage(),isCopyrightPageEndGotoFirst=!1},flipEndTimeout)}function setScrollFn(){rrxdebug&&console.log(_dataObj.flipWay,_dataObj.flipAnimation);var a=_dataObj.flipWay?_dataObj.flipWay:"down",b=parseInt(_dataObj.flipAnimation,10);switch(b){case 0:b="Move";break;case 110:b="Move";break;case 120:b="Fade";break;case 130:b="Move";break;case 140:b="Move";break;case 150:b="Move";break;case 170:b="Scale",animTime=.8,flipEndTimeout=990;break;case 200:b="Card";break;case 210:b="LRMove";break;case 220:b="LRMove";break;case 230:b="LRMove";break;case 240:b="LRRotate";break;case 250:b="LRSlide";break;default:b="Move"}_scrollMode=b,doScrollMoveFn=scroll[a+b+"Move"]||scroll.downMoveMove,doScrollEndFn=scroll[a+b+"End"]||scroll.downMoveEnd}function getPageDomById(a){return _$canvas.find(".page_"+a).first()}function enableScroll(){return rrxdebug&&console.log("isStart _dataObj.pageList",isStart,_dataObj.pageList),getCanShowCopyrightPageEnd()?isStart&&_dataObj.pageList.length>0:isStart&&_dataObj.pageList.length>1}function setCssWhenMove(a,b,c,d,e){if(_$activePage){var f=a?"-":"",g=c-Math.abs(d);cssAnim(_$activePage,"transform",b+"("+f+g+"px)")}}function setCssWhenEnd(a,b,c,d){cssAnim(_$currentPage,"transform","scale(1)"),cssAnim(_$activePage,"transform",a+"(0px)")}function setCssWhenEndForCopyright(a,b,c,d,e){cssAnim(a,"transform","scale(1)"),cssAnim(a,"transform",b+"(0px)")}function cssAnim(a,b,c){for(var d=["","-webkit-","-moz-"],e=0;e<d.length;e++)a.css(d[e]+b,c)}function cssAnimation(a,b,d){for(var e=["","webkit","moz"],f=0,g=e.length;g>f;f++){0===f&&(b=b.substring(0,1).toLowerCase()+b.substring(1,b.length));var h=d instanceof Array?d[f]:d;c=e[f]+b,a[c]=h}}function cancelFlip(){_isDisableFlipPage=!0;var a;setScrollFn(),a=moveDistanceY>0?-windowHeight:windowHeight,cssAnim(_$activePage,"transform","translateY("+a+"px)"),cssAnim(_$currentPage,"transform","translateY(0) scale(1)"),setTimeout(function(){_$currentPage.attr("style",""),_$activePage.attr("style",""),"copyrightPage"===currentPageId&&_$activePage.css({display:"block"}),deactive(_$activePage),_isDisableFlipPage=!1},500)}function getMoveInit(a,b,c,d){var e=_$activePage;deactive(_$activePage),active(_$activePage);var f=a?"-":"";e[0].style.webkitTransition="none",e[0].style.transition="none",e[0].style.webkitTransform=c+"("+f+d+"px)",e[0].style.transform=c+"("+f+d+"px)",cssAnim(_$currentPage,"transform-origin",b)}function active(a){return playPageByPageId(a.data("id")),a.addClass("z-active")}function deactive(a){return a.removeClass("z-active")}function setScrollEndAnim(){var a="linear";"LRSlide"===_scrollMode&&setTransition(_$currentPage[0],animTime,a),setTransition(_$activePage[0],animTime,a)}function setTransition(a,b,c){a.style.webkitTransition="-webkit-transform "+b+"s "+c,a.style.transition="transform "+b+"s "+c}function getActivePage(a){if(scrolling)return _$activePage;var b;return"prev"===a?(b=getActualPageId(-2),getPageDomById(b)):"next"===a?(b=getActualPageId(-1),getPageDomById(b)):void 0}function goToPrePage(){console.log("goToPrePage");var a=0;scrollStart(),timer_goToPrePage=setInterval(function(){a+=2,_scrollMode.indexOf("LR")>-1?moveDistanceX=a:moveDistanceY=a,scrollMove(),a>=21&&(clearInterval(timer_goToPrePage),timer_goToPrePage=null,scrollEnd())},1)}function goToNextPage(){console.log("goToNextPage");var a=0;scrollStart(),timer_goToNextPage=setInterval(function(){a-=2,rrxdebug&&console.log("e",a,_scrollMode,moveDistanceY),rrxdebug&&console.log(_scrollMode,a),_scrollMode.indexOf("LR")>-1?moveDistanceX=a:moveDistanceY=a,scrollMove(),-21>=a&&(clearInterval(timer_goToNextPage),timer_goToNextPage=null,scrollEnd(),rrxdebug&&console.log("clear..........."))},1)}function isCurrentToCurrent(a){return"next"==a||"pre"==a?!1:("first"==a&&(a=getFirstPageId()),_$activePage=getPageDomById(a),_$activePage.length>0?parseInt(a)===parseInt(currentPageId):!0)}function goToPageById(a){if(!isCurrentToCurrent(a)&&(renderPagePart(a,!1),!_isDisableFlipPage))if("first"===a)goToPageById(getFirstPageId());else if("next"===a)goToNextPage();else if("pre"===a)goToPrePage();else{var b=getPageObjById(a);if(null===b)return;if(scrolling=!0,_$activePage=getPageDomById(a),_$activePage.length>0){var c=_pageIdList.indexOf(parseInt(currentPageId,10)),d=_pageIdList.indexOf(parseInt(a,10));c>d?goToPrePage():d>c&&goToNextPage()}}}function resetPageScroll(a){console.log("reset");var b=getiScroll(a,-1);null!==b&&b.scrollTo(0,0)}function beforeScrollEndThenNext(){clearAllCustomIntervals(),stopShake(),removeAllVideo()}function beforeScrollEndThenCopyrightEndPage(a){rrxdebug&&console.log(a),a==lastPageId&&a===_copyrightId&&($(".make-rrxiu").hide(),$(".show-rrxiu-visit").hide(),hideDanmuInfo(),showCopyrightEndPage())}function isStopNextPage(){if(rrxdebug&&console.log("isStopNextPage",currentPageId,lastPageId),currentPageId==lastPageId){if(getCanShowCopyrightPageEnd())return!1;if("stop"==lastPageGoto)return!0}return!1}function isContinuePrePage(){return rrxdebug&&console.log("isContinuePrePage",currentPageId,lastPageId),currentPageId==firstPageId?!1:!0}function doTransform(a,b){var c=$(".iscroll_wrapper").find(".pt-page-element-list-box");transformEle(c,"translate3d(0,"+a+"px,0)",b)}function doTransformIscrollWrapper(a,b,c){transformEle(a,"translate3d(0,"+b+"px,0)",c)}function transformEle(a,b,c){if(a.css({transition:"","-webkit-transition":""}),c){var d="transform "+c+"ms ease-out";a.css({transition:d,"-webkit-transition":"-webkit-"+d})}a.css({transform:b,"-webkit-transform":"-webkit-"+b})}function swipeFlipEvent(a,b){rrxdebug&&console.log("swipeFlipEvent"),"left"===a||"up"===a?goToNextPage():goToPrePage()}function formatWsiteTitle(){var a=defaultShareTitle,b=document.title;return a.indexOf("#分享人昵称#")>-1&&wsiteInfo.wxauthedInfo&&wsiteInfo.wxauthedInfo.nickname&&(b=replaceAll(a,"#分享人昵称#",wsiteInfo.wxauthedInfo.nickname),b=replaceAll(b,"#分享数#",wsiteInfo.visitCount||"00")),b}function formatShareUrl(a){return a=a||location.href.split("#")[0]}function registerShareNickName(){_isWeixin&&wsiteInfo.hasShareNickName&&wsiteInfo.fromshareid&&(shareUrl=Cool.util.getBrowserUrl("fromshareid",wsiteInfo.fromshareid,shareUrl),shareTitle=formatWsiteTitle())}function initShareInfo(){var a=function(){void 0!==_dataObj.describe&&(shareDesc=_dataObj.describe),void 0!==_dataObj.title&&(shareTitle=_dataObj.title),(void 0===_dataObj.shareImageUrl||""===_dataObj.shareImageUrl)&&(_dataObj.shareImageUrl=defaultShareImageUrl),shareImageUrl=_dataObj.shareImageUrl};if(defaultShareTitle=_dataObj.title,_dataObj.title=document.title,"0"===wsiteInfo.wxp.newReview||403===coolData.result){var b="欢迎使用人人秀，您的作品审核不通过";shareDesc=b,shareTitle=b,document.title=b,coolData={result:403,msg:"审核不通过"}}else a()}function fnHackTitle(a){a&&!wsiteInfo.hasShareNickName&&(document.title=a);var b=navigator.userAgent.toLowerCase();
if(b.indexOf("iphone")>-1)var c=$("body"),d=$('<iframe style="width: 0;height: 0;border: none;" src="/favicon.ico"></iframe>').on("load",function(){setTimeout(function(){d.off("load").remove()},0)}).appendTo(c)}function getFirstPageId(){var a=$pagelist.find("div.pt-page:not(.ifpage)").first(),b=0;return a&&(b=a.data("id")),b}function pageObjectToArray(a){if(a.hasOwnProperty("pageList")&&a.pageList.constructor===Object){var b=[];for(var c in a.pageList)b.push(a.pageList[c]);a.pageList=b}return a}function dialogObjectToArray(a){if(a.hasOwnProperty("dialogList")&&a.dialogList.constructor===Object){var b=[];for(var c in a.dialogList)b.push(a.dialogList[c]);a.dialogList=b}return a}function handleImgUrl(a){if(a){if(a.indexOf("data:image")>-1)return a;if(a.indexOf("://assets")>-1)return a;if(a.indexOf("/assets/plugin/")>-1)return a;if(_isWxMin)return appConfig.imageHost+removeImgPrefix(a);if(wsiteInfo&&wsiteInfo.imgcdn){if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return"https://"+wsiteInfo.imgcdn+"/"+removeImgPrefix(a);var b="http://"+wsiteInfo.imgcdn+"/"+removeImgPrefix(a),c=Cool.util.isSpecDomain(b);if(c){var d=Cool.util.getUrlSubDomain(b);d&&-1===b.indexOf("://ns")&&(b=b.replace("://"+d,"://ns"+d))}return b}return appConfig.imageHost+removeImgPrefix(a)}return""}function removeImgPrefix(a){return a?a.indexOf("data:image")>-1?a:(Cool.util.checkIsIphone()||(a=a.replace("@!convert_webp_png","")),removeHostName(a)):""}function appendThumb(a,b){if(!b)return a;var c=a.indexOf("?");return c>-1?a:a.indexOf("://file")>-1||a.indexOf("://rrxfile")>-1?a.indexOf("@")>-1?a:a+b:a}function removeImgThumbFlag(a){if(a){var b=a.indexOf("@!");if(b>-1)return a.substring(0,b)}return a}function handleDataUrl(a){if(appConfig.dev)return a.indexOf("http://")>-1?a:(a=a.replace("rrxiu/web/data/",""),appConfig.dataHost+a);if(!a)return"";if(_isWxMin)return appConfig.dataHost+removeHostName(a);if(a.indexOf("/plugin/")>-1)return a;if(wsiteInfo&&wsiteInfo.datacdn){if(wsiteInfo.flhtps||wsiteInfo.httpsEnabled)return"https://"+wsiteInfo.datacdn+"/"+removeHostName(a);a="http://"+wsiteInfo.datacdn+"/"+removeHostName(a);var b=Cool.util.isSpecDomain(a);if(b){var c=Cool.util.getUrlSubDomain(a);c&&-1===a.indexOf("://ns")&&(a=a.replace("://"+c,"://ns"+c))}return a}return appConfig.dataHost+removeHostName(a)}function removeHostName(a){if(void 0===a||null===a)return"";"number"==typeof a&&(a=a.toString());var b=a.indexOf("://");if(-1===b)return a;var c=a.substring(0,b+3);a=a.replace(c,"");var d=a.indexOf("/");if(-1===d)return a;var e=a.substr(d+1,a.length);return e}function allowFlipCurrentPage(){return _allowFlip&&_allowFlipCurrentPage?!0:!1}function allowFlipPageState(a){var b=_allowFlipCurrentPage;return a&&a!=currentPageId&&(b=!getPageStopflip(a)),b}function showArrow(){getCanShowCopyrightPageEnd()?getPageCount()>0&&allowFlipCurrentPage()&&pageEffectComplete(currentPageId)&&("down"==flipWay?$iconArrowDown.show():$iconArrowRight.show()):getPageCount()>1&&allowFlipCurrentPage()&&pageEffectComplete(currentPageId)&&currentPageId!==lastPageId&&("down"==flipWay?$iconArrowDown.show():$iconArrowRight.show())}function hideArrow(){"down"==flipWay?$iconArrowDown.hide():$iconArrowRight.hide()}function getPageCount(){return null!==$pagelist?$pagelist.find(".pt-page").length:0}function nextPage(){var a=!1;if(getPageCount()>1){if(currentPageId==lastPageId&&"stop"==lastPageGoto)return;var b=getActualPageId(-1);b==lastPageId?b===_copyrightId&&(hideDanmuInfo(),a=!0):currentPageId===_copyrightId&&resetDanmuInfo();var c=getAnimationIndex(b,!0);gotoPage(c,b)}a&&showCopyrightEndPage()}function prePage(){var a=!1;if(getPageCount()>1){if(currentPageId==firstPageId&&"continue"!=lastPageGoto)return;var b=getActualPageId(-2);b==lastPageId?b===_copyrightId&&(hideDanmuInfo(),a=!0):currentPageId===_copyrightId&&resetDanmuInfo();var c=getAnimationIndex(b,!1);gotoPage(c,b)}a&&showCopyrightEndPage()}function showEffect(a){a.addClass("fadeIn"),a.css("display","block")}function hideEffect(a){a.removeClass("fadeout"),a.css("display","none")}function fnCheckIsNoCopyright(){return base.isLastPage()?(console.log("ckr"),pageIsHaveTopPlugin(!1,["VR全景图"],[1,appConfig.gameCategory])):!1}function showCopyright(a,b){if(needShowCopyright()&&!getCanShowCopyrightPageEnd()){if(rrxdebug&&console.info("showCopyright",b,_copyrightId,a),b===_copyrightId)return void(_isAllPageShowReport&&hideAllPageReport());if(_isHaveMenu){var c=getIndexByArray(_dataObj.pageList,b);if(!(_menuPageIndex>c))return}var d=function(a){a===!0?(rrxdebug&&console.info("func show"),showEffect($copyright)):(hideEffect($copyright),_isAllPageShowReport&&showAllPageReport())};rrxdebug&&console.trace(_copyrightFrom),rrxdebug&&console.info("showCopyright-_copyrightFrom",_dataObj.copyright);var e=null;if("we+"!==_copyrightFrom&&"rrxiu"!==_copyrightFrom||void 0===b)if("customer"===_copyrightFrom||"bottom"===_copyrightFrom||"union"===_copyrightFrom)if("bottom"===_copyrightFrom||"union"===_copyrightFrom){if(e=getPageObjById(b),e&&e.stopFlip===!0)return void d(!0);d(a)}else{if(_isHaveMenu)return void d(!1);d(a)}else"na"===_copyrightFrom&&(_dataObj.showReport||_dataObj.showVisitCount)?d(a):0!==_dataObj.result&&d(a);else e=getPageObjById(b),d(e&&e.stopFlip===!0?!0:a)}}function showCopyrightEndPage(){return 0}function hideCopyrightEndPage(){copyrightendPageShowing=!1,$cypage=getPageDomById(_copyrightId),$cypage&&(showSidleReport(),showSidleShare(),resetDanmuInfo(),$cypage.removeClass("copyrightPageAnimShow").addClass("copyrightPageAnimHide"),setTimeout(function(){$cypage.css({zIndex:0,display:"none"}),$cypage.removeClass("copyrightPageAnimHide")},200),removeAllBlurPage())}function hideMenuPlugin(){_$canvas.find(".rrx-pg-menu-index").length>0&&(hideEffect(_$canvas.find(".rrx-pg-menu-index")),("bottom"===_copyrightFrom||"union"===_copyrightFrom||"customer"===_copyrightFrom)&&hideEffect($copyright)),$sysMenuBottom&&(hideEffect($sysMenuBottom),("bottom"===_copyrightFrom||"union"===_copyrightFrom||"customer"===_copyrightFrom)&&hideEffect($copyright))}function setMenuStyle(){_$canvas.find(".rrx-pg-menu-index").length>0&&(_$canvas.find(".rrx-pg-menu-index").css("bottom","38px"),$copyright.css("height","40px"),$copyright.css("line-height","40px"))}function sysMenuBottomStyleSet(){$sysMenuBottom&&("union"===_copyrightFrom?$sysMenuBottom.css("bottom","64px"):$sysMenuBottom.css("bottom","38px"),$copyright.css("height","40px"),$copyright.css("line-height","40px"))}function showMenuPlugin(){_$canvas.find(".rrx-pg-menu-index").length>0&&(showEffect(_$canvas.find(".rrx-pg-menu-index")),("bottom"===_copyrightFrom||"union"===_copyrightFrom||"customer"===_copyrightFrom)&&(showEffect($copyright),setMenuStyle())),$sysMenuBottom&&(showEffect($sysMenuBottom),("bottom"===_copyrightFrom||"union"===_copyrightFrom||"customer"===_copyrightFrom)&&(showEffect($copyright),sysMenuBottomStyleSet()))}function registerReportEvent(a){a.length>0&&a.off().on(clickEventType,function(){showReportpage()})}function getPrefixCss(a,b){for(var c=function(b){var c="",d=b.replace(new RegExp(/({)/g),"${").replace(new RegExp(/(})/g),"}$").split("$");if(d.length>0)for(var e=0;e<d.length;e++){var f=$.trim(d[e]);f.indexOf("{")>-1&&f.indexOf("}")>-1?c+=f:""!==f&&(c+=a+" "+f)}else c=b;return c},d="",e=b.replace(new RegExp(/(@)/g),"$@").split("$"),f=0;f<e.length;f++)d+=-1===e[f].indexOf("@")?c(e[f]):e[f];return d}function fnIsInSpacePlugin(a){if(a.elementList)for(var b=0;b<a.elementList.length;b++){var c=a.elementList[b];if("plugin"==c.type&&c.displayName&&c.displayName.indexOf("一镜到底"))return!0}return!1}function getCopyrightFrom(){var a=void 0!==_dataObj.copyright?_dataObj.copyright.from:"rrxiu";"we+"===a&&(a="rrxiu"),"customer"===a&&""===$.trim(_dataObj.copyright.content)&&(a="na");var b=_dataObj.pageList;if(b){1!==b.length||"rrxiu"!==a&&"bottom"!==a||(b[0].longPage||fnIsInSpacePlugin(b[0]))&&(a="bottom");for(var c=0;c<b.length;c++){var d=b[c].elementList;if(d)for(var e=0;e<d.length;e++)if("plugin"===d[e].type&&"菜单"===d[e].content.name){_menuPageIndex=c,_isHaveMenu=!0,"customer"===a&&_dataObj.showReport&&(a="na");break}}}return a}function _excuteElementEventByBrowser(){setTimeout(function(){var a=window.rrxBrowserParams.clickType,b=window.startPageId||-1;if(b>0&&("event"===a||"tel"===a||"sms"===a||"share"===a||"focus"===a||"menu"===a||"openDialog"===a||"danmu"===a||"alert"===a)){var c={click:{type:a,value:window.rrxBrowserParams.clickValue}};_excuteElementEvent(b,c)}},1e3)}function checkIsHaveDialogShow(){if($topMenuPanel&&$danmuPanel){var a=$topMenuPanel.get(0),b=$danmuPanel.get(0);if(b&&b.style&&"block"==b.style.display)return!0;if(a&&a.style&&"block"==a.style.display)return!0}if($pageCopyrightPageEnd){var c=$pageCopyrightPageEnd.get(0);if(c&&c.style&&"block"==c.style.display)return!0}var d=$dialogsPanel.children("div");if(_checkDivIsDisplay(d))return!0;var e=_$canvas.find(".pt-wrapper .dialog-page");return _checkDivIsDisplay(e)?!0:void 0}function _checkDivIsDisplay(a){if(!a)return!1;for(var b=0,c=a.length;c>b;b++)if(a[b]&&"block"==$(a[b]).css("display"))return!0;return!1}function checkWsiteHaveInductionPlugin(){if(0===_dataObj.result){var a=listHaveInductionPlugin(_dataObj.pageList);return a||(a=listHaveInductionPlugin(_dataObj.dialogList)),a}}function listHaveInductionPlugin(a){if(void 0===a)return!1;var b=a.length;if(b>0)for(var c=0;b>c;c++){var d=[];void 0!==a[c]&&null!==a[c]&&void 0!==a[c].elementList&&null!==a[c].elementList&&(d=a[c].elementList);for(var e=d.length,f=0;e>f;f++)if("plugin"===d[f].type&&("答题"===d[f].content.name||"答题20"===d[f].content.name||"问答"===d[f].content.name||"照片投票"===d[f].content.name||"砍价"===d[f].content.name||"新年签"===d[f].content.name||d[f].content.name.indexOf("红包")>-1||d[f].content.name.indexOf("抽奖")>-1||parseInt(d[f].content.categoryId)===appConfig.gameCategory))return!0}return!1}function isOfficialAccountsMode(){return"official_accounts"===Cool.util.getUrlParameterByName("mode")?!0:"1"===getOfficialAccountsModeCookie()?!0:!1}function getOfficialAccountsModeKey(){var a=_dataObj.guid;return hex_md5("official_accounts"+a)}function setOfficialAccountsModeCookie(){var a=isOfficialAccountsMode()?"1":"0",b="",c=10;Cool.cookie.setWithoutTime(getOfficialAccountsModeKey(),a,c,b)}function getOfficialAccountsModeCookie(){return Cool.cookie.get(getOfficialAccountsModeKey())}function initOfficialAccountsModeCookie(){var a=getOfficialAccountsModeCookie();setOfficialAccountsModeCookie()}function getCanFocusWechat(){return wsiteInfo.wxp.focusWechat}function getCanFocusByWay(a){return checkIsAppEnv()?!1:void 0===a||null===a?wsiteInfo.wxp.focusWechat:(a=parseInt(a,10),1===a?wsiteInfo.wxp.focusWechat:2===a&&wsiteInfo.wxp.focusWechat&&wsiteInfo.wxp.myWxAuthOpen?(console.log("fwa"),!0):!1)}function getCanRemoveWaterMark(){return wsiteInfo.wxp.removeWaterMark}function getCanModifyWechat(){return wsiteInfo.wxp.modifyWechat}function getCanShowShareTips(){return 1===wsiteInfo.shareTips}function getFormatCount(a){var b=a.toString();return b.length>=6&&(b=b.substr(0,2)+","+b.substr(2,3)+","+b.substr(5)),b}function clearRollList(){clearInterval(crRollInterval)}function showPluginFocus(a,b){apiHelper.getAppInstance().stopFlip(),""!==b&&void 0!==b?b+="@!200x200":b="";var c=$focusWxQrPanel.find(".dialog-content");if(null===c||void 0===c||0===c.length){var d='<a class="show-common-report">举报</a><a class="fc_wx_close"><span></span></a><div class="dialog-content"><div class="focus-box"><div class="focus-box-inner"><div class="title-tip"></div><div class="wxqr" style="margin-bottom:20px"><img class="wxqr-img"></div></div></div></div>\n';$focusWxQrPanel.html(d),c=$focusWxQrPanel.find(".dialog-content");var e=$focusWxQrPanel.find(".fc_wx_close");e.off().on(clickEventType,function(a){a.stopPropagation(),a.preventDefault(),hidePluginFocus()}),registerReportEvent($focusWxQrPanel.find(".show-common-report"))}var f=c.find(".title-tip"),g=c.find(".wxqr-img");f.text(a),g.attr("src",b),$focusWxQrPanel.show()}function hidePluginFocus(){apiHelper.getAppInstance().resetFlip(!0),$focusWxQrPanel.hide()}function updateUserReadDepth(){var a=_dataObj.pageList;if(!(window.userReadDepth>=a.length))if(currentPageId===lastPageId)window.userReadDepth=a.length;else for(var b=0;b<a.length;b++)if(a[b].id==currentPageId){b+1>window.userReadDepth&&(window.userReadDepth=b+1);break}}function getOpenCodeDialog(a,b,c,d,e){showRRXProcess("加载中..."),$.ajax({url:getInteractServiceHostIfHttps()+"/generalPrize/getOpenCode",type:"GET",data:{activeGuid:c,wxOpenId:d,winId:b},dataType:"json",xhrFields:{withCredentials:!0}}).then(function(b){if(0===b.result){if(b.data&&b.data.openCode){var c=b.data;2===parseInt(c.activeStyle)?showRRXWxPuplicDialog(a,c,e):showRRXAfterOnlineDialog(a,c,e)}}else winAlert(b.msg);hideRRXProcess()},function(a){hideRRXProcess()})}function parseRegionLimitString(a){a=a||"";var b={NONE:"NONE",REGION:"REGION",EXTENT:"EXTENT"},c={type:b.NONE};if(""!==a){var d=a.split("|"),e=d.length;if(2===e)if(c.type=d[1],c.type===b.EXTENT){var f=d[0].split("@");if(3===f.length){c.address=f[0],c.radius=f[1];var g=f[2].split(",");2===g.length&&(c.lat=g[0],c.lng=g[1])}}else c.regions=getRegions(d[0]);else e>0&&(c.type=b.REGION,c.regions=getRegions(d[0]))}return c}function getRegions(a){var b=a.split("|");return b.length>0?b[0].split(","):[]}function replaceAll(a,b,c){var d=new RegExp(b,"g");return a.replace(d,c)}function pushHistory(){if(1!=isAddBackEvent){var a=window.location.href,b={title:"pushstate",url:"#"};window.history.pushState(b,"pushstate",a),isAddBackEvent=1}}function listenEvent(){"pushState"in window.history&&(console.log("执行监听popstate"),window.addEventListener("popstate",function(a){if(console.log(a),1!=isShowGG){var b={ggImg:"https://file2.rrxh5.cc/g1/2021/05/28/1622188917588.gif",ggLink:"https://engine.lghsrh.com/index/activity?appKey=2pFfUYVHYMd63nyFtbCt6PrBNPPs&adslotId=388716&uk_a1=__IMEI__&uk_a2=__IMEI2__&uk_a3=__MUID__&uk_b1=__IDFA__&uk_b2=__IDFA2__&uk_c1=__OAID__",key:"backgg"+wsiteInfo.wsiteGuid};backGGAlert(b),isShowGG=1}},!1))}_appConfig&&!window.appConfig&&(window.appConfig=_appConfig);var mwa=parseInt(Cool.util.getUrlParameterByName("mwa")),$page=null,no_auth_wx_msg="请在微信里打开!",newappOnLine="2019-08-28 00:00:00",base=this,_$canvas=null,_$outpageWrapper=null,canvasDefaultWidth=640,$previewNotice,$copyright,$pluginCopyright,$progress,$reportpage,$iconMusic,$focusButton,$topMenuButton,$sysMenuBottom,$focusPanel,$topMenuPanel,$myPrizeButton,$danmuButton,$danmuPanel,$danmuShow,$focusWxQrPanel,$sidleShareButton,$sidleReportButton,$sharePanel,$sharePosterDialog,$sharePosterTips,$pluginMsgButton,$pageCopyrightPageEnd,$dialogsPanel,$iconsPanel,$myPointsButton,$ptWrapper=null,$pagewrapper=null,$pagelist=null,$floorpage=null,$loadingpage=null,$sharepage=null,$iconArrowDown,$iconArrowRight,currentPageId=0,_dataObj=null,_host="",_allowFlip=!0,_allowFlipCurrentPage=!0,flipWay="down",flipAnimation={enter:"1101",back:"1102"},musicUrl="",musicPlayIcon="",musicStopIcon="",musicPosition="",musicAutoPlay=!0,hasBgMusic=!1,$music=null,_isEditing=!1,PLUGIN_SIZE_TYPE={AUTO:"1",FIXED:"2",FULL:"3",SCALE:"4"},_isPc=!0,_isPreview=!1,_isPageThumb=!1,_isPageInDialog=!1,lastPageGoto="continue",firstPageId=0,lastPageId=0,hasCopyRightPage=!1,clickEventType="click",self,_log=null,_rrxtach,_isWeixin=!1,_animationEngine=appConfig.animationEngine,_copyrightFrom="",_isHaveMenu=!1,_menuPageIndex=-1,_copyrightId="copyrightPage",_leftCopyrightText="点击免费制作人人秀",_rightCopyrightText="",_page_element_list_scale_value=1,limitBottomCount=0,limitTopCount=0,iScrollInstances=[],noAutoPlayImgGroupInstances=[],pageLongScrollInstances=[],longPageObj=[],canvasStartY=0,canvasEndY=0,defaultShareImageUrl=(wsiteInfo.flhtps||wsiteInfo.httpsEnabled?"https://file2.rrxh5.cc":"http://file2.rrxh5.cc")+"/logo_blue_200x200.jpg",defaultShareTitle="",shareUrl=formatShareUrl(),shareTitle="",shareImageUrl="",shareDesc="",customIntervals=[],_preloadAllResource=!1,_reportInit=!1,_flipProgress=!1,_pagePluginCopyRight=[],PNAME_WGUID="v",longPageCopyright={title:"长页-人人秀旗下产品",image:getImageHost()+"plugin_icon/longpage.png",color:"#2ac3fd"},_crUnionRrx="人人秀技术支持",_renderAllPage=!1,subRenderTotal=20,_pageIdList=[],_pageRendered={},_pageAudio={},_isAllPageShowReport=!1,pageListCount=0,_isSetting=!1,_isWxMin=!1,rrxtrace=function(a){void 0!==_log&&null!==_log&&_log.logError(a)},getOriginUrl=function(){return void 0!==window.rrxh5OriginUrl&&null!==window.rrxh5OriginUrl&&""!==$.trim(window.rrxh5OriginUrl)?(console.log(1),window.rrxh5OriginUrl):wsiteInfo&&void 0!==wsiteInfo.vurl&&null!==wsiteInfo.vurl&&""!==$.trim(wsiteInfo.vurl)?(console.log(2),wsiteInfo.vurl):location.href.split("#")[0]},requestAjax=function(a,b,c,d,e){c=c||"GET",void 0===e&&(e=getInteractServiceHostIfHttps());var f=e+d+"/"+a;return $.ajax({url:f,type:c,data:b||{},dataType:"json",xhrFields:{withCredentials:!0}})},sysMenuBottomHtml='<div id="js_rrx_sys_menu_bottom" class="pt-icons-button rrx-sys-menu-bottom" style="background-color:{{menu.style.backgroundColor}};border-color:{{menu.style.borderColor}}"> <div class="m-buttons"> {{each menu.list as m j}} {{if m.type==\'sms\'||m.type==\'tel\'}} <a href="{{m.type}}:{{m.phone}}" data-id="{{j}}" class="m-btn-{{menu.list.length}}-{{j}} type-{{m.type}}" style="width:{{widthPercent}}%;border-color:{{menu.style.borderColor}};color:{{menu.style.color}}">{{if m.list&&m.list.length>0}} <div class="three-line"> <div class="line-1" style="background-color:{{menu.style.color}}"></div> <div class="line-2" style="background-color:{{menu.style.color}}"></div> <div class="line-3" style="background-color:{{menu.style.color}}"></div> </div>{{/if}} <span>{{m.name}}</span> </a> {{else}} <a href="javascript:void(0)" target="_blank" data-id="{{j}}" class="m-btn-{{menu.list.length}}-{{j}} type-{{m.type}}" style="width:{{widthPercent}}%;border-color:{{menu.style.borderColor}};color:{{menu.style.color}}">{{if m.list&&m.list.length>0}} <div class="three-line"> <div class="line-1" style="background-color:{{menu.style.color}}"></div> <div class="line-2" style="background-color:{{menu.style.color}}"></div> <div class="line-3" style="background-color:{{menu.style.color}}"></div> </div>{{/if}} <span>{{m.name}}</span> </a> {{/if}} {{/each}} </div> <div class="m-sub-list" style="width:{{widthPercent}}%;background-color:{{menu.style.backgroundColor}}"></div></div>\n',musicIsPlayWhenPlayAudio=!0,preIconPanelIsShow=!0,getWxJsSignTry=0,_timeOne=null;window.isLoadQQMap=!1;var newLongPageFactory={canScroll:!0,topCount:0,bottomCount:0,startY:-1,endY:-1,isMobile:Cool.util.checkIsMobile(),_interval_longpage_refresh:null,_interval_longpage_count:0,initLongPage:function(){if(this.isMobile){this.topCount=0,this.bottomCount=0,console.log("currentPageId",currentPageId),console.log("longPageObj",longPageObj);var a=longPageObj["p"+currentPageId];if(a)this.canScroll=!0,this.scrollToTop(),this._updateHeight(a.height),this.monitorScroll();else{var b=window.rrxMobileContentHeight||document.documentElement.clientHeight;this.isMobile?_$canvas.css("height",b+"px"):_$canvas.css("overflow","hidden")}this.clearLongPageInterval()}},setCanScroll:function(a){longPageObj["p"+currentPageId]&&(this.canScroll=a)},monitorScroll:function(){},_updateHeight:function(a){a=1280>a?1280:a,_$canvas.css("height",a+"px")},moveStart:function(a){if(this.isMobile){this.startY=-1,this.endY=-1;var b=getCoord(a);b.y&&(this.startY=b.y)}},moving:function(a){if(this.isMobile){var b=getCoord(a);b.y&&(this.endY=b.y)}},canMove:function(){if(!this.canScroll)return!1;var a=allowFlipCurrentPage(),b=getPageCount();return!a||!longPageObj["p"+currentPageId]||1>=b?!1:!0},moveEnd:function(){if(this.isMobile&&this.canMove()){var a=Math.abs(this.startY-this.endY);-1==this.startY||-1==this.endY||10>a||this.gotoPage()}},gotoPage:function(){if(this.isMobile){var a=$(document).scrollTop(),b=$(window).height(),c=$(document).height();if(0===a){if(firstPageId==currentPageId)return;this.topCount++,console.log("到顶了"+this.topCount),this.topCount>1?goToPrePage():showRRXTips("再滑一次进入上一页")}else if(1>=c-(a+b)){if(lastPageId==currentPageId&&"stop"==lastPageGoto)return;this.bottomCount++,console.log("到底了"+this.bottomCount),this.bottomCount>1?goToNextPage():showRRXTips("再滑一次进入下一页")}}},formatPageByLongPlugin:function(a){if(a.longPage||_isEditing)return a;for(var b=a.elementList||[],c=0,d=b.length;d>c;c++)if("plugin"==b[c].type&&b[c].content&&(b[c].content.isLong||UseLongPagePlugins.indexOf(b[c].content.name)>-1))return b[c].content.contentHeight=b[c].content.contentHeight||1521,a.longPage=!0,a.height=b[c].content.contentHeight<1280?1280:b[c].content.contentHeight,a;return a},getScrollTop:function(){return $(document).scrollTop()},scrollToTop:function(a){_isEditing||window.scroll(0,a||0)},refresh:function(a,b,c){if(a&&!_isEditing&&this.isMobile){var d=this;b=b||".scroll-list";var e=apiHelper.getAppInstance().getElement(a,c);if(e){var f=e.find(b);if(f&&0!==f.length){var g=c||currentPageId,h=longPageObj["p"+g];h&&(console.log("===refresh-scroll-class======",b),d.clearLongPageInterval(),d._interval_longpage_refresh=setInterval(function(){d._interval_longpage_count++,console.log("===_interval_longpage_count======",d._interval_longpage_count);var a=d._refreshScrollHeight(h,e,f);(a||d._interval_longpage_count>10)&&d.clearLongPageInterval()},1e3+100*d._interval_longpage_count))}}}},_refreshScrollHeight:function(a,b,c){var d=this,e=c.height();e+=50;var f=!1;return e==a.height?(f=!0,console.log("结束刷新长页插件高度",e)):(console.log("刷新长页插件高度",e),a.height=e,d._updateHeight(e)),f},clearLongPageInterval:function(){this._interval_longpage_refresh&&clearInterval(this._interval_longpage_refresh),this._interval_longpage_count=0}},multiSelectObj={getTipValue:function(a,b){var c=function(b){return"-1"===b.defaultValue.toString()?b.defaultTip||"请选择":(d=getIndexByArray(a.list,b.defaultValue,"id"),d>-1?a.list[d].value:"请选择")},d=-1;if("one"===b)return c(a);if("two"===b){if(d=getIndexByArray(a.list,a.defaultValue,"id"),d>-1)return c(a.list[d])}else if("three"===b&&(d=getIndexByArray(a.list,a.defaultValue,"id"),d>-1)){var e=getIndexByArray(a.list[d].options,a.list[d].defaultValue,"id");if(e>-1)return c(a.list[d].options[e])}return"请选择"},getOptions:function(a,b,c,d){var e=function(a){return"-1"===a.defaultValue.toString()?"<option value='-1'>"+a.defaultTip+"</option>":""},f="",g=-1,h="-1",i=c||a.defaultValue,j=[];if("one"===b)h=i,j=a.list,f=e(a);else if("two"===b)g=getIndexByArray(a.list,i,"id"),g>-1&&(h=a.list[g].defaultValue,j=a.list[g].options,f=e(a.list[g]));else if("three"===b&&(g=getIndexByArray(a.list,i,"id"),g>-1)){d=d||a.list[g].defaultValue;var k=getIndexByArray(a.list[g].options,d,"id");k>-1&&(h=a.list[g].options[k].defaultValue,j=a.list[g].options[k].options,f=e(a.list[g].options[k]))}return $.each(j,function(a,b){f+=h==b.id?'<option value="'+b.id+'" selected="selected">'+b.value+"</option>":'<option value="'+b.id+'" >'+b.value+"</option>"}),0===j.length&&(f='<option value="-1" >请选择</option>'),f},formatOne:function(a,b,c,d){c.children().length>0&&c.empty(),d.children().length>0&&d.empty(),c.append(multiSelectObj.getOptions(a.content,"two",b)),d.append(multiSelectObj.getOptions(a.content,"three",b,c.find("option:selected").val()))},formatTwo:function(a,b,c,d){d.children().length>0&&d.empty(),d.append(multiSelectObj.getOptions(a.content,"three",b,c))},bindEvent:function(a,b){var c=a.find('select[name="one"]'),d=a.find('select[name="two"]'),e=a.find('select[name="three"]'),f=this;c.on("change",function(){f.formatOne(b,c.find("option:selected").val(),d,e)}),d.on("change",function(){f.formatTwo(b,c.find("option:selected").val(),d.find("option:selected").val(),e)})}},loadedSvgKey=[],loadedSvgXml={},timer_count=0,timer_instance,t1=null,preAnimationList=[],useIphonex=!0,regImgSilderTimerRecord=[{pageId:0,isReg:!1,silderObject:[]}];ImgPlayTimer.prototype={constructor:ImgPlayTimer,setCount:function(a){this.count=a},getCount:function(){return this.count},setPageId:function(a){this.pageId=a},setElemId:function(a){this.elemId=a},setContent:function(a){this.content=a},setImgList:function(a){this.imgList=a},playImgList:function(){var a=this,b=!0,c=setInterval(function(){if(b){if(a.count>=a.imgList.length){if(a.count=0,!a.content.playLoop)return void window.clearInterval(c);b=!1,setTimeout(function(){b=!0,$(a.imgList[a.imgList.length-1]).css("opacity",0),$(a.imgList[0]).css("opacity",1)},1e3*a.content.loopDelay)}a.count>0&&($(a.imgList[a.count-1]).css("opacity",0),$(a.imgList[a.count]).css("opacity",1)),a.count++}},parseInt(1e3/a.content.playSpeed,10));regIntervals.push({pageId:a.pageId,elemId:a.elemId,interval:c})}};var regIntervals=[];musicIsPlayWhenPlayVideo=!0;var myShakeEvent={},Shake=function(a){if(this.hasDeviceMotion="ondevicemotion"in window,this.options={shake:"shake",threshold:15,timeout:1e3},"object"==typeof a)for(var b in a)a.hasOwnProperty(b)&&(this.options[b]=a[b]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof document.CustomEvent)this.event=new document.CustomEvent(this.options.shake,{bubbles:!0,cancelable:!0});else{if("function"!=typeof document.createEvent)return!1;this.event=document.createEvent("Event"),this.event.initEvent(this.options.shake,!0,!0)}};Shake.prototype={reset:function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},start:function(){this.reset(),this.hasDeviceMotion&&(window.addEventListener("devicemotion",this,!1),this.addDevEvent())},addDevEvent:function(a){var b=this;"function"==typeof DeviceMotionEvent.requestPermission&&(console.log("====进入摇一摇权限检测======"),DeviceMotionEvent.requestPermission().then(function(a){"denied"===a?(console.log("====拒绝获取摇一摇权限======"),winAlert("由于您拒绝了手机访问动作与方向的权限，目前无法使用摇一摇功能，如果想重复调起授权，请清除微信缓存！")):console.log("====用户允许获取摇一摇权限======")})["catch"](function(c){console.log("requestPermission",c),a||(console.log("====弹框提醒获取摇一摇权限======"),winAlert("请在接下来的弹窗中允许获取授权，否则将无法正常进行摇一摇",function(){console.log("====调用系统弹框获取摇一摇权限======"),b.addDevEvent(!0)}))}))},stop:function(){this.hasDeviceMotion&&window.removeEventListener("devicemotion",this,!1),this.reset()},devicemotion:function(a){var b,c,d=a.accelerationIncludingGravity,e=0,f=0,g=0;if(null===this.lastX&&null===this.lastY&&null===this.lastZ)return this.lastX=d.x,this.lastY=d.y,void(this.lastZ=d.z);if(e=Math.abs(this.lastX-d.x),f=Math.abs(this.lastY-d.y),g=Math.abs(this.lastZ-d.z),(e>this.options.threshold&&f>this.options.threshold||e>this.options.threshold&&g>this.options.threshold||f>this.options.threshold&&g>this.options.threshold)&&(b=new Date,c=b.getTime()-this.lastTime.getTime(),c>this.options.timeout)){var h=Math.abs(e+f+g)/c*1e4;this.event.speed=h.toFixed(2),window.dispatchEvent(this.event),this.lastTime=new Date}this.lastX=d.x,this.lastY=d.y,this.lastZ=d.z},handleEvent:function(a){return"function"==typeof this[a.type]?this[a.type](a):void 0}};var rrxAutoFlipTimer=null,menuScrollInstance=null,hadCreateSharePoster=!1,sharePosterCreated=!1,shareTitleLast="",shareDescLast="",shareImgLast="",shareUrlLast="",sharePosterBgImgCustomed=!1,danmuiScrollInstance=null,danmu_like_count=0,danmu_comment_count=0,isSending=!1,DM_Comment_List=[],DM_Listen_Event=$({}),forceOpenDanmu=!1,danmuButtonShow=!0,onlyPluginDanmu=!1,DM_Comment_Like_List=[],hasDoLike=!1,danmuAnimateShow=!0,authUserInfo=null,danmuSortKey=[],isCopyrightPageEndShow=!1,isCopyrightPageEndGotoFirst=!1;window.onload=function(){if(Cool.util.checkIsWeixin()===!0&&canAuthPlayMusic()){var a=document.getElementById("_comAudioPlayId");if(a){var b=apiHelper.getAppInstance().musicPreFix("g2/c1/2018/04/16/1523859614203.mp3");a.setAttribute("src",b),canPlayAudio(a,!0)}}};var playCount=0,flip=function(){function a(a,b){if(void 0!==a)if(h=a,b=void 0===b?0:b,h.find(".pt-page").each(function(){$(this).data("originalClassList",$(this).attr("class"))}),0===b){var c=h.find("div.pt-page:not(.ifpage)").first();c.addClass("pt-page-current"),i=c.data("id")}else h.find(".page_"+b).addClass("pt-page-current"),i=b}function b(a,b){c(a,b),j=!1}function c(a,b){b.attr("class",b.data("originalClassList")),a.attr("class",a.data("originalClassList")+" pt-page-current")}function d(a){return""===a&&(a="1101"),g[a]}function e(a,c){if(void 0!==h){if(j)return!1;var e,g;classes=d(a),e=classes[0],g=classes[1],j=!0;var k=null;k=0===i?h.find("div.pt-page:not(.ifpage)").first():h.find(".page_"+i).first();var l=h.find(".page_"+c).first();if(i=c,null!==l){l.data("id")!=k.data("id")&&l.addClass("pt-page-current");var m=!1,n=!1;k.addClass(g).on(f,function(a){k.off(f),m=!0,n&&b(l,k)}),l.addClass(e).on(f,function(){l.off(f),n=!0,m&&b(l,k)})}else j=!1;return _support||b(k,l),!0}}var f="webkitAnimationEnd animationend";_support=!0;var g=[];g[1101]=["pt-page-moveFromBottom","pt-page-moveToTop"],g[1102]=["pt-page-moveFromTop","pt-page-moveToBottom"],g[1201]=["pt-page-moveFromBottom pt-page-ontop","pt-page-fade"],g[1202]=["pt-page-moveFromTop pt-page-ontop","pt-page-fade"],g[1301]=["pt-page-moveFromBottom","pt-page-moveToTopEasing pt-page-ontop"],g[1302]=["pt-page-moveFromTop","pt-page-moveToBottomEasing pt-page-ontop"],g[1401]=["pt-page-flipInTop pt-page-delay500","pt-page-flipOutBottom"],g[1402]=["pt-page-flipInBottom pt-page-delay500","pt-page-flipOutTop"],g[1501]=["pt-page-rotatePullBottom pt-page-delay180","pt-page-rotatePushTop"],g[1502]=["pt-page-rotatePullTop pt-page-delay180","pt-page-rotatePushBottom"],g[1601]=["pt-page-rotateCubeTopIn","pt-page-rotateCubeTopOut pt-page-ontop"],g[1602]=["pt-page-rotateCubeBottomIn","pt-page-rotateCubeBottomOut pt-page-ontop"],g[1701]=["pt-page-scaleUpCenter pt-page-delay400","pt-page-scaleDownCenter"],g[1801]=["pt-page-rotateInNewspaper pt-page-delay500","pt-page-rotateOutNewspaper"],g[1901]=["pt-page-scaleUp","pt-page-rotateFall pt-page-ontop"],g[2001]=["pt-page-scaleUp","pt-page-moveToTop pt-page-ontop"],g[2101]=["pt-page-moveFromRight","pt-page-moveToLeft"],g[2102]=["pt-page-moveFromLeft","pt-page-moveToRight"],g[2201]=["pt-page-moveFromRight","pt-page-moveToLeftEasing pt-page-ontop"],g[2301]=["pt-page-rotateCubeLeftIn","pt-page-rotateCubeLeftOut pt-page-ontop"],g[2401]=["pt-page-rotateCarouselLeftIn","pt-page-rotateCarouselLeftOut pt-page-ontop"],g[2501]=["pt-page-rotateSlideIn","pt-page-rotateSlideOut"];var h,i=0,j=!1;return{init:a,gotoPage:e}}(),isSliding=!1,moveDistanceX=0,moveDistanceY=0,doScrollMoveFn=null,doScrollEndFn=null,scroll={},isStart=!1,isNext=!1,isFirstTime=!0,flipEndTimeout=500,animTime=.4,scrolling=!1,left=0,top=0,_isDisableFlipPage=!1,_isDisableFlipPrevPage=!1,_isDisableFlipNextPage=!1,_scrollMode=0,windowWidth=$("#pt-inner").width(),windowHeight=$("#pt-inner").height(),_$activePage=null,_$currentPage=null,touchPos=0,touchEndCount=0,touchToBottomCount=0,_canContinue=!0,_pageScrollEnd=!1,isTouching=!1,clickTime=null,pageIdWillShow=0,needBlurPage=0;scroll.downMoveMove=function(){needBlurPage=0;var a=Math.abs(moveDistanceY)<=Math.abs(moveDistanceX)||0===moveDistanceY;if(rrxdebug&&console.log("downMoveMove",a),!a)if(moveDistanceY>0){if(_isDisableFlipPrevPage)return;if(!isContinuePrePage())return void(_canContinue=!1);isNext||isFirstTime?(isNext=!1,isFirstTime=!1,_$activePage&&deactive(_$activePage),rrxdebug&&console.warn("init prev"),_$activePage=getActivePage("prev"),getMoveInit(!0,"bottom center","translateY",windowHeight)):setCssWhenMove(!0,"translateY",windowHeight,moveDistanceY,"vertical")}else if(0>moveDistanceY){if(_isDisableFlipPrevPage)return;if(isStopNextPage())return void(_canContinue=!1);if(currentPageId===lastPageId&&!isCopyrightPageEndShow&&!isCopyrightPageEndGotoFirst&&getCanShowCopyrightPageEnd())return clearInterval(timer_goToNextPage),void copyrightPageEndShow();!isNext||isFirstTime?(isNext=!0,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("next"),getMoveInit(!1,"top center","translateY",windowHeight)):setCssWhenMove(!1,"translateY",windowHeight,moveDistanceY,"vertical")}removeAllBlurPage()},scroll.downMoveEnd=function(){if(Math.abs(moveDistanceY)>Math.abs(moveDistanceX)&&Math.abs(moveDistanceY)>20){rrxdebug&&console.log(moveDistanceY,windowHeight),
setCssWhenEnd("translateY",moveDistanceY,windowHeight,_scrollMode),rrxdebug&&console.log("移动结束"),beforeScrollEndThenNext();var a=_$activePage.data("id");beforeScrollEndThenCopyrightEndPage(a),flipend()}else _isDisableFlipPage=!1,cancelFlip()},scroll.downFadeMove=function(){needBlurPage=0;var a=Math.abs(moveDistanceY)<=Math.abs(moveDistanceX)||0===moveDistanceY;if(!a)if(moveDistanceY>0){if(_isDisableFlipPrevPage)return;if(!isContinuePrePage())return void(_canContinue=!1);(isNext||isFirstTime)&&(isNext=!1,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("prev"),_$activePage.removeClass("z-fade-in"),deactive(_$activePage),_$currentPage[0].style.zIndex=1,_$activePage[0].style.zIndex=2,_$activePage.addClass("z-fade-in"),active(_$activePage))}else if(0>moveDistanceY){if(_isDisableFlipNextPage)return;if(isStopNextPage())return void(_canContinue=!1);if(currentPageId===lastPageId&&!isCopyrightPageEndShow&&!isCopyrightPageEndGotoFirst&&(console.log(isCopyrightPageEndShow),getCanShowCopyrightPageEnd()))return void copyrightPageEndShow();(!isNext||isFirstTime)&&(isNext=!0,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("next"),_$activePage.removeClass("z-fade-in"),deactive(_$activePage),_$currentPage[0].style.zIndex=1,_$activePage[0].style.zIndex=2,_$activePage.addClass("z-fade-in"),active(_$activePage))}removeAllBlurPage()},scroll.downFadeEnd=function(){if(Math.abs(moveDistanceY)>Math.abs(moveDistanceX)){beforeScrollEndThenNext();var a=_$activePage.data("id");beforeScrollEndThenCopyrightEndPage(a),setTimeout(function(){flipend()},100)}else _isDisableFlipPage=!1,cancelFlip()},scroll.downScaleMove=function(){if(needBlurPage=0,Math.abs(moveDistanceY)>Math.abs(moveDistanceX)){if(moveDistanceY>0){if(_isDisableFlipPrevPage)return;if(!isContinuePrePage())return void(_canContinue=!1);(isNext||isFirstTime)&&(isNext=!1,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("prev"),deactive(_$activePage),_$activePage[0].style.zIndex=2,active(_$activePage),_$activePage[0].style.opacity=1,_$currentPage[0].style.opacity=0)}else if(0>moveDistanceY){if(_isDisableFlipNextPage)return;if(isStopNextPage())return void(_canContinue=!1);if(currentPageId===lastPageId&&!isCopyrightPageEndShow&&!isCopyrightPageEndGotoFirst&&(console.log(isCopyrightPageEndShow),getCanShowCopyrightPageEnd()))return void copyrightPageEndShow();(!isNext||isFirstTime)&&(isNext=!0,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("next"),deactive(_$activePage),_$activePage[0].style.zIndex=2,active(_$activePage),_$activePage[0].style.opacity=1,_$currentPage[0].style.opacity=0)}var a=Math.abs(moveDistanceY)/windowHeight*1.3;_$activePage[0].style.opacity=a.toFixed(1),a.toFixed(3)<=1&&cssAnim(_$activePage,"transform","scale("+a.toFixed(3)+")")}removeAllBlurPage()},scroll.downScaleEnd=function(){if(Math.abs(moveDistanceY)>Math.abs(moveDistanceX)&&Math.abs(moveDistanceY)>20){cssAnim(_$activePage,"transform","scale(1)"),_$activePage[0].style.opacity=1,beforeScrollEndThenNext();var a=_$activePage.data("id");beforeScrollEndThenCopyrightEndPage(a),flipend()}else cssAnimation(_$currentPage[0].style,"Transition","none"),cssAnimation(_$activePage[0].style,"Transition","none"),_isDisableFlipPage=!1,cancelFlip()},scroll.downCardMove=function(){if(needBlurPage=0,Math.abs(moveDistanceY)>Math.abs(moveDistanceX))if(moveDistanceY>0){if(_isDisableFlipPrevPage)return;if(!isContinuePrePage())return void(_canContinue=!1);isNext||isFirstTime?(isNext=!1,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("prev"),deactive(_$activePage),cssAnimation(_$activePage[0].style,"TransformOrigin","top"),cssAnimation(_$activePage[0].style,"Transform","rotateX(90deg)"),active(_$activePage)):cssAnimation(_$activePage[0].style,"Transform","rotateX("+(90-moveDistanceY/windowHeight*90)+"deg)")}else if(0>moveDistanceY){if(_isDisableFlipNextPage)return;if(isStopNextPage())return void(_canContinue=!1);if(!isNext||isFirstTime){if(isNext=!0,isFirstTime=!1,_$activePage&&deactive(_$activePage),currentPageId===lastPageId&&!isCopyrightPageEndShow&&!isCopyrightPageEndGotoFirst&&(console.log(isCopyrightPageEndShow),getCanShowCopyrightPageEnd()))return void copyrightPageEndShow();_$activePage=getActivePage("next"),deactive(_$activePage),cssAnimation(_$activePage[0].style,"TransformOrigin","bottom"),cssAnimation(_$activePage[0].style,"Transform","rotateX(-90deg)"),active(_$activePage)}else cssAnimation(_$activePage[0].style,"Transform","rotateX("+(-90-moveDistanceY/windowHeight*90)+"deg)")}removeAllBlurPage()},scroll.downCardEnd=function(){if(Math.abs(moveDistanceY)>Math.abs(moveDistanceX)&&Math.abs(moveDistanceY)>20){cssAnimation(_$activePage[0].style,"Transform","rotateX(0deg)"),beforeScrollEndThenNext();var a=_$activePage.data("id");beforeScrollEndThenCopyrightEndPage(a),flipend()}else cssAnimation(_$currentPage[0].style,"Transition","none"),cssAnimation(_$activePage[0].style,"Transition","none"),_isDisableFlipPage=!1,cancelFlip()},scroll.rightLRMoveMove=function(){if(needBlurPage=0,Math.abs(moveDistanceX)>Math.abs(moveDistanceY))if(moveDistanceX>0){if(_isDisableFlipPrevPage)return;if(!isContinuePrePage())return void(_canContinue=!1);isNext||isFirstTime?(isNext=!1,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("prev"),getMoveInit(!0,"center right","translateX",windowWidth)):setCssWhenMove(!0,"translateX",windowWidth,moveDistanceX,_scrollMode)}else if(0>moveDistanceX){if(_isDisableFlipNextPage)return;if(isStopNextPage())return void(_canContinue=!1);if(currentPageId===lastPageId&&!isCopyrightPageEndShow&&!isCopyrightPageEndGotoFirst&&(console.log(isCopyrightPageEndShow),getCanShowCopyrightPageEnd()))return void copyrightPageEndShow();!isNext||isFirstTime?(isNext=!0,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("next"),getMoveInit(!1,"center left","translateX",windowWidth)):setCssWhenMove(!1,"translateX",windowWidth,moveDistanceX,_scrollMode)}removeAllBlurPage()},scroll.rightLRMoveEnd=function(){if(Math.abs(moveDistanceX)>Math.abs(moveDistanceY)&&Math.abs(moveDistanceX)>20){setCssWhenEnd("translateX",moveDistanceX,windowWidth,_scrollMode),beforeScrollEndThenNext();var a=_$activePage.data("id");beforeScrollEndThenCopyrightEndPage(a),flipend()}else _isDisableFlipPage=!1,cancelFlip()},scroll.rightLRRotateMove=function(){needBlurPage=0;var a,b,c,d,e,f,g,h;if(Math.abs(moveDistanceX)>Math.abs(moveDistanceY))if(moveDistanceX>0){if(_isDisableFlipPrevPage)return;if(!isContinuePrePage())return void(_canContinue=!1);rrxdebug&&console.log("moveDistanceX",moveDistanceX),isNext||isFirstTime?(isNext=!1,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("prev"),active(_$activePage),cssAnim(_$activePage,"Transform","scale(0.3) translateX(0) translateZ(-"+windowHeight+"px) rotateY(45deg)"),_$activePage[0].style.zIndex="0",_$currentPage[0].style.zIndex="100"):(a=((4*windowWidth/4-moveDistanceX)/windowWidth).toFixed(3),b=1.5*moveDistanceX,c=moveDistanceX-windowWidth/4,d=moveDistanceX/windowWidth*45,cssAnim(_$currentPage,"Transform","translateX("+b+"px) scale("+a+") rotateY("+d+"deg) translateZ("+c+"px)"),e=(moveDistanceX/windowWidth).toFixed(3),f=-windowWidth+b,g=windowWidth/4+moveDistanceX,h=-45+(moveDistanceX+windowWidth/4)/windowWidth*45,cssAnim(_$activePage,"Transform","scale("+e+") translateX("+f+"px) translateZ("+g+"px) rotateY("+h+"deg)"))}else if(0>moveDistanceX){if(_isDisableFlipNextPage)return;if(isStopNextPage())return void(_canContinue=!1);if(currentPageId===lastPageId&&!isCopyrightPageEndShow&&!isCopyrightPageEndGotoFirst&&(console.log(isCopyrightPageEndShow),getCanShowCopyrightPageEnd()))return void copyrightPageEndShow();rrxdebug&&console.log("moveDistanceX",moveDistanceX,moveDistanceY),!isNext||isFirstTime?(isNext=!0,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage&&deactive(_$activePage),_$activePage=getActivePage("next"),active(_$activePage),cssAnim(_$activePage,"Transform","scale(0.3) translateX("+(windowWidth+300)+"px) translateZ(-"+windowHeight+"px) rotateY(-45deg)"),_$activePage[0].style.zIndex="0",_$currentPage[0].style.zIndex="100"):(prev_scale=((4*windowWidth/4+moveDistanceX)/windowWidth).toFixed(3),prev_tx=1.5*moveDistanceX,prev_tz=moveDistanceX+windowWidth/4,prev_ry=moveDistanceX/windowWidth*45,cssAnim(_$currentPage,"Transform","translateX("+prev_tx+"px) scale("+prev_scale+") rotateY("+prev_ry+"deg) translateZ("+prev_tz+"px)"),e=(-moveDistanceX/windowWidth).toFixed(3),f=windowWidth- -prev_tx,g=windowWidth/4+moveDistanceX,h=45+(moveDistanceX+windowWidth/4)/windowWidth*45,cssAnim(_$activePage,"Transform","scale("+e+") translateX("+f+"px) translateZ("+g+"px) rotateY("+h+"deg)"))}removeAllBlurPage()},scroll.rightLRRotateEnd=function(){if(Math.abs(moveDistanceX)>Math.abs(moveDistanceY)&&Math.abs(moveDistanceX)>20){moveDistanceX>0?(rrxdebug&&console.log("rightLRRotateEnd 11",moveDistanceX),_$currentPage[0].style.webkitTransformOrigin="right",_$currentPage[0].style.webkitTransform="translateX("+-windowWidth+"px) translateZ(-"+windowWidth+"px) rotateY(-180deg) scale(0.2)",_$activePage[0].style.webkitTransform="translateX(0) translateZ(0) rotateY(0) scale(1)",_$currentPage[0].style.zIndex="0",_$activePage[0].style.zIndex="1"):(rrxdebug&&console.log("rightLRRotateEnd 22",moveDistanceX),_$currentPage[0].style.webkitTransformOrigin="left",_$currentPage[0].style.webkitTransform="translateX("+windowWidth+"px) translateZ(-"+windowWidth+"px) rotateY(180deg) scale(0.2)",_$activePage[0].style.webkitTransform="translateX(0) translateZ(0) rotateY(0) scale(1)",_$activePage[0].style.zIndex="1",_$currentPage[0].style.zIndex="0"),beforeScrollEndThenNext();var a=_$activePage.data("id");beforeScrollEndThenCopyrightEndPage(a),flipend()}else cssAnimation(_$currentPage[0].style,"Transition","none"),cssAnimation(_$activePage[0].style,"Transition","none"),_isDisableFlipPage=!1,cancelFlip()},scroll.rightLRSlideMove=function(){needBlurPage=0;var a,b;if(Math.abs(moveDistanceX)>Math.abs(moveDistanceY))if(moveDistanceX>0){if(_isDisableFlipPrevPage)return;if(!isContinuePrePage())return void(_canContinue=!1);rrxdebug&&console.log("moveDistanceX",moveDistanceX),isNext||isFirstTime?(isNext=!1,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("prev"),active(_$activePage),_$currentPage.css({opacity:.5}),_$activePage.css({opacity:.5}),cssAnim(_$activePage,"Transform","translateX(0) translateZ(-500px)"),cssAnim(_$currentPage,"Transform","translateX(0) translateZ(-500px)")):(curr_tx=moveDistanceX,curr_tz=-500,cssAnim(_$currentPage,"Transform","translateX("+curr_tx+"px) translateZ("+curr_tz+"px)"),_$currentPage.css({opacity:.5}),a=-windowWidth+moveDistanceX-200,b=-500,cssAnim(_$activePage,"Transform","translateX("+a+"px) translateZ("+b+"px)"),_$activePage.css({opacity:.5}))}else if(0>moveDistanceX){if(_isDisableFlipNextPage)return;if(isStopNextPage())return void(_canContinue=!1);if(currentPageId===lastPageId&&!isCopyrightPageEndShow&&!isCopyrightPageEndGotoFirst&&(console.log(isCopyrightPageEndShow),getCanShowCopyrightPageEnd()))return void copyrightPageEndShow();rrxdebug&&console.log("moveDistanceX",moveDistanceX,moveDistanceY),!isNext||isFirstTime?(isNext=!0,isFirstTime=!1,_$activePage&&deactive(_$activePage),_$activePage=getActivePage("next"),_$activePage&&deactive(_$activePage),active(_$activePage),_$currentPage.css({opacity:.5}),_$activePage.css({opacity:.5}),cssAnim(_$activePage,"Transform","translateX(0) translateZ(-500px)"),cssAnim(_$currentPage,"Transform","translateX(0) translateZ(-500px)")):(curr_tx=moveDistanceX,curr_tz=-500,cssAnim(_$currentPage,"Transform","translateX("+curr_tx+"px) translateZ("+curr_tz+"px)"),_$currentPage.css({opacity:.5}),a=windowWidth+moveDistanceX+200,b=-500,cssAnim(_$activePage,"Transform","translateX("+a+"px) translateZ("+b+"px)"),_$activePage.css({opacity:.5}))}removeAllBlurPage()},scroll.rightLRSlideEnd=function(){var a;Math.abs(moveDistanceX)>Math.abs(moveDistanceY)&&Math.abs(moveDistanceX)>2?moveDistanceX>0?(_$currentPage[0].style.webkitTransform="translateX("+2*windowWidth+"px) translateZ(-500px)",_$activePage[0].style.webkitTransform="translateX(0) translateZ(-500px)",beforeScrollEndThenNext(),a=_$activePage.data("id"),beforeScrollEndThenCopyrightEndPage(a),setTimeout(function(){_$activePage[0].style.webkitTransform="translateX(0) translateZ(-0)",_$currentPage.css({opacity:1}),_$activePage.css({opacity:1}),flipend()},450)):(_$currentPage[0].style.webkitTransform="translateX("+-2*windowWidth+"px) translateZ(-500px)",_$activePage[0].style.webkitTransform="translateX(0) translateZ(-500px)",beforeScrollEndThenNext(),a=_$activePage.data("id"),beforeScrollEndThenCopyrightEndPage(a),setTimeout(function(){_$activePage[0].style.webkitTransform="translateX(0) translateZ(-0)",_$currentPage.css({opacity:1}),_$activePage.css({opacity:1}),flipend()},450)):(cssAnimation(_$currentPage[0].style,"Transition","none"),cssAnimation(_$activePage[0].style,"Transition","none"),_isDisableFlipPage=!1,cancelFlip())};var timer_goToPrePage=null,timer_goToNextPage=null,isFirstGotoEndPage=!0;base.outPage=function(a,b,c,d){return outPage(a,b,c,d)},base.parsePage=function(a){return parsePage(a)},base.parseElement=function(a){return parseElement(a)},base.playEleAnimated=function(a,b,c,d){doEleAnimation(a,b,c,d)},base.playElement=function(a,b){return playElement(a,b)},base.init=function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){if(_dataObj.pageList){showToppage(),showFloorpage(),rrxdebug&&console.log("_pageIdList",_pageIdList);var a=currentPageId;renderPage(a,!1);regPageEndEvent(a);var b=function(){var b=0;for(b=0;b<_dataObj.pageList.length;b++)_dataObj.pageList[b].id!==a&&(currentPageId=_dataObj.pageList[b].id,renderPage(_dataObj.pageList[b].id))},c=1;if(_renderAllPage)b();else if(_dataObj.pageList.length<=subRenderTotal)b();else{var d=0;for(d=0;d<_dataObj.pageList.length;d++){if(_dataObj.pageList[d].id!==a){if(c>subRenderTotal)break;currentPageId=_dataObj.pageList[d].id,renderPage(_dataObj.pageList[d].id,!0,!0)}c++}}if(_dataObj.dialogList)for(p=0;p<_dataObj.dialogList.length;p++)renderDialog(_dataObj.dialogList[p].id);if(currentPageId=a,rrxdebug&&console.info("_pagePluginCopyRight",_pagePluginCopyRight),-1===$.inArray(currentPageId,_pagePluginCopyRight)&&$pluginCopyright.hide(),_flipProgress===!0&&renderProgress(currentPageId,totalPages),setPageArrowIcon(currentPageId),"loadingpage"!==currentPageId&&pageCodeLoad(currentPageId,apiHelper.getAppInstance()),$(".bottomm-text").hide(),$(".show-rrxiu-visit").hide(),$page=_$canvas.find(".page_"+currentPageId),_isEditing||setTimeout(function(){loadPluginEvent(currentPageId)},300),playPageByPageId(currentPageId),flip.init($pagelist,currentPageId),rrxdebug&&console.log("init data-",currentPageId,lastPageId),currentPageId==lastPageId)showCopyright(!0,currentPageId),getCanShowCopyrightPageEnd()?showArrow():hideArrow();else{showCopyright(!1,currentPageId);var e=getPageObjById(currentPageId);e.stopFlip||showArrow()}isShowDanmu()&&!rrxDanmuJump&&(rrxdebug&&console.info("initdata-isShowDanmu"),getCommentLikeCount(),getCommentList()),createFocusWechat(),createTopeMenu(),sysMenuBottomCreate(),initSharePoster(),createSharePanel(),initSidleShare(),initSidleReport(),createCopyRightPage2(),initSidlePluginMsg(),initWsiteInvite(),initMyPoints(),_excuteElementEventByBrowser(),newLongPageFactory.initLongPage(),i&&j?"rrxiu"===j.copyrightFrom?(console.log("isSetting is rrxiu"),copyrightPageEndShow()):copyrightPageEndHideNoAnim():_rrxtach.recordVisit(apiHelper.getAppInstance().weixinStrong.getWxOpenId())}}function n(){setMusicPosition(),musicAutoPlay===!0?playMusic():""!==musicUrl&&void 0!==musicUrl&&($iconMusic.show(),setMusicIcon(musicStopIcon,"off"),$iconMusic.removeClass("music-play"),$iconMusic.removeClass("music-play-none"),$iconMusic.off().on("click",function(a){null===$music?playMusic():stopMusic()}))}function o(){void 0!==_dataObj.init&&_dataObj.init(),initBone(),initSwipe(),createPages(),0===w&&0===currentPageId?currentPageId=getFirstPageId():w>0&&(currentPageId=w),createProgress(),renderCopyright(),_isPreview&&!_isSetting&&$previewNotice.show(),pushStateForReadDepth(),void 0!==_dataObj.loadingpage&&void 0!==_dataObj.loadingpage.title&&$loadingpage.html(""),handleAllPageImageThumb(),getFormUseGoods(function(){getAllPageInteractData(function(){loadExternalJsLibs(function(){createPageEventList(),showLoadingpage();var a=getLoadingImageList(currentPageId);loading(a,function(a){updateLoadingPercent(a)},m)})})}),n(),wxinit(formatShareUrl()),checkEnvAliMini(),setTimeout(function(){console.warn("getVisitCount",_log.getVisitCount()),console.warn("_copyrightFrom",_copyrightFrom),_log.getVisitCount()>50&&"customer"!=_copyrightFrom&&"na"!=_copyrightFrom&&(initWinAlert({isOffGG:!1}),pushHistory(),listenEvent())},1500)}if(console.time("baseinit"),wsiteInfo&&wsiteInfo.wsiteType&&wsiteInfo.wsiteType>1&&wsiteInfo.copyright&&wsiteInfo.copyright.from?(c.copyright=wsiteInfo.copyright,c.danmuLike&&(c.danmuLike.show=!1),c.showVisitCount=!1):c.danmuLike&&(c.danmuLike.show=convertToBool(c.danmuLike.show),c.danmuLike.showDanmu=convertToBool(c.danmuLike.showDanmu)),c.showVisitCount=convertToBool(c.showVisitCount),_isSetting=i,_isWxMin=k,$loadingpage=b.find(".pt-loadingpage"),"gql5ay"==c.guid&&(_animationEngine="css"),self=this,_host=a,void 0!==f&&null!==f&&(_log=f),_rrxtach=l,void 0===c.flipProgress||c.flipProgress===!0||"true"===c.flipProgress?_flipProgress=c.flipProgress=!0:(c.flipProgress=!1,_flipProgress=!1),void 0!==d&&(_isPc=d),void 0!==g&&(_isEditing=g),void 0!==h&&h&&(_isPreview=!0),void 0!==e&&(_isWeixin=e),clickEventType=null!==document.ontouchstart?"click":"touchstart",_$canvas=b,_dataObj=pageObjectToArray(c),_dataObj=dialogObjectToArray(c),void 0!==_dataObj.result&&0!==_dataObj.result){for(var q=2;100>=q;q++)updateLoadingPercent(q);return void setTimeout(function(){2==c.result?(needCode(_dataObj.msg),wxinit(formatShareUrl())):suspended(_dataObj.msg),$loadingpage.hide()},50)}if(_isWxMin&&"ash0mw"==_dataObj.guid&&(_dataObj.forbidShare=1),_dataObj.danmuLike&&(_dataObj.danmuLike.review=!0),!g&&!i&&wsiteInfo.copyright){var r=wsiteInfo.copyright.from;"bottom"===r||"union"===r?(_dataObj.copyright.from=r,"union"===r&&(wsiteInfo.copyright.content&&(_dataObj.copyright.content=wsiteInfo.copyright.content),wsiteInfo.copyright.url&&(_dataObj.copyright.url=wsiteInfo.copyright.url))):wsiteInfo.fromChannel&&wsiteInfo.copyright.channel&&(_dataObj.copyright=wsiteInfo.copyright)}if(void 0!==_dataObj.shareImageUrl&&""!==_dataObj.shareImageUrl&&-1==_dataObj.shareImageUrl.indexOf("thirdwx.qlogo.cn")&&(_dataObj.shareImageUrl=handleImgUrl(_dataObj.shareImageUrl),-1==_dataObj.shareImageUrl.indexOf("@!")&&(_dataObj.shareImageUrl+=appConfig.shareImageThumb)),void 0!==_dataObj.llImageUrl&&""!==_dataObj.llImageUrl&&(_dataObj.llImageUrl=handleImgUrl(_dataObj.llImageUrl),-1==_dataObj.llImageUrl.indexOf("@!")&&(_dataObj.llImageUrl+=appConfig.llImageThumb)),checkWsiteHaveInductionPlugin()&&(_dataObj.showReport=!0,_isAllPageShowReport=!0),_isAllPageShowReport||(_isAllPageShowReport=1===wsiteInfo.activityType),!_isSetting&&!g&&_dataObj.hasOwnProperty("cssList"))for(var s=h?"preview":"publish",t=0;t<_dataObj.cssList.length;t++)Cool.util.loadCss(Cool.util.hostStamp(getWebFontHost()+"css/"+s+"/"+_dataObj.cssList[t]));_copyrightFrom=getCopyrightFrom(),pageListCount=_dataObj.pageList?_dataObj.pageList.length:0;var u=Cool.util.checkIsMobile();if(_$canvas.on("touchstart",function(a){u&&longPageObj["p"+currentPageId]&&(canvasEndY=0,canvasStartY=a.touches?a.touches[0].pageY:a.originalEvent.touches[0].pageY)}),_$canvas.on("touchmove",function(a){if(longPageObj["p"+currentPageId]&&u&&!checkIsHaveDialogShow()&&newLongPageFactory.canScroll){canvasEndY=a.touches?a.touches[0].pageY:a.originalEvent.touches[0].pageY;var b=canvasEndY-canvasStartY,c=$(document).scrollTop(),d=$(window).height(),e=$(document).height();if(0>=c&&b>0)return void a.preventDefault();if(0>=e-c-d&&0>b)return void a.preventDefault()}else a.preventDefault()}),initShareInfo(),void 0!==_dataObj.flipWay&&""!==_dataObj.flipWay&&(flipWay=_dataObj.flipWay),void 0!==_dataObj.flipAnimation){var v=[];v[110]={enter:"1101",back:"1102"},v[120]={enter:"1201",back:"1202"},v[130]={enter:"1301",back:"1302"},v[140]={enter:"1401",back:"1402"},v[150]={enter:"1501",back:"1502"},v[160]={enter:"1601",back:"1602"},v[170]={enter:"1701",back:"1701"},v[180]={enter:"1801",back:"1801"},v[190]={enter:"1901",back:"1901"},v[200]={enter:"2001",back:"2001"},v[210]={enter:"2101",back:"2102"},v[220]={enter:"2201",back:"2201"},v[230]={enter:"2301",back:"2301"},v[240]={enter:"2401",back:"2401"},v[250]={enter:"2501",back:"2501"},flipAnimation=v[_dataObj.flipAnimation],(void 0===flipAnimation||null===flipAnimation)&&(flipAnimation=v[110])}void 0!==_dataObj.musicUrl&&""!==_dataObj.musicUrl&&(musicUrl=apiHelper.getAppInstance().musicPreFix(_dataObj.musicUrl),hasBgMusic=!0),musicPlayIcon=void 0!==_dataObj.musicPlayIcon&&""!==_dataObj.musicPlayIcon?handleImgUrl(_dataObj.musicPlayIcon):"",musicStopIcon=void 0!==_dataObj.musicStopIcon&&""!==_dataObj.musicStopIcon?handleImgUrl(_dataObj.musicStopIcon):"",musicAutoPlay=!0,void 0!==_dataObj.musicAutoPlay&&""!==_dataObj.musicAutoPlay&&(_dataObj.musicAutoPlay===!1||"false"===_dataObj.musicAutoPlay)&&(musicAutoPlay=!1),musicPosition=_dataObj.musicPosition||"",void 0!==_dataObj.lastPageGoto&&(lastPageGoto="stop"==_dataObj.lastPageGoto?"stop":"continue"),initOfficialAccountsModeCookie();var w=window.startPageId||0;$.isNumeric(w)&&(w=parseInt(w,10),0!==w&&(_renderAllPage=!0));var x=window.rrxBrowserParams.clickType;if("page"===x&&w>0){var y=window.rrxBrowserParams.clickValue;"first"===y?w=0:"next"===y?w=getNextPageIdObjById(w):"pre"===y?w=getPrePageIdObjById(w):y>0&&(w=y),console.log("page",w)}else if(w>0){var z=getPageObjById(w);z||(w=0)}o(),formatJfCenterUrl("https://mh.renrenxiu.me/?v=xhx241")},base.playPage=function(a,b){return playPage(a,b)};var crRollInterval=null,ideaCount=0;base.isLastPageGotoFirstPage=function(){return"continue"==lastPageGoto?!0:!1},base.isLastPage=function(){return getPageCount()>1?currentPageId==lastPageId:!0},base.isFirstPage=function(){return getPageCount()>1?currentPageId==firstPageId:!0},base.nextPage=function(){goToNextPage()},base.prePage=function(){goToPrePage()},base.getPageCount=function(){return getPageCount()},base.getCurrentPageId=function(){return currentPageId},base.setIsEditing=function(a){_isEditing=a},base.getAllowFlip=function(){return allowFlipCurrentPage()},base.getPageAllowFlip=function(a){return allowFlipPageState(a)},base.setPageThumb=function(a){_isPageThumb=a},base.setOutpageWrapper=function(a){_$outpageWrapper=a},base.setPageInDialog=function(a){_isPageInDialog=a},base.clearAllCustomIntervals=function(){clearAllCustomIntervals()},base.getPrefixCss=function(a,b){return getPrefixCss(a,b)},base.gotoPage=function(a){goToPageById(a)},base.getApiHelper=function(){return apiHelper.getAppInstance()};var apiHelper={appInstance:null,getAppInstance:function(){return null===this.appInstance&&(this.appInstance=new this.app),this.appInstance},app:function(){function a(a,d,e){if(c(a))return!0;var f=a(d,e);return b(f)?!0:f}function b(a){var b=a||!0;return b===!0}function c(a){var b=void 0===a;return b}function d(a,b,c,d,e,f){e.wsiteGuid=b,e.activeGuid=c,e.wxOpenId=d,showRRXProcess("加载中..."),$.ajax({url:a+"/generalPrize/GetMyActive",type:"GET",data:e||{},dataType:"json",xhrFields:{withCredentials:!0}}).then(function(a){0===a.result?f&&f(a.data):winAlert(a.msg),hideRRXProcess()},function(a){hideRRXProcess()})}function e(a,b,c,d,e,f){var g={wsiteGuid:b,activeGuid:c,wxOpenId:d,activeCategory:e};showRRXProcess("加载中..."),$.ajax({url:a+"/generalPrize/GetMyTotalPrizeList",type:"GET",data:g||{},dataType:"json",xhrFields:{withCredentials:!0}}).then(function(a){0===a.result?f&&f(a.data):winAlert(a.msg),hideRRXProcess()},function(a){hideRRXProcess()})}function f(){if(null===clickTime)clickTime=(new Date).getTime();else{var a=(new Date).getTime();if(500>a-clickTime)return clickTime=a,!1;clickTime=a}return!0}function g(a,b,c,d){if(a){a.off(b).on(b,function(a){a.stopPropagation(),a.preventDefault(),d===!0?c(a):f()&&c(a)})}}function h(a){var b=0,c=0;a.off("mousedown touchstart").on("mousedown touchstart",function(d){a.width()<=540||(isTouching=!0,c=parseInt(j(a)),b="touchstart"==d.type?d.originalEvent.changedTouches[0].clientX:d.clientX)}),a.off("mousemove touchmove").on("mousemove touchmove",function(d){if(isTouching){var e=0;e="touchmove"==d.type?d.originalEvent.changedTouches[0].clientX:d.clientX;var f=e-b;if(f=c+2*f,f>0)f=0;else{var g=a.width()-540;Math.abs(f)>g&&(f=-g)}a.css("transform","translateX("+f+"px)"),a.css("-webkit-transform","translateX("+f+"px)"),a.css("-moz-transform","translateX("+f+"px)")}}),a.off("mouseup touchend").on("mouseup touchend",function(a){isTouching=!1})}function j(a){var b=a.css("transform");return"none"===b||""===b?0:b.split(",")[4]}this.test=function(){console.log("API")},this._dialogEditOpen=!1,this.setDialogOpen=function(a){this._dialogEditOpen=a},this.checkIsDialogOpen=function(){return this._dialogEditOpen},this.getVersion=function(){var a="";return wsiteInfo&&(a=wsiteInfo.version),appConfig.version+a},this.getFlipWay=function(){return flipWay},this.getPluginDomain=function(a,b){return Cool.util.getPluginDomain(a,b)},this.parsePluginTheme=function(a,b,c){return Cool.util.parsePluginTheme(a,b,c)},this.pluginPreFix=function(a){if(""===a||null===a||void 0===a||a.constructor!==String)return a;for(var b=["http://plugin.weplus.me/","../assets/plugin/"],c=0;c<b.length;c++)if(a.indexOf(b[c])>-1)return a.replace(b[c],appConfig.pluginDomainFormat);return a},this.hostStamp=function(a){return Cool.util.hostStamp(a)},this.loadImage=function(a,b){Cool.util.loadImage(a,b)},this.getServiceHost=function(){return getServiceHostIfHttps()},this.getInteractServiceHost=function(a){return getInteractServiceHostIfHttps(a)},this.urlAuditVisit=function(a,b){if(!getCanVisitUrl())return void winAlert("小程序内不支持外链");if(a){if(a.indexOf("daodibencao.")>-1)return void rrxtrace("uadvt"+_dataObj.guid);a=$.trim(a),b=void 0===b?!0:b,(a.indexOf("rrxiu.net")>-1||a.indexOf("rrxiuh5.cc")>-1||a.indexOf("rrxiuh5.top")>-1||a.indexOf("rrxiu.cc")>-1||a.indexOf("https://mp.weixin.qq.com")>-1)&&(b=!1);var c=encodeURIComponent(a),d=this.getInteractServiceHost()+"tranf/to?url="+c+"&wg="+_dataObj.guid;b&&Cool.cookie.setWithSecond("rfstid"+_dataObj.guid,currentPageId,600),$.ajax({url:d,type:"GET",dataType:"json",xhrFields:{withCredentials:!0}}).then(function(b){if(0===b.result){var c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("target","_parent"),c.click()}})}},this.getDataHost=function(){return getDataHost()},this.getRrxiuFontCssHost=function(){return getRrxiuFontCssHost()},this.getLibHost=function(){return getLibHost()},this.getAssetsHost=function(){return getAssetsHost()},this.getWebFontHost=function(){return getWebFontHost()},this.getVrHost=function(){return getVrHost()},this.getFg=function(){return getFg()},this.getQrc=function(){return getQrc()},this.getQrcType=function(){return getQrcType()},this.appendChannelParams=function(a){return appendChannelParams(a)},this.musicPreFix=function(a){return handleDataUrl(a)},this.getImageHost=function(){return getImageHost()},this.getViewHost=function(){return getViewHost()},this.getWsiteGuid=function(){return _dataObj.guid},this.getWsiteTitle=function(){return _dataObj.title},this.isEditing=function(){return _isEditing},this.updateMyPointsDisplay=function(a){a&&void 0!==a.points&&null!==a.points&&updateMyPoints(a.points,a.unit)},this.joinEarnPointsUrl=function(a){return joinEarnPointsUrl(a)},this.joinPointsDetailUrl=function(a){return joinPointsDetailUrl(a)},this.formatJfCenterUrl=function(a){return formatJfCenterUrl(a)},this.getMyJfConf=function(){return window.myPoints},this.refreshMyPoints=function(){refreshMyPoints()},this.consumeMyPoints=function(a,b){consumeMyPoints(a,b)},this.getElement=function(a,b,c){var d=null;b=b||0,c=c===!0?!0:!1,0===b&&(b=currentPageId);var e=".element_";return d=_$canvas.find(".page_"+b+" "+e+a)},this.getPage=function(a){a=a||0,0===a&&(a=currentPageId);var b=_$canvas.find(".page_"+a);return b},this.getPageCount=function(){return pageListCount},this.getCurrentPageId=function(){return currentPageId},this.getWsiteCanvas=function(){return _$canvas};var k={};this.setGlobal=function(a,b){k[a]=b},this.getGlobal=function(a){return k[a]},this.loadJs=function(a,b){Cool.util.loadJs(a,b)},this.getUrlParameterByName=function(a){return Cool.util.getUrlParameterByName(a)},this.getBrowserUrl=function(a,b,c){return Cool.util.getBrowserUrl(a,b,c)},this.setLoadingDelay=function(a){void 0!==_dataObj.loadingpage&&(_dataObj.loadingpage.delay=a)},this.setStartPage=function(a){void 0!==a&&(currentPageId=a)},this.preloadAllResource=function(a){_preloadAllResource=a?!0:!1},this.loadCss=function(a){Cool.util.loadCss(a)},this.addCss=function(a){Cool.util.loadCssByStyle(a)},this.getUrlParamByName=function(a){return Cool.util.getUrlParameterByName(a)},this.removeUrlParaMutil=function(a,b){return Cool.util.removeUrlParaMutil(a,b)},this.removeUrlPara=function(a,b){return Cool.util.removeUrlPara(a,b)},this.isOfficialAccountsMode=function(){return isOfficialAccountsMode()},this.getUrlWithOfficialAccounts=function(a){var b=this.getUrlWithGuid(a);return $hasQ=b.indexOf("?"),$hasQ>-1?b+"&mode=official_accounts":b+"/?mode=official_accounts"},this.getUrlWithGuid=function(a){var b=appConfig.viewDomainFormat.replace("{guid}",a);return rrxiuUser.custDomain&&""!==$.trim(rrxiuUser.custDomain)?b=getProtocol(!1)+"://"+rrxiuUser.custDomain+"/v/"+a:rrxiuWsite.transmitDomain&&""!==$.trim(rrxiuWsite.transmitDomain.domain)&&(b=getProtocol(rrxiuWsite.transmitDomain.httpsEnabled)+"://"+rrxiuWsite.transmitDomain.domain+"/?"+PNAME_WGUID+"="+a),b},this.getFocusUrl=function(a,b){var c=this.getUrlWithGuid(a);return 2===b?c:($hasQ=c.indexOf("?"),$hasQ>-1?c+"&mode=official_accounts":c+"/?mode=official_accounts")},this.getCanFocusWechat=function(){return getCanFocusWechat()},this.getCanFocusByWay=function(a){return getCanFocusByWay(a)},this.getCanRemoveWaterMark=function(){return getCanRemoveWaterMark()},this.getCanShowShareTips=function(){return getCanShowShareTips()},this.isAppEdit=function(){return window.appConfig&&"mobile"==window.appConfig.platform},this.isPc=function(){return _isPc},this.showPluginCopyRight=function(a,b){},this.hidePluginCopyRight=function(){},this.isShowPluginCopyright=function(){return!("customer"===_copyrightFrom||"na"===_copyrightFrom||"union"===_copyrightFrom)},this.getCustomerCopyrightInfo=function(){if("undefined"!=typeof wsiteInfo&&wsiteInfo.team&&wsiteInfo.team.doShow&&wsiteInfo.team.copyrightText)return wsiteInfo.team.copyrightText;if("na"===_copyrightFrom)return!1;if("customer"===_copyrightFrom)return _dataObj.copyright;if("union"===_copyrightFrom){var a=$.extend(!0,{},_dataObj.copyright);return a.type=_copyrightFrom,a.content+=" & 人人秀",a}return!0},this.showSingleReport=function(){if(_dataObj.showReport||"customer"!==_copyrightFrom&&"na"!==_copyrightFrom){hideEffect($copyright);var a=_$canvas.find(".show-plugin-report").css("display");if("none"===a){var b=_$canvas.find(".pt-inner .show-vr-plugin-report");0===b.length&&(b=$('<a href="javascript:void(0)" class="show-vr-plugin-report">举报</a>'),_$canvas.find(".pt-inner").append(b),registerReportEvent(b)),showEffect(b)}}},this.hideSingleReport=function(){hideEffect(_$canvas.find(".pt-inner .show-vr-plugin-report"))},this.showShareDialog=function(a){var b=function(){void 0!==a&&""!==a?($sharepage.html(a),showSharepage()):showSharePanel()};canLanuchWxMinShare()?navigateToWxMinShare():b()},this.showFocusWechat=function(){showFocusWechat()},this.showTopMenu=function(){showTopMenu()},this.showBottomMenu=function(){showMenuPlugin()},this.hideBottomMenu=function(){hideMenuPlugin()},this.hideShareDialog=function(){
hideSharepage()},this.updateShareInfo=function(a,b,c,d){var e=!1,f=!1;a&&(e=!0,shareTitle=a,Cool.share.setTitle(a)),b&&(e=!0,shareDesc=b,Cool.share.setDesc(b)),c&&(e=!0,shareImageUrl=c,console.log("==updateShareInfo image==",c),Cool.share.setImage(c)),d&&(e=!0,shareUrl=d,f=!0,console.log("==updateShareInfo url==",d)),f,setWxShareInfo()},this.updateShareInfoWhenPushStateCalled=function(a,b,c,d){var e=!1;a&&(e=!0,shareTitle=a,Cool.share.setTitle(a)),b&&(e=!0,shareDesc=b,Cool.share.setDesc(b)),c&&(e=!0,shareImageUrl=c,Cool.share.setImage(c)),d&&(e=!0,shareUrl=d),setWxShareInfoWithUrl()},this.getShareInfo=function(){return{title:shareTitle,desc:shareDesc,image:shareImageUrl,url:shareUrl}},this.resetShareInfo=function(){shareTitle=_dataObj.title,Cool.share.setTitle(shareTitle),shareDesc=_dataObj.describe,Cool.share.setDesc(shareDesc),shareImageUrl=_dataObj.shareImageUrl,Cool.share.setImage(shareImageUrl),shareUrl=formatShareUrl(),setWxShareInfo()},this.delayPlayFlag=!1,this.delayPlayBackgroundMusic=function(a){this.delayPlayFlag=!0;var b=this;setTimeout(function(){b.delayPlayFlag&&b.playBackgroundMusic()},a||2e3)},this.playBackgroundMusic=function(){$iconMusic.show(),playMusic()},this.stopBackgroundMusic=function(a){this.delayPlayFlag=!1,a&&$iconMusic.hide(),stopMusic()},this.getBackgroundMusicState=function(){return null!==$music?!$music.paused:!1},this.getAllowFlip=function(){return base.getAllowFlip()},this.getPageAllowFlip=function(a){return base.getPageAllowFlip(a)},this.gotoPrePage=function(){triggerPluginLeaveEvent(currentPageId),goToPrePage()},this.gotoNextPage=function(){triggerPluginLeaveEvent(currentPageId),goToNextPage()},this.gotoPage=function(a,b){-1!==a&&(triggerPluginLeaveEvent(currentPageId),goToPageById(a))},this.swipe=function(b,d){if(c(d))return console.error("swipe:参数不正确");switch(b){case"up":_dataObj.swipeCustomUp=d;break;case"down":_dataObj.swipeCustomDown=d;break;case"left":_dataObj.swipeCustomLeft=d;break;case"right":_dataObj.swipeCustomRight=d}_dataObj.swipe=function(b,c){switch(c){case"up":return a(_dataObj.swipeCustomUp,b,c);case"down":return a(_dataObj.swipeCustomDown,b,c);case"left":return a(_dataObj.swipeCustomLeft,b,c);case"right":return a(_dataObj.swipeCustomRight,b,c)}}},this.startShake=function(a){void 0!==a&&null!==a&&startShake(a)},this.stopShake=function(a){void 0!==a&&null!==a&&stopShake(a)},this.rrxlog=function(a){rrxtrace(a)},this.bindEvent=function(a,b,d,e){var f=c(a),g=c(b);if(f||g)return console.error("bindEvent:参数不正确");if(void 0===d||""===d||"click"===d)a.unbind().bind(clickEventType,function(){reloveTwoClickByISroll()&&b()});else if("shake"===d||d.indexOf("shake")>-1)e=void 0===e?!0:e,startShake(d),window.addEventListener(d,function(a){stopShake(d),b(a),e&&setTimeout(function(){startShake(d)},2e3)},!1);else if("enter"===d)console.error("enter:此插件暂不支持");else{var h;switch(d){case"swipeRight":h=new rrxTouch(a,{swiperight:b});break;case"swipeLeft":h=new rrxTouch(a,{swiperleft:b});break;case"swiperUp":h=new rrxTouch(a,{swiperup:b});break;case"swiperDown":h=new rrxTouch(a,{swipedown:b})}}},this.stopFlip=function(){_allowFlip=!1,hideArrow()},this.resetFlip=function(a){"loadingpage"!=a&&getPageStopflip(currentPageId)||(_allowFlip=!0,commpletedPageEffect(currentPageId),showArrow(),triggerPageEvent(currentPageId,"sysResetFlipCallBack"))},this.commpletedPageEffect=function(a){commpletedPageEffect(a)},this.showFlipArrow=function(){showArrow()},this.hideFlipArrow=function(){hideArrow()},this.isWeixin=function(){return _isWeixin},this.triggerEvent=function(a,b){triggerPageEvent(currentPageId,a,b)},this.createEvent=function(a,b,c){var d=c||currentPageId,e=_dataObj.pageEventList[d];(void 0===e||null===e)&&(_dataObj.pageEventList[d]=[],e=_dataObj.pageEventList[d]),e.push({name:a,type:"customEvent",callback:b})},this.getElements=function(a,b){var c=[];if(void 0===a||0===a.length)return c;b=b||0,0===b&&(b=currentPageId);var d=null;for(i=0;i<a.length;i++)d=_$canvas.find(".page_"+b+" .element_"+a[i]),d&&c.push(d);return c},this.animation=function(a,b,c){var d=0,e=1,f=1,g=0;c&&(d=c.delay||0,e=c.duration||1,f=c.repeat||1,g=c.repeatDelay||0),(0===d||_isEditing)&&(d=0),"css"==_animationEngine?CssAnimationEngine.animation(a,b,d,e,f,g,_isEditing):JsAnimationEngine.animation(a,b,d,e,f,g)},this.setToBottom=function(a,b){isNaN(a)||(a=this.getElement(a,currentPageId)),a.css("top","auto"),a.css("bottom",b)},this.setScrollPage=function(a,b,c){var d=this.getiScroll(a);if(d){var e=this.getElement(b,a),f=e.height(),g=parseFloat(e.css("top")),h=c-f;e.css("height",c),$.each(e.siblings(),function(a,b){var c=parseFloat($(b).css("top"));c>g&&$(b).css("top",c+h)});var i=d.scrollerH;e.closest(".pt-page-element-list-box").css("height",i+h),d.refresh()}},this.getiScroll=function(a,b){a=a||currentPageId;var c=void 0===b,d=null;return $.each(iScrollInstances,function(e,f){if(c){if(f.pageId===a)return d=f.instance,!1}else if(f.pageId===a&&f.elemId===b)return d=f.instance,!1}),d},this.scaleElement=function(a){c(a)||handleScaleIfSmallScreen(a)},this.checkIsLogin=function(){var a=$.cookie("wp_moblie_user");return void 0===a?null:a},this.mobileLogin=function(a,b,c){var d=/^(\S)+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/,e={result:0,msg:""};if(d.test(a))if(b.length<6)e.msg="密码至少6个字符",e.result=1,c(e);else{var f=a.split("@")[0],g={name:f,email:a,password:b,rememberMe:1,via:"jquery"};$.ajax({url:getServiceHostIfHttps()+"auth/mobileLogin",type:"GET",dataType:"jsonp",data:g,jsonp:"jsonp_callback"}).done(function(a){var b=new Date,d=new Date(b.valueOf()+3e5);$.cookie("wp_moblie_user","1",{expires:d}),c(a)}).fail(function(a){c(a)})}else e.msg="输入的邮箱格式不正确！",e.result=1,c(e)},this.getWsiteList=function(a,b,c){$.ajax({url:getServiceHostIfHttps()+"wsite/getList?page="+a+"&limit="+b,xhrFields:{withCredentials:!0}}).done(function(a){c(a)}).fail(function(a){c({result:1,msg:"未登录"})})};var l=function(a){function b(){return{id:window.appConfig.dev===!0?"123456":"",nickname:"人人秀",headimgurl:"https://assets.rrxh5.cc/www/images/no_head.jpg"}}function c(a,b,e,h){var i=(new Date,"GetWxUserByIdStrong");"strong"===e&&(i="GetWxUserByIdStrong");var j=_host+"wechatauth/"+i+"?uid="+b+"&wsiteGuid="+n;_isWxMin&&(j+="&isWixMin=1"),$.ajax({url:j,xhrFields:{withCredentials:!0},dataType:"json",success:function(i){if(0===i.result)o=i.data,k(i.data.id),g(),p=!0,void 0!==a&&a(o);else if(3===i.result)l(),f(),setTimeout(function(){c(a,"",e)},d());else{l();var j="",m=location.href;h&&(m=Cool.util.appendUrlPara(m,h)),j="strong"===e?_host+"wechatauth/wxresp?redirect="+encodeURIComponent(m)+"&wsiteGuid="+n+"&level=strong&sid="+b:_host+"wechatauth/wxresp?redirect="+encodeURIComponent(m)+"&wsiteGuid="+n+"&sid="+b,_isWxMin&&(j+="&isWixMin=1"),window.location.replace(j),setTimeout(function(){window.location.replace(j)},1e3)}},error:function(a,b,c){f(),console.error(a)}})}function d(){return 1e3*Math.floor(9*Math.random()+3)}function e(){$("body").append($authDialog)}function f(){(null===$authDialog||void 0===$authDialog)&&e(),$authDialog.show()}function g(){$authDialog.remove()}function h(a){return"wechat_openid"+a}function i(){var a=window.location.host,b=a.indexOf(".");return a.substr(b)}function j(){return"strong"===a?1/24:.5}function k(a){var b=hex_md5(n+appConfig.version),c=i(),d=j();Cool.cookie.setWithoutTime(h(b),a,d,c)}function l(){var a=hex_md5(n+appConfig.version),b=i(),c=-100;Cool.cookie.setWithoutTime(h(a),"",c,b)}function m(a,b){return Math.floor(a+Math.random()*(b-a))}if(_dataObj){var n=_dataObj.guid,o={id:"",nickname:"",headimgurl:""},p=!1;this.auth=function(d,f){if(_isWeixin===!1&&!checkIsOpenThirdAuth()||checkIsOpenThirdAuth()&&!checkIsThirdAppLogined())return checkIsAppEnv()?(o=wsiteInfo.wxauthedInfo,p=!0,d(o),!0):(o=b(),d(o),!0);if(!checkIsOpenThirdAuth()&&checkIsAppEnv())return o=wsiteInfo.wxauthedInfo,p=!0,d(o),!0;if(e(),wsiteInfo&&wsiteInfo.authBehind&&wsiteInfo.wxauthedInfo)o=wsiteInfo.wxauthedInfo,p=!0,d(o);else{var g=this.getLocalIdentify(n);c(d,g,a,f)}};var q='<div style="display:none;z-index:3000;position: fixed;top:0;left:0;bottom:0;right:0;background-color:rgb(240, 239, 245);text-align:center;"><img src="../images/weixin_auth.png"style="margin-top:100px;text-align:center;margin-left:auto;margin-right:auto;width:80px;"><div style="text-align:center;margin-top:40px;color:#666;">正在进行微信授权</div></div>';return $authDialog=$(q),this.getAuthedInfo=function(){return _isWeixin===!1&&!checkIsOpenThirdAuth()||checkIsOpenThirdAuth()&&!checkIsThirdAppLogined()?checkIsAppEnv()?(p=!0,wsiteInfo.wxauthedInfo):o=b():!checkIsOpenThirdAuth()&&checkIsAppEnv()?(p=!0,wsiteInfo.wxauthedInfo):wsiteInfo&&wsiteInfo.authBehind&&wsiteInfo.wxauthedInfo?(p=!0,wsiteInfo.wxauthedInfo):o},this.getIdentifyId=function(){var a=this.getAuthedInfo();return p?(console.log("111 getIdentifyId",a),a.id):this.getLocalIdentify()},this.getWxOpenId=function(){var a=this.getAuthedInfo();return a?a.id:""},this.getLocalIdentify=function(a){var b=i();b.indexOf(".")<0&&(b=location.host);var c=hex_md5(b+"RRXIUIDENTIFYID");a&&(c=hex_md5(b+a+"RRXIUIDENTIFYID"));var d=Cool.cookie.get(c);if(!d){var e=[0,3,2,4,1,9,6,5,7];d="";for(var f=0;6>f;f++)d+=e[m(0,e.length-1)];d+=(new Date).getTime(),Cool.cookie.setWithoutTime(c,d,null,b)}return d},this}};this.weixin=new l("strong"),this.weixinStrong=new l("strong");var m=function(){function a(a,c){var d={focusWay:1,openId:a};b(d,c)}function b(a,b){var d=1;void 0!==a.focusWay&&null!==a.focusWay&&(d=a.focusWay);var e=getServiceHostIfHttps();1==d&&(e=getInteractServiceHostIfHttps());var f=e+"focus/add",g={wsiteGuid:c,way:d,openId:a.openId};g.link=location.href,$.ajax({url:f,type:"POST",data:g,dataType:"json",xhrFields:{withCredentials:!0}}).done(function(a){b&&b(a)}).fail(function(a){console.error(a)})}if(_dataObj){var c=_dataObj.guid;return{add:a,handle:b}}};this.wxFocus=new m,this.checkWeixinAlert=checkWeixinAlert,this.log=function(a){void 0!==_log&&void 0!==a&&""!==a&&_log.logTag(a)},this.interactHit=function(a,b){b=b||"",void 0!==_log&&void 0!==a&&""!==a&&_log.interactHit(a,b)},this.closeWsite=function(a){a()},this.hideTopIcon=function(){hideTopIcons()},this.resetTopIcon=function(){showTopIcons()},this.isFirstPage=function(){return base.isFirstPage()},this.checkIsOnePageByPlugin=function(){var a=_dataObj.pageList;2===a.length&&a[1].id===_copyrightId&&($progress.css("display","none"),this.stopFlip())},this.getCopyrightFrom=function(){return _copyrightFrom},this.insertDanma=function(a,b){if($.each(a,function(a,b){DM_Comment_List.unshift(b)}),b){var c=[];$.each(DM_Comment_List,function(a,b){console.log("insertDanma",b),b.source&&"plugin"===b.source&&c.push(b)}),console.log("insertDanma",c),Danmaku.refresh(c)}else Danmaku.refresh(DM_Comment_List)},this.clearSysteimDanma=function(){DM_Comment_List=[],Danmaku.refresh(DM_Comment_List)},this.startDanma=function(){Danmaku.start()},this.stopDanma=function(){Danmaku.stop()},this.getDanmuConfig=function(){return _dataObj.danmuLike},this.initDanmu=function(a){console.log("coolApi.initDanmu();   "),initDanmu(a)},this.forceOpenDanmu=function(){forceOpenDanmu=!0},this.setDanmuButtonShow=function(a){danmuButtonShow=a},this.setOnlyPluginDanmu=function(a){onlyPluginDanmu=a},this.setInitDanmuAnimateShow=function(a){danmuAnimateShow=a},this.setDanmuAnimateShow=function(a){void 0!==_dataObj&&null!==_dataObj&&void 0!==_dataObj.danmuLike&&null!==_dataObj.danmuLike&&void 0!==_dataObj.danmuLike.show&&null!==_dataObj.danmuLike.show&&(void 0===a||null===a?_dataObj.danmuLike.show=!1:_dataObj.danmuLike.show=a)},this.showPluginFocus=function(a,b){showPluginFocus(a,b)},this.hidePluginFocus=function(){hidePluginFocus()},this.dialogOpen=function(a){dialogOpen(currentPageId,a)},this.dialogClose=function(a){dialogClose(a)},this.initDialogCloseEvent=function(a){this.createEvent("sys_dialogClose",a)},this.removeImgPreFix=function(a){return removeImgPrefix(a)},this.handleImgUrl=function(a){return handleImgUrl(a)},this.getMainCanvas=function(){return _$canvas},this.getAuthBehind=function(){return wsiteInfo&&wsiteInfo.authBehind?!0:!1},this.getGameHelpJsByVersion=function(a){a=a||0;var b="";return b=20===parseInt(a)?getLibHost()+"weplus/pluginGameHelper-3.0":getLibHost()+"weplus/pluginGameHelper-2.0",appConfig.dev!==!0&&appConfig.testDev!==!0&&(b+=".min"),b+=".js"},this.getImgGroupInstance=function(a){var b=null;return $.each(noAutoPlayImgGroupInstances,function(c,d){parseInt(d.elemId)==parseInt(a)&&(b=d.instance)}),b},this.QQMapLoadCallBack=function(a){qqMapLoadCallBack(function(b){a(b)})},this.addViewLog=function(a,b){var c=this.getInteractServiceHost(),d={wsiteGuid:_dataObj.guid,key:a,value:b};$.ajax({url:c+"/webLog/addLog",type:"GET",data:d||{},dataType:"json",xhrFields:{withCredentials:!0}})},this.checkReginLimit=function(a,b,c,d,e){if(checkIsAppEnv())return void b(0);if(a=a||"",""===a)return void b(0);if(!this.checkWeixinAlert(!0))return void b(8,no_auth_wx_msg);var f=this;e=e||{};var g={NONE:"NONE",REGION:"REGION",EXTENT:"EXTENT"},h="";a=replaceAll(a,"-","");var i=parseRegionLimitString(a);return i.type===g.NONE?void b(0):(showRRXProcess("定位中..."),console.log("checkReginLimit-1"),void qqMapLoadCallBack(function(a){return console.log("checkReginLimit-2",a),appConfig.dev?(hideRRXProcess(),void b(0)):0!==a&&"0"!==a?(console.log("checkReginLimit-3"),hideRRXProcess(),h="地图服务加载失败，请刷新手机重试！",d||f.showErrorInfo(h,c,!0),void b(20,h)):(console.log("checkReginLimit-3-1"),void wx.getLocation({type:"wgs84",success:function(a){console.log("checkReginLimit-4");var e=a.latitude,j=a.longitude,k=0;if(console.log("region",i),i.type===g.REGION){var l=new qq.maps.Geocoder({complete:function(a){hideRRXProcess();var e=a.detail.address;console.log("getLocationSuccess",a),k=5;for(var g=i.regions,j=0;j<g.length;j++)if(e.indexOf(g[j])>-1){k=0;break}if(5===k){var l=g.join(",");h="本次活动只限以下地区参与："+l+"。",d||f.showErrorInfo(h,c,!0)}b(k,h)},error:function(a){hideRRXProcess(),console.log("error",a),h="服务请求失败，请稍后再试！",d||f.showErrorInfo(h,c,!0),b(4,h)}}),m=new qq.maps.LatLng(e,j);l.getAddress(m)}else if(i.type===g.EXTENT){hideRRXProcess();var n=new qq.maps.LatLng(e,j),o=new qq.maps.LatLng(i.lat,i.lng),p=qq.maps.geometry.spherical.computeDistanceBetween(n,o),q=1e3*i.radius;console.log("dis",p),console.log("radius",q),console.log("c",n),console.log("d",o),p>q&&(k=3,console.log("error",a),h="本次活动只限以下范围参与："+i.address+"（"+i.radius+"公里以内）。",d||f.showErrorInfo(h,c,!0)),b(k,h)}else hideRRXProcess(),b(k,h);console.log("checkReginLimit-end",h)},cancel:function(a){hideRRXProcess(),console.log("checkReginLimit-cancel",a),h="当前活动需要进行位置授权才能参加",b(2,h)},fail:function(a){console.log("checkReginLimit-fail",a),hideRRXProcess(),h=e.failMsg||"位置定位失败，请稍后再试!",d||e.hideFail||f.showErrorInfo(h,c,!0),e.hideFail||b(1,h),f.addViewLog("checkReginLimit",JSON.stringify(a))}}))}))},this.getFormatRegionLimit=function(a){a=a||"";var b={NONE:"NONE",REGION:"REGION",EXTENT:"EXTENT"},c=parseRegionLimitString(a);return c.type===b.REGION?c.regions.join(","):c.type===b.EXTENT?c.address:""};var n={};return this.checkOpenMyPrizeDialog=function(a,b,c){if(""!==b&&void 0!==b&&(Cool.util.checkIsWeixin()||appConfig.dev===!0)){var d=this.getInteractServiceHost(),e={activeGuid:a,wxOpenId:b};$.ajax({url:d+"/generalPrize/checkMyLeftPrize",type:"GET",data:e||{},dataType:"json",xhrFields:{withCredentials:!0}}).then(function(d){0===d.result&&d.data&&c&&(n[a+b]||(n[a+b]=!0,c()))},function(a){})}},this.checkTimeOver=function(a,b){var c=this.getInteractServiceHost(),d={time:a};$.ajax({url:c+"/generalPrize/checkTimeOver",type:"GET",data:d||{},dataType:"json",xhrFields:{withCredentials:!0}}).then(function(a){b(0===a.result?a.data:!1)},function(a){b(!1)})},this.getMyActiveProductList=function(a,b,c){if(""===b||void 0===b)return void winAlert(getWsiteNoAuthedMsg());if(checkWeixinAlert()){c=c||{},c.noDataMsg=c.noDataMsg||"暂无数据",c.waitGetMsg=c.waitGetMsg||"立即支付",c.waitTimeMsg=c.waitTimeMsg||"商品支付";var d=null,e=this;showRRXProcess("加载中...");var f=this.getInteractServiceHost(),g={wsiteGuid:a,wxOpenId:b};$.ajax({url:f+"/generalPrize/getMyPrizeListByWsite",type:"GET",data:g||{},dataType:"json",xhrFields:{withCredentials:!0}}).then(function(a){if(0===a.result){var f=a.data.rows||[];e.showRrxMyPrizeDialog(b,f,a.data.uniqueCenterUrl,c,d)}else winAlert(a.msg);hideRRXProcess()},function(a){hideRRXProcess()})}},this.getMyActivePrizeListOld=function(a,b,c,d,e,f,g){if(""===c||void 0===c)return void winAlert(getWsiteNoAuthedMsg());if(checkWeixinAlert()){g=g||{},g.baseColor=d,g.title=e;var h=this;showRRXProcess("加载中...");var i=this.getInteractServiceHost(),j={wsiteGuid:a,activeGuid:b,wxOpenId:c};$.ajax({url:i+"/generalPrize/getMyPrizeList",type:"GET",data:j||{},dataType:"json",xhrFields:{withCredentials:!0}}).then(function(a){if(0===a.result){var b=a.data.rows||[];h.showRrxMyPrizeDialog(c,b,a.data.uniqueCenterUrl,g,f)}else winAlert(a.msg);hideRRXProcess()},function(a){hideRRXProcess()})}},this.getMyActivePrizeList=function(a,b,c,e,f,g,h){if(c=c||"123456",(""===c||void 0===c)&&b)return void winAlert(getWsiteNoAuthedMsg());if(checkWeixinAlert()){h=h||{},h.baseColor=e,h.title=f,h.activeCategory=0;var i=this,j={pluginType:h.pluginType},k=this.getInteractServiceHost();d(k,a,b,c,j,function(d){h.wsiteGuid=a,h.activeGuid=b,h.wxOpenId=c,h.tabList=d.tabList,h.couponTotal=parseInt(d.couponTotal),h.couponList=d.couponList,h.uniqueCenterUrl=d.uniqueCenterUrl,h.prizeList=d.currentWinList,h.waitWinList=d.waitWinList,h.activeCategory=d.activeCategory,h.hostUrl=k,h.isShowCoupon=d.isShowCoupon,i.showNewRrxMyAllPrizeDialog(k,h,g)})}},this.showNewRrxMyAllPrizeDialog=function(a,b,c){function d(){var a=v.find(".my-coupon-list-box .prize-evt-2-0");g(a,A,function(a){var c=$(a.currentTarget).data("id"),d=$(a.currentTarget).data("guid");getOpenCodeDialog(i,c,d,b.wxOpenId,n)});var d=v.find(".my-coupon-list-box .prize-type-3-1");g(d,A,function(a){var b=$(a.currentTarget).data("id"),c=getIndexByArray(p,b,"id");if(c>-1){var d=p[c];if(d&&1==d.state&&d.exdata&&1!=d.exdata.isApiWay)if(d.exdata.thirdUrl)window.location.href=d.exdata.thirdUrl;else{if(1==d.exdata.isLinkType)return void("miniprogram"===window.__wxjs_environment&&wx.miniProgram.navigateTo({url:d.exdata.miniPagepath,success:function(a){},fail:function(a){console.error(a)}}));d.exdata.link?window.location.href=d.exdata.link:winAlert("奖品链接不可用")}if(d&&1==d.state&&d.exdata&&1==d.exdata.isApiWay&&d.thirdData){var e=showRRXPrizeParseDictDialog(d.thirdData),f={name:d.prizeName,image:i.getImageHost()+d.prizeIcon,detail:e};showRRXPrizeDetailDictDialog(i,f,n),console.log(d.thirdData)}}});var e=v.find(".my-coupon-list-box .prize-type-6-1");g(e,A,function(a){var b=$(a.currentTarget).data("id"),c=getIndexByArray(p,b,"id");if(c>-1){var d=p[c];d&&1==d.state&&(j?window.location.href=j:winAlert("积分商城已关闭，请联系商家！"))}});var f=v.find(".my-coupon-list-box .prize-type-2-1");g(f,A,function(a){var b=$(a.currentTarget).data("id"),c=getIndexByArray(p,b,"id");if(c>-1){var d=p[c];if(d&&1==d.state){var e={name:d.prizeName,image:i.getImageHost()+d.prizeIcon,detail:d.ticketMessage};showRRXPrizeDetailDialog(i,e,n)}}});var h=v.find(".my-coupon-list-box .prize-type-7-1");g(h,A,function(a){var b=$(a.currentTarget).data("id"),c=getIndexByArray(p,b,"id");if(c>-1){var d=p[c];if(d&&1==d.state){var e={name:d.prizeName,image:i.getImageHost()+d.prizeIcon,detail:d.ticketMessage};showRRXPrizeDetailDialog(i,e,n)}}});var k=v.find(".my-coupon-list-box .prize-evt-0-0");g(k,A,function(a){var b=$(a.currentTarget).data("id"),d=($(a.currentTarget).data("guid"),$(a.currentTarget).data("orderno")),e=getIndexByArray(q,b,"id");if(e>-1){var f=q[e];f.orderNo=d,f&&0===parseInt(f.state)&&(c?(showRRXProcess("加载中..."),i.checkTimeOver(f.createTime,function(a){hideRRXProcess(),a?c(f):winAlert("奖品超时已失效，无法领取！")}),u&&u.closeEvent&&u.closeEvent()):winAlert("当前插件暂时不支持此功能"))}});var l=v.find(".my-coupon-list-box .prize-type-5-1");g(l,A,function(a){var b=$(a.currentTarget).data("id"),c=getIndexByArray(p,b,"id");if(c>-1){var d=p[c];if(d&&5==d.prizeType&&d.exdata.cardId&&wx){var e=d.exdata.cardId,f=d.exdata.cardExt;wx.addCard({cardList:[{cardId:e,cardExt:f}],success:function(a){console.log("win-prize-mp-ticket-success",a),window.showRRXPrizeInfoDialog(this,"领取成功",n)},fail:function(a){console.log("win-prize-mp-ticket-fail",a),window.showRRXPrizeInfoDialog(this,"加入卡券失败",n)}})}}});var m=v.find(".my-coupon-list-box .prize-type-4-5");g(m,A,function(a){var c=$(a.currentTarget).data("id"),d=$(a.currentTarget).data("guid"),e=getIndexByArray(p,c,"id");if(e>-1){var f=p[e];if(f&&4==f.prizeType&&5==f.state){var g=f.receiveId;apiHelper.getAppInstance().loadJs(apiHelper.getAppInstance().getLibHost()+"rrxiu/redpackPosterCommonUtil.js",function(){RedpackPosterCommonUtil.compose(apiHelper.getAppInstance(),d,1,b.wxOpenId,g)})}}})}function f(a){for(var b=0;b<a.length;b++)a[b].isShow=!1,a[b].exdata||(a[b].exdata={isApiWay:0}),6==a[b].prizeType&&1==a[b].state?(a[b].stateName="前往兑换",a[b].isShow=!0):4!=a[b].prizeType||1!=a[b].state||"3"!=a[b].exdata.activeStyle||4!=a[b].redpackState&&5!=a[b].redpackState?3==a[b].prizeType&&1==a[b].state&&a[b].exdata&&1!=a[b].exdata.isApiWay?(a[b].stateName="前往领奖",a[b].isShow=!0):3==a[b].prizeType&&1==a[b].state&&a[b].exdata&&1==a[b].exdata.isApiWay&&a[b].thirdData?(a[b].stateName="查看奖品",a[b].isShow=!0):2==a[b].prizeType&&1==a[b].state?(a[b].stateName="查看券码",a[b].isShow=!0):7==a[b].prizeType&&1==a[b].state?(a[b].stateName="查看奖品",a[b].isShow=!0):0===parseInt(a[b].state)&&0===parseInt(a[b].isDeleted)&&(a[b].stateName=m.waitGetMsg,a[b].prizeLeftTime=m.waitTimeMsg+"时间剩余"+a[b].leftTime+"分钟",a[b].isShow=!0):(4==a[b].redpackState?a[b].stateName="已失效":5==a[b].redpackState&&(a[b].stateName="提现"),a[b].state=a[b].redpackState,a[b].isShow=!0),a[b].prizeIcon=removeImgPrefix(a[b].prizeIcon);return a}var i=this,j=formatJfCenterUrl(b.uniqueCenterUrl),k='<div class="my-coupon-prize-module">    {{if isShowCoupon || activeListLen > 1 || waitWinList.length > 0}}<div class="coupon-tab-scroll"><div class="coupon-tab-box">            {{if waitWinList.length > 0}}<div class="coupon-tab-menu" data-category="-1" style="color:{{baseColor}};border-bottom:2px solid {{baseColor}};">待领奖({{waitWinList.length}})</div>            {{/if}}            {{if isShowCoupon}}<div class="coupon-tab-menu" data-category="0">我的券({{couponTotal}})</div>            {{/if}}            {{each tabList as row k}}<div class="coupon-tab-menu coupon-plugin-tab-cate-{{row.activeCategory}}" data-category="{{row.activeCategory}}" {{if waitWinList.length<= 0 && row.activeCategory == activeCategory}}style="color:{{baseColor}};border-bottom:2px solid {{baseColor}};"{{/if}}>{{row.categoryName}}<span>{{if row.activeCategory != activeCategory}}{{if row.total > 0}}({{row.total}}){{/if}}{{else}}({{list.length}}){{/if}}</span></div>        {{/each}}</div></div>    {{/if}}<div class="my-coupon-list-box" ><div class="my-wait-list-box">            {{each waitWinList as m j}}<div class="my-prize-item-box"><div class="my-prize-item"><div class="prize-left"><div class="prize-icon"><img src="{{imageHost+m.prizeIcon}}"></div><div class="prize-content"><div><div class="prize-name">{{m.prizeName}}</div>                                {{if m.groupPrice}}<div class="group-row"><div class="group-row-item"><div class="group-row-label">成交价</div><div class="group-row-value">¥{{m.groupPrice}}</div></div><div class="group-row-item"><div class="group-row-label">已支付</div><div class="group-row-value">¥{{m.payPrice}}</div></div>                                    {{if m.needPrice > 0}}<div class="group-row-item"><div class="group-row-label">剩余支付</div><div class="group-row-value">¥{{m.needPrice}}</div></div>                                    {{/if}}</div>                                {{else if m.payPrice || m.needPrice}}<div class="group-row"><div class="group-row-item"><div class="group-row-label">已支付</div><div class="group-row-value">¥{{m.payPrice}}</div></div><div class="group-row-item"><div class="group-row-label">剩余支付</div><div class="group-row-value">¥{{m.needPrice}}</div></div></div>                                {{else}}<div class="prize-type-name">{{m.prizeTypeName}}</div>                                {{/if}}</div><div><div class="prize-time">{{m.createTime}}</div>                                {{if m.prizeLeftTime}}<div class="prize-left-time" style="color: {{baseColor}};">{{m.prizeLeftTime}}</div>                                {{/if}}</div></div></div><div class="prize-right"><div style="border-color: {{baseColor}};color:{{baseColor}};" class="prize-evt-{{m.state}}-{{m.isDeleted}} prize-state prize-state-{{m.state}} prize-isdeleted-{{m.isDeleted}} prize-type-{{m.prizeType}}-{{m.state}} prize-apiway-{{m.exdata.isApiWay}}" data-id="{{m.id}}" data-guid="{{m.activeGuid}}" data-orderNo="{{m.orderNo}}"><span>                            {{m.stateName}}                            {{if m.state==2}}<span><i class="ticket-img"></i></span> {{/if}}</span></div></div></div></div>            {{/each}}</div><div class="my-prize-coupon" style="display: none;">            {{if couponList.length > 0}}            {{each couponList as item key}}<div class="my-coupon-row"><div class="my-coupon-prize-item" style="background-image: url({{imageHost+\'rrx/view/coupon_dialog_bg.png\'}});{{if item.stateName != \'未使用\'}}opacity: 0.4;color:#999;{{/if}}"><div class="coupon-left"><div class="coupon-name">{{item.prizeName}}</div><div class="coupon-time">                            {{if item.effectType == 0}}                            不限制                            {{else}}                            {{item.startTimeFormat}}-{{item.endTimeFormat}}                            {{/if}}</div><div class="coupon-active-name">来源：{{item.activeName}}</div></div><div class="coupon-right"><div class="coupon-price-box"  {{if item.stateName == \'未使用\'}} style="color:{{baseColor}};"{{/if}}><span class="coupon-price-icon">¥</span><span class="coupon-price" style="font-weight: bold;">{{item.price}}</span></div><div class="coupon-type">{{item.useType == 1 ? \'满\'+ item.usePrice +\'可用\' : \'无门槛\'}}</div></div></div>                {{if item.stateName == \'已使用\'}}<div class="coupon-icon"><img src="{{imageHost}}/rrx/view/coupon_use_icon.png"></div>                {{else if item.stateName == \'已过期\'}}<div class="coupon-icon"><img src="{{imageHost}}/rrx/view/coupon_fail_icon.png"></div>                {{/if}}</div>            {{/each}}            {{else}}<div class="no-data">暂无优惠券记录</div>            {{/if}}</div><div class="my-prize-plugin" {{if waitWinList.length > 0}}style="display: none;"{{/if}}>            {{if list.length > 0}}            {{each list as m j}}<div class="my-prize-item-box"><div class="my-prize-item" {{if m.isDeleted == 1}}style="opacity:0.5;"{{/if}}><div class="prize-left"><div class="prize-icon"><img src="{{imageHost+m.prizeIcon}}"></div><div class="prize-content"><div><div class="prize-name">{{m.prizeName}}</div>                                {{if m.groupPrice}}<div class="group-row"><div class="group-row-item"><div class="group-row-label">成交价</div><div class="group-row-value">¥{{m.groupPrice}}</div></div><div class="group-row-item"><div class="group-row-label">已支付</div><div class="group-row-value">¥{{m.payPrice}}</div></div>                                    {{if m.needPrice > 0}}<div class="group-row-item"><div class="group-row-label">剩余支付</div><div class="group-row-value">¥{{m.needPrice}}</div></div>                                    {{/if}}</div>                                {{else if m.payPrice || m.needPrice}}<div class="group-row"><div class="group-row-item"><div class="group-row-label">已支付</div><div class="group-row-value">¥{{m.payPrice}}</div></div><div class="group-row-item"><div class="group-row-label">剩余支付</div><div class="group-row-value">¥{{m.needPrice}}</div></div></div>                                {{else}}<div class="prize-type-name">{{m.prizeTypeName}}</div>                                {{/if}}</div><div><div class="prize-time">{{m.createTime}}</div>                                {{if m.prizeLeftTime}}<div class="prize-left-time" style="color: {{baseColor}};">{{m.prizeLeftTime}}</div>                                {{/if}}</div></div></div><div class="prize-right">                        {{if m.isShow || m.state == 2 || (m.state == 1 && m.prizeType == 5)}}<div style="position: relative;border-color: {{baseColor}};color:{{baseColor}};" class="prize-evt-{{m.state}}-{{m.isDeleted}} prize-state prize-state-{{m.state}} prize-isdeleted-{{m.isDeleted}} prize-type-{{m.prizeType}}-{{m.state}} prize-apiway-{{m.exdata.isApiWay}}" data-id="{{m.id}}" data-guid="{{m.activeGuid}}">						{{if m.exdata.isLinkType==1&&!isMiniEve}}						<wx-open-launch-weapp style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; z-index: 1; opacity: 1;" username="{{m.exdata.miniLink}}" path="{{m.exdata.miniPagepath}}"><template><button style="border: none;background:rgba(255, 0, 0, 0);width:140px;height:45px;"></button></template></wx-open-launch-weapp>						{{/if}}						<span>                            {{if m.state == 1 && m.prizeType == 5}}查看卡券{{else}}{{m.stateName}}{{/if}}</span></div>                        {{/if}}</div></div>                {{if m.state == 1 && m.prizeType != 5}}<div class="prize-success-icon"><img src="{{imageHost+\'rrx/view/coupon_success_icon.png\'}}"></div>                {{else if m.isDeleted == 1}}<div class="prize-fail-icon"><img src="{{imageHost+\'rrx/view/coupon_fail_icon.png\'}}"></div>                {{/if}}</div>            {{/each}}            {{else}}<div class="no-data">暂无中奖纪录</div>            {{/if}}</div></div></div>\n',l='{{if list.length > 0}}            {{each list as m j}}<div class="my-prize-item-box"><div class="my-prize-item" {{if m.isDeleted == 1}}style="opacity:0.5;"{{/if}}><div class="prize-left"><div class="prize-icon"><img src="{{imageHost+m.prizeIcon}}"></div><div class="prize-content"><div><div class="prize-name">{{m.prizeName}}</div>                                {{if m.groupPrice}}<div class="group-row"><div class="group-row-item"><div class="group-row-label">成交价</div><div class="group-row-value">¥{{m.groupPrice}}</div></div><div class="group-row-item"><div class="group-row-label">已支付</div><div class="group-row-value">¥{{m.payPrice}}</div></div>                                    {{if m.needPrice > 0}}<div class="group-row-item"><div class="group-row-label">剩余支付</div><div class="group-row-value">¥{{m.needPrice}}</div></div>                                    {{/if}}</div>                                {{else if m.payPrice || m.needPrice}}<div class="group-row"><div class="group-row-item"><div class="group-row-label">已支付</div><div class="group-row-value">¥{{m.payPrice}}</div></div><div class="group-row-item"><div class="group-row-label">剩余支付</div><div class="group-row-value">¥{{m.needPrice}}</div></div></div>                                {{else}}<div class="prize-type-name">{{m.prizeTypeName}}</div>                                {{/if}}</div><div><div class="prize-time">{{m.createTime}}</div>                                {{if m.prizeLeftTime}}<div class="prize-left-time" style="color: {{baseColor}};">{{m.prizeLeftTime}}</div>                                {{/if}}</div></div></div><div class="prize-right">                        {{if m.isShow || m.state == 2}}<div style="border-color: {{baseColor}};color:{{baseColor}};" class="prize-evt-{{m.state}}-{{m.isDeleted}} prize-state prize-state-{{m.state}} prize-isdeleted-{{m.isDeleted}} prize-type-{{m.prizeType}}-{{m.state}} prize-apiway-{{m.exdata.isApiWay}}" data-id="{{m.id}}" data-guid="{{m.activeGuid}}"><span>                            {{m.stateName}}                            {{if m.state==2}}<span><i class="ticket-img"></i></span> {{/if}}</span></div>                        {{/if}}</div></div>                {{if m.state == 1}}<div class="prize-success-icon"><img src="{{imageHost+\'rrx/view/coupon_success_icon.png\'}}"></div>                {{else if m.isDeleted == 1}}<div class="prize-fail-icon"><img src="{{imageHost+\'rrx/view/coupon_fail_icon.png\'}}"></div>                {{/if}}</div>            {{/each}}            {{else}}<div class="no-data">暂无中奖纪录</div>            {{/if}}\n',m={};
m.getPrizeMsg=b.getPrizeMsg||"领取",m.prizeMsg=b.prizeMsg||"奖品",m.noDataMsg=b.noDataMsg||"暂无中奖记录",m.waitGetMsg=b.waitGetMsg||"立即领取",m.waitTimeMsg=b.waitTimeMsg||"奖品领取";var n=b.baseColor||"#ff0000",o=b.title||"我的奖品",p=f(b.prizeList),q=f(b.waitWinList),r=b.tabList.length;b.couponTotal=parseInt(b.couponTotal);var s=compileHtml(k,{list:p,couponTotal:b.couponTotal,couponList:b.couponList,tabList:b.tabList,activeListLen:r,imageHost:i.getImageHost(),params:m,activeCategory:b.activeCategory,baseColor:n,waitWinList:q,isShowCoupon:b.isShowCoupon,isMiniEve:"miniprogram"===window.__wxjs_environment}),t={content:s},u=window.showRRXCommonDialog(i,t,n,null,o),v=$(".pt-inner .rrx-common-dialog");v.find(".dialog-content .dialog-content-box").css("height","700px");var w=162,x=r*w;b.couponTotal>0&&(x+=w),q.length>0&&(x+=w),v.find(".coupon-tab-box").width(x),h(v.find(".coupon-tab-box"));var y=b.activeCategory||0;q.length>0&&(y="-1");var z=null,A="click";setTimeout(function(){z=v.find(".coupon-tab-menu"),g(z,A,function(a){var c=$(a.currentTarget),g=c.data("category");g!=y&&(y=g,v.find(".coupon-tab-menu").css("color","#666"),v.find(".coupon-tab-menu").css("border-bottom","none"),c.css("color",n),c.css("border-bottom","2px solid "+n),-1===parseInt(g)?(v.find(".my-prize-plugin").hide(),v.find(".my-prize-coupon").hide(),v.find(".my-wait-list-box").show()):0===parseInt(g)?(v.find(".my-prize-plugin").hide(),v.find(".my-wait-list-box").hide(),v.find(".my-prize-coupon").show()):e(b.hostUrl,b.wsiteGuid,b.activeGuid,b.wxOpenId,g,function(a){p=f(a.winList);var b=compileHtml(l,{list:p,imageHost:i.getImageHost(),params:m,baseColor:n});v.find(".my-prize-plugin").html(b),v.find(".my-prize-coupon").hide(),v.find(".my-wait-list-box").hide(),v.find(".my-prize-plugin").show(),v.find(".coupon-plugin-tab-cate-"+g+" span").html("("+p.length+")"),setTimeout(function(){d()},500)}))}),d()},500)},this.getOpenCodeDialog=function(a,b,c,d,e){return getOpenCodeDialog(a,b,c,d,e)},this.showRrxMyPrizeDialog=function(a,b,c,d,e){c=formatJfCenterUrl(c);var f=this,g=void 0===e?!1:!0,h='<div class="prize-center">    {{each list as m j}}<div class="common-box prize-box"><div class="prize-small-icon-box"><img src="{{imageHost+m.prizeIcon}}"></div><div class="prize-info"><div class="prize-title">                {{m.prizeName}}</div>            {{if m.groupPrice}}<div class=" md-min-size">成交价：¥{{m.groupPrice}}</div><div class=" md-min-size">已支付：¥{{m.payPrice}}</div>                {{if m.needPrice>0}}<div class=" md-min-size">剩余支付：¥{{m.needPrice}}</div>                {{/if}}            {{else if m.payPrice || m.needPrice}}<div class=" md-min-size">已支付：¥{{m.payPrice}}</div><div class=" md-min-size">剩余支付：¥{{m.needPrice}}</div>            {{/if}}<div class="gold-time md-min-size">                {{m.createTime}}</div><div class="prize-over-tip md-min-size">                {{m.prizeLeftTime}}</div></div><div style="position: relative;" class="prize-evt-{{m.state}}-{{m.isDeleted}} prize-state prize-state-{{m.state}} prize-isdeleted-{{m.isDeleted}} prize-type-{{m.prizeType}}-{{m.state}} prize-apiway-{{m.exdata.isApiWay}}" data-id="{{m.id}}" data-guid="{{m.activeGuid}}">           {{if m.exdata.isLinkType==1&&!isMiniEve}}<wx-open-launch-weapp style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; z-index: 1; opacity: 1;" username="{{m.exdata.miniLink}}" path="{{m.exdata.miniPagepath}}"><template><button style="border: none;background:rgba(255, 0, 0, 0);width:140px;height:45px;"></button></template></wx-open-launch-weapp>           {{/if}}			<span style="vertical-align:middle">                {{m.stateName}}                {{if m.state==2}}<span><i class="ticket-img"></i></span> {{/if}}</span></div></div>{{/each }}{{if list.length==0}}<div class="no-content">    {{params.noDataMsg}}</div>{{/if}}</div>\n';d=d||{},d.getPrizeMsg=d.getPrizeMsg||"领取",d.prizeMsg=d.prizeMsg||"奖品",d.noDataMsg=d.noDataMsg||"暂无中奖记录",d.waitGetMsg=d.waitGetMsg||"立即领取",d.waitTimeMsg=d.waitTimeMsg||"奖品领取";for(var i=d.baseColor||"#ff0000",j=d.title||"我的奖品",k=0;k<b.length;k++)b[k].exdata||(b[k].exdata={isApiWay:0}),6==b[k].prizeType&&1==b[k].state?b[k].stateName="前往兑换":3==b[k].prizeType&&1==b[k].state&&b[k].exdata&&1!=b[k].exdata.isApiWay?b[k].stateName="前往领奖":3==b[k].prizeType&&1==b[k].state&&b[k].exdata&&1==b[k].exdata.isApiWay&&b[k].thirdData?b[k].stateName="查看奖品":2==b[k].prizeType&&1==b[k].state?b[k].stateName="查看券码":7==b[k].prizeType&&1==b[k].state?b[k].stateName="查看奖品":0===parseInt(b[k].state)&&0===parseInt(b[k].isDeleted)&&(b[k].stateName=d.waitGetMsg,b[k].prizeLeftTime=d.waitTimeMsg+"时间剩余"+b[k].leftTime+"分钟"),b[k].prizeIcon=removeImgPrefix(b[k].prizeIcon);var l=compileHtml(h,{list:b,imageHost:f.getImageHost(),params:d,isMiniEve:"miniprogram"===window.__wxjs_environment}),m={content:l},n=window.showRRXCommonDialog(f,m,i,null,j);setTimeout(function(){var d=$(".pt-inner .rrx-common-dialog"),h=d.find(".prize-center .prize-evt-2-0");h.off(clickEventType).on(clickEventType,function(b){b.stopPropagation(),b.preventDefault();var c=$(this).data("id"),d=$(this).data("guid");getOpenCodeDialog(f,c,d,a,i)});var j=d.find(".prize-center .prize-type-3-1");j.off(clickEventType).on(clickEventType,function(a){a.stopPropagation(),a.preventDefault();var c=$(this).data("id"),d=getIndexByArray(b,c,"id");if(d>-1){var e=b[d];if(e&&1==e.state&&e.exdata&&1!=e.exdata.isApiWay&&(e.exdata.thirdUrl?window.location.href=e.exdata.thirdUrl:1==e.exdata.isLinkType?"miniprogram"===window.__wxjs_environment&&wx.miniProgram.navigateTo({url:e.exdata.miniPagepath,success:function(a){},fail:function(a){console.error(a)}}):e.exdata.link?window.location.href=e.exdata.link:winAlert("奖品链接不可用")),e&&1==e.state&&e.exdata&&1==e.exdata.isApiWay&&e.thirdData){var g=showRRXPrizeParseDictDialog(e.thirdData),h={name:e.prizeName,image:f.getImageHost()+e.prizeIcon,detail:g};showRRXPrizeDetailDictDialog(f,h,i),console.log(e.thirdData)}}});var k=d.find(".prize-center .prize-type-6-1");k.off(clickEventType).on(clickEventType,function(a){a.stopPropagation(),a.preventDefault();var d=$(this).data("id"),e=getIndexByArray(b,d,"id");if(e>-1){var f=b[e];f&&1==f.state&&(c?window.location.href=c:winAlert("积分商城已关闭，请联系商家！"))}});var l=d.find(".prize-center .prize-type-2-1");l.off(clickEventType).on(clickEventType,function(a){a.stopPropagation(),a.preventDefault();var c=$(this).data("id"),d=getIndexByArray(b,c,"id");if(d>-1){var e=b[d];if(e&&1==e.state){var g={name:e.prizeName,image:f.getImageHost()+e.prizeIcon,detail:e.ticketMessage};showRRXPrizeDetailDialog(f,g,i)}}});var m=d.find(".prize-center .prize-type-7-1");m.off(clickEventType).on(clickEventType,function(a){a.stopPropagation(),a.preventDefault();var c=$(this).data("id"),d=getIndexByArray(b,c,"id");if(d>-1){var e=b[d];if(e&&1==e.state){var g={name:e.prizeName,image:f.getImageHost()+e.prizeIcon,detail:e.ticketMessage};showRRXPrizeDetailDialog(f,g,i)}}});var o=d.find(".prize-center .prize-evt-0-0");o.off(clickEventType).on(clickEventType,function(a){a.stopPropagation(),a.preventDefault();var c=$(this).data("id"),d=getIndexByArray(b,c,"id");if(d>-1){var h=b[d];h&&0===parseInt(h.state)&&(g&&e?(showRRXProcess("加载中..."),f.checkTimeOver(h.createTime,function(a){hideRRXProcess(),a?e(h):winAlert("奖品超时已失效，无法领取！")}),n&&n.closeEvent&&n.closeEvent()):winAlert("当前插件暂时不支持此功能"))}})},1e3)},this.showErrorInfo=function(a,b,c){b=b||"#fc5711",c&&(a="<div style='font-size: 28px;text-align: left;'>"+a+"</div>"),window.showRRXPrizeInfoDialog(this,a,b)},this.reloveTwoClickByISroll=function(){return reloveTwoClickByISroll()},this.commonPlayAudio=function(a,b,c){var d=document.getElementById("_comAudioPlayId");if(d){d.pause(),d.src=a,d.preload="auto",d.removeAttribute("loop"),c&&(d.loop="loop"),d.onended=function(){console.log("onended"),b&&b("ended")},d.onplay=function(){console.log("onplay")},d.onpause=function(){console.log("onpause"),b&&b("pause")},canPlayAudio(d,!0)}},this.stopCommonAudio=function(a){var b=document.getElementById("_comAudioPlayId");b.pause(),a&&this.playBackgroundMusic()},this.isOpenForbidShare=function(){return 1===parseInt(_dataObj.forbidShare)},this.showCartButton=function(a){},this.showMyPrizeButton=function(a,b){return a=a||"我的奖品",b=b||"#ff0000",$myPrizeButton.data("title",a),$myPrizeButton.data("baseColor",b),$myPrizeButton.show(),$myPrizeButton},this.hideMyPrizeButton=function(){return $myPrizeButton.hide(),$myPrizeButton},this.showPluginMsgButton=function(){showPluginMsgButton()},this.hidePluginMsgButton=function(){hidePluginMsgButton()},this.setPluginMsgAlertTitle=function(a){setPluginMsgAlertTitle(a)},this.setNeedTriggerWxMessage=function(){setNeedTriggerWxMessage()},this.getNeedTriggerWxMessageCookie=function(){return getNeedTriggerWxMessageCookie()},this.loadPluginMsg=function(a){loadPluginMsg(a)},this.checkHasFormInfo=function(a,b,c){checkHasFormInfo(a,b,c)},this.checkIsThirdAppNoLogin=function(){return checkIsThirdAppNoLogin()},this.checkIsThirdAppLogined=function(){return checkIsThirdAppLogined()},this.checkIsAppEnv=function(){return checkIsAppEnv()},this.getWsiteNoAuthedMsg=function(a){return getWsiteNoAuthedMsg(a)},this.checkIsWxMini=function(){return _isWxMin},this.renderPlugin=function(a,b,c,d,e){$wePluginClient.render(a,b,c,d,e)},this.getDialogWrapper=function(){return $dialogsPanel},this.checkIsHaveDialogShow=function(){return checkIsHaveDialogShow()},this.showSharePosterDialog=function(a,b,c,d){$sharePosterDialog.find("img").attr("src",a),b&&$sharePosterDialog.find(".dialog-top").css("background",b),c&&$sharePosterDialog.find(".dialog-top").css("color",c),d&&$sharePosterDialog.find(".dialog-top").text(d),$sharePosterDialog.find(".dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),$sharePosterDialog.show(),showSharePosterDialog()},this.longPageFactory=newLongPageFactory,this}},$wePluginClient=function(){function a(a,b){void 0===window.wePluginClient&&(window.wePluginClient=[]);for(var c=window.wePluginClient.length-1;c>=0;c--)if(window.wePluginClient[c].token==a&&window.wePluginClient[c].version==b)return window.wePluginClient[c];return null}function b(a,b){var c=a.content.token,d=a.content.name,e=a.content.version,f=Cool.util.getPluginDomain(c,e)+"index.js";UseAmdLoaderPlugin(d,e,a.content.levelId,a.content)?b(f,!0):b(f,!1)}function c(c,d,e,g,h){var i=c.content.token,j=c.content.version;apiHelper.getAppInstance().setDialogOpen(h),b(c,function(b,k){if(k)AmdLoader.require(b,function(a){if(a&&a.init){var b=c;_isEditing&&(b=$.extend(!0,{},c)),a.init(b,d,apiHelper.getAppInstance(),e,g,h)}});else{var l=a(i,j);null!==l?l.init&&new l.init(c,d,apiHelper.getAppInstance(),e,g,h):require(b,function(){l=f(i,j,window.wePluginInit,window.wePluginLoad,window.wePluginPreLoad,window.wePluginLeave),null!==l?l.init&&new l.init(c,d,apiHelper.getAppInstance(),e,g,h):alert("加载插件失败")})}})}function d(c,d){rrxdebug&&console.log("loadPlugin"),b(d,function(b,e){if(e)AmdLoader.require(b,function(a){a&&a.load&&a.load(c,d)});else{var f=a(d.content.token,d.content.version);null!==f&&f.load&&new f.load(c,d)}})}function e(c,d){rrxdebug&&console.log("preLoadPlugin"),b(c,function(b,e){if(e)AmdLoader.require(b,function(a){a&&a.preload&&a.preload(c,apiHelper.getAppInstance()),d&&d()});else{var g=c.content.token,h=c.content.version,i=a(g,h);null!==i?(i.preload&&new i.preload(c,apiHelper.getAppInstance()),d&&d()):require(b,function(){i=f(g,h,window.wePluginInit,window.wePluginLoad,window.wePluginPreLoad,window.wePluginLeave),null!==i?i.preload&&new i.preload(c,apiHelper.getAppInstance()):console.error("加载插件失败"),d&&d()})}})}function f(b,c,d,e,f,g){rrxdebug&&console.log("addPlugin"),void 0===window.wePluginClient&&(window.wePluginClient=[]);var h=a(b,c);return null===h&&(h={token:b,version:c,init:d,load:e,preload:f,leave:g},window.wePluginClient.push(h)),h}function g(c,d){b(d,function(b,e){if(e)AmdLoader.require(b,function(a){a&&a.leave&&a.leave(c,d,apiHelper.getAppInstance())});else{var f=a(d.content.token,d.content.version);null!==f&&(console.log("leavePlugin=pageId="+c,f),f.leave&&new f.leave(c,d,apiHelper.getAppInstance()))}})}return{render:c,load:d,preload:e,add:f,leave:g}}(),isShowGG=0,isAddBackEvent=0},CoolApp.prototype={constructor:CoolApp,createApp:function(a,b,c,d,e,f,g,h,i,j,k,l){this.init(a,b,c,d,e,f,g,h,i,j,k,l)},nextPage:function(){this.nextPage()},prePage:function(){this.prePage()},gotoPage:function(a){this.gotoPage(a)},isLastPage:function(){return base.isLastPage()},isFirstPage:function(){return base.isFirstPage()},isLastPageGotoFirstPage:function(){return base.isLastPageGotoFirstPage()},getPageCount:function(){this.getPageCount()},outPage:function(a,b,c){},parsePage:function(a){return this.parsePage(a)},playPage:function(a,b){return this.playPage(a,b)},parseElement:function(a){return this.parseElement(a)},playElement:function(a,b){return this.playElement(a,b)},getCurrentPageId:function(){return this.getCurrentPageId()},setIsEditing:function(a){this.setIsEditing(a)},getAllowFlip:function(){this.getAllowFlip()},setPageThumb:function(a){this.setPageThumb(a)},setOutpageWrapper:function(a){this.setOutpageWrapper(a)},setPageInDialog:function(a){this.setPageInDialog(a)},clearAllCustomIntervals:function(){this.clearAllCustomIntervals()},getPrefixCss:function(a,b){return this.getPrefixCss(a,b)},getApiHelper:function(){return this.getApiHelper()}}}(),function(a){a.IdentityCodeValid=function(a){var b={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "},c="",d=!0;if(a&&(a=a.toString().toUpperCase()),a&&/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(a))if(b[a.substr(0,2)]){if(18==a.length){a=a.split("");for(var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],f=[1,0,"X",9,8,7,6,5,4,3,2],g=0,h=0,i=0,j=0;17>j;j++)h=a[j],i=e[j],g+=h*i;f[g%11];f[g%11]!=a[17]&&(c="身份证号不合法",d=!1)}}else c="身份证号不合法",d=!1;else c="身份证号格式错误",d=!1;return{result:d?0:1,msg:c}}}(window),function(){var a="",b="",c=0;RRXTachograph=function(d,e,f){b=d,a=e,c=parseInt(f,10)},RRXTachograph.prototype={constructor:RRXTachograph,getCommPara:function(){var b="";return wsiteInfo&&(b=wsiteInfo.fg),{wsiteGuid:a,fg:b}},recordWsite:function(a,c){var d=this;setTimeout(function(){var e=d.getCommPara();e.openId=c,$.ajax({url:b+"tachograph/"+a,type:"POST",data:{form:e,wsiteGuid:e.wsiteGuid},dataType:"json",xhrFields:{withCredentials:!0}}).then(function(a){})},500)},recordVisit:function(a){this.recordWsite("recordVisit",a)},recordShareClick:function(a){this.recordWsite("recordShareClick",a)},recordSharePoster:function(a){this.recordWsite("recordSharePoster",a)},recordFocusClick:function(a){this.recordWsite("recordFocusClick",a)},recordMenuClick:function(a){this.recordWsite("recordMenuClick",a)}}}(),function(){function a(a){var b=setInterval(function(){if(l>=70)clearInterval(b);else{l++;var c=Math.round(((new Date).getTime()-window.rrxOpenWsiteTime)/1e3);a.wsitePageLeave(window.userReadDepth,c)}},1e4)}var b="",c="",d="",e="",f=0,g="",h="",i="",j="",k=0,l=0,m=!1;WePlusLog=function(l,m,n,o,p,q,r){var s=this;d=l,q&&(e=q),b=m,g=n||"",j=m+"VisitFirstLogGuid",h=o,i=r,k=parseInt(p,10),setTimeout(function(){var e=Cool.cookie.get(j),l="";wsiteInfo&&wsiteInfo.wxauthedInfo&&(l=wsiteInfo.wxauthedInfo.id);var m={guid:b,fromVisitGuid:g,firstVisitGuid:e,qrc:h,qrcty:i,openid:l,fg:wsiteInfo.fg,cid:wsiteInfo.cid};$.post(d+"visitLog/add",{form:m},function(b){0===b.result&&(c=b.data.logguid,f=b.data.visitCount,""===e&&Cool.cookie.set(j,c),1!==k&&a(s))},"json")},100)},WePlusLog.prototype={constructor:WePlusLog,doShare:function(a,c,e){if(1!==k){m&&(c="");var f={type:a,wsiteGuid:b,visitGuid:Cool.cookie.get(j)||"",wxOpenId:c,fg:wsiteInfo.fg,cid:wsiteInfo.cid};$.post(d+"visitLog/doShare",{form:f},function(a){a.data&&0===a.data.code&&e&&(m=!0,e())},"json"),window.hasOwnProperty("_rrxiu_pushsale")&&window._rrxiu_pushsale.addShare(a),window.rrxiuXst&&window.rrxiuXst.addShare(a)}},logTag:function(a){setTimeout(function(){$.post(d+"logvisit/logTag",{form:{logguid:c,tag:a}},function(a){},"json")},500)},logError:function(a){a&&"object"==typeof a&&(a=JSON.stringify(a));var c={guid:b,data:a};$.ajax({url:d+"visitLog/log",type:"POST",data:{form:c},dataType:"json",xhrFields:{withCredentials:!0}})},interactHit:function(a,c){if(1!==k){var e={type:a,name:c,wsiteGuid:b,visitGuid:Cool.cookie.get(j)||""};$.post(d+"visitLog/interactHit",{form:e},function(a){},"json")}},closeWsite:function(a,b,c){},wsitePageLeave:function(a,c){if(1!==k){var f={wsiteGuid:b,page:a,duration:c,fg:wsiteInfo.fg,cid:wsiteInfo.cid},g=e||d;$.post(g+"visitLog/wsitePageLeave",{form:f},function(a){},"json")}},getVisitCount:function(){return f||0},getVisitFirstLogKey:function(){return j},clearPageLeaveCount:function(){l=0}}}(),window.Danmaku=window.Danmaku||{},function(a){a.html2Escape=function(a){return a?a.replace(/[<>&"]/g,function(a){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[a]}):a},a.getCharacterSize=function(a){for(var b=0,c=0;c<a.length;c++)a.charCodeAt(c)>127||94==a.charCodeAt(c)?b+=2:b++;return b},a.object2Style=function(a){var b="";return a&&$.each(a,function(a,c){b+=$.isNumeric(c)?a+":"+c+"px;":a+":"+c+";"}),b};var b,c,d=function(){var a=function(a){var b=document.createElement("div");return"string"==typeof a&&(b.innerHTML=a),b.children[0]},b=function(a){return a.replace(/<[^>]+>/g,"")},c=function(a,b){return null===b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},d=function(a){for(var b,c,d=a[0].toUpperCase()+a.slice(1),e=["webkit","moz","MS","ms","o",""],f=document.createElement("div"),g=f.style,h=0,i=e.length;i>h;){if(b=e[h],c=b?b+d:a,c in g)return b?"-"+b+"-":"";h++}return void 0};return{tmplFactory:a,textFilter:b,random:c,prefixed:d}}(),e=function(){function b(e,f){if(e){var h="",i=0===c.danmuType?this.gutter:this.verGutter,j=f*i+this.gutter*f;console.log(j),0===c.danmuType&&(j+=g);var k=function(d){var e=c.showWxPhoto,f='<div class="danmuCommentRowInnerBox">';return d.forEach(function(d,g){var h=$(".danmuCommentContainer .danmuCommentBox .danmuCommentRowInner").length/2%b.prototype.colorList.length,i=b.prototype.colorList[h],j=d.photo,k=d.content,l=j?"background-image:url("+j+");background-size: cover;background-position:0 0;":"",m=0===c.danmuColor?"":1===c.danmuColor?"background:rgba(255,255,255,.8);":"background:"+i,n=1===c.danmuColor?"color:black;":"";if(d.customStyle&&d.customeContent){e=!1;var o="";void 0!==d.customStyle&&null!==d.customStyle&&(o+="height:"+d.customStyle.height+";",o+="line-height:"+d.customStyle["line-height"]+";"),f+='<div data-source="myspec" class="danmuCommentRowInner '+(1===c.danmuType?"verticalDanmu ":"")+'" style="'+a.object2Style(d.customStyle)+'">'+(e?'<span class="danmuCommentPhoto" style="'+l+'"></span>':"")+'<div class="danmuCommentContent" style="'+o+'"><span class="myspec">'+d.customeContent+"</span></div></div>"}else e=!0,f+='<div class="danmuCommentRowInner '+(1===c.danmuType?"verticalDanmu ":"")+'" style="'+m+'">'+(e?'<span class="danmuCommentPhoto" style="'+l+'"></span>':"")+'<div class="danmuCommentContent" style="'+n+'"><span>'+a.html2Escape(k)+"</span></div></div>"}),f+="</div>"};h+='<div class="danmuCommentRow danmuCommentRow'+f+'" style="top:'+j+'px" num="'+f+'">';var l=k(e);h+=l+l,h+="</div>",this.$dom=$(d.tmplFactory(h)),this.top=j}}return b.ANIMATIONSPEED=[100,120,140,160],b.prototype.TRANSFORM=d.prefixed("transform")+"transform",b.prototype.winW=640,b.prototype.verH=312,b.prototype.gutter=60,b.prototype.verGutter=18,b.prototype.verMaxwidth=370,b.prototype.defaultGutter=80,b.prototype.colorList=["rgba(244,67,54,.8)","rgba(233,30,99,.8)","rgba(103,58,183,.8)","rgba(63,81,181,.8)","rgba(33,150,243,.8)","rgba(0,188,212,.8)","rgba(0,150,136,.8)","rgba(76,175,80,.8)","rgba(255,152,0,.8)"],b.prototype.resetCssStyle=function(a,b){var d=this,e=d.winW,f=d.top,g=d.verMaxwidth,h=d.gutter+d.verGutter,i=this.$dom[0].querySelectorAll(".danmuCommentRowInnerBox"),j=i[0].querySelectorAll(".danmuCommentRowInner"),k=d.$dom;if(b&&(f=a*h,d.top=f),k.css({display:"block",left:0,top:f,width:e,height:j[0].clientHeight}),1===c.danmuType){var l=k.find(".danmuCommentContent span").get(0).offsetWidth;l=l>g?g:l,k.find(".danmuCommentContent").css("width",l+"px")}},b.prototype.setAnimation=function(a,e){var f,g,h=this,i=h.winW,j=h.winH,k=h.verH,l=h.top,m=h.gutter+h.verGutter,n=h.gutter,o=h.verMaxwidth,p=0,q=0,r=0,s=this.$dom[0].querySelectorAll(".danmuCommentRowInnerBox"),t=s[0].querySelectorAll(".danmuCommentRowInner"),u=0,v=0,w=this.$dom.attr("num"),x=$("#danmaCommentStyle"+w),y=h.$dom;if(e&&(l=a*m),q=parseInt(this.$dom.attr("speed")),q||(q=b.ANIMATIONSPEED.splice(d.random(0,b.ANIMATIONSPEED.length-1),1)[0],void 0===q&&(q=140),this.$dom.attr("speed",q)),1==c.danmuType&&(q=140,this.$dom.attr("speed",q)),!(t.length<=0)){for(var z=0,A=t.length;A>z;z++)u+=Math.ceil(t[z].offsetWidth)+80+2,v+=Math.ceil(t[z].offsetHeight)+80+2;u=u>i?u:i,p=Math.ceil((u+i)/q),1==c.danmuType&&(v=v>j?v:j,p=Math.ceil((v+j)/q),r=o-y.find(".danmuCommentContent span").get(0).offsetWidth,r=r>0?0:r),g=function(){var a="infinite",b=0,d="",e="",f="";return 0===c.danmuType?(b=p/2,d="animation:danmu_runleft_"+w+" "+p+"s linear "+a+" ",e="transform:translate3d("+i+"px,0,0) ",f="",f+=".danmuCommentRow"+w+" .danmuCommentRowInnerBox:nth-child(1){width:"+u+"px;-webkit-"+d+";"+d+";-webkit-"+e+";"+e+";}@-webkit-keyframes danmu_runleft_"+w+"{0% {-webkit-transform:translate3d("+i+"px,0,0);}100% {-webkit-transform:translate3d(-"+(2*u-i)+"px,0,0);}}@keyframes danmu_runleft_"+w+"{0% {transform:translate3d("+i+"px,0,0);}100% {transform:translate3d(-"+(2*u-i)+"px,0,0);}}",d=d+b+"s ",f+=".danmuCommentRow"+w+" .danmuCommentRowInnerBox:nth-child(2){width:"+u+"px;-webkit-"+d+";"+d+";-webkit-"+e+";"+e+";}"):(b=p/2,animContent="animation:content_runleft"+w+" "+p+"s linear "+a+" ",animComment="animation:danmu_runleft"+w+" "+p+"s linear "+a+" ",trans="transform:translate3d(0,"+(k+m)+"px,0) ",f="",f+=".danmuCommentRow"+w+" .danmuCommentRowInnerBox:nth-child(1){-webkit-"+animComment+";"+animComment+";-webkit-"+trans+";"+trans+";}.danmuCommentRow"+w+" .danmuCommentRowInnerBox:nth-child(1) .danmuCommentContent span{-webkit-"+animContent+";"+animContent+";}@-webkit-keyframes danmu_runleft"+w+"{0% {-webkit-transform:translate3d(0,"+k+"px,0);opacity:0;}"+100*(n+l)/(j+v)+"% {opacity:0;}"+100*(2*n+l)/(j+v)+"% {opacity:1;}"+100*(k-n+l)/(j+v)+"% {opacity:1;}"+100*(k+l)/(j+v)+"% {opacity:0;}100% {-webkit-transform:translate3d(0,"+(-2*v+k)+"px,0);opacity:0;}}@keyframes danmu_runleft"+w+"{0% {-webkit-transform:translate3d(0,"+k+"px,0);opacity:0;}"+100*(n+l)/(j+v)+"% {opacity:0;}"+100*(2*n+l)/(j+v)+"% {opacity:1;}"+100*(k-n+l)/(j+v)+"% {opacity:1;}"+100*(k+l)/(j+v)+"% {opacity:0;}100% {-webkit-transform:translate3d(0,"+(-2*v+k)+"px,0);opacity:0;}}@-webkit-keyframes content_runleft"+w+"{0% {left:0;}"+100*(2*m+l)/(j+v)+"% {left:0;}"+100*(k-m+l)/(j+v)+"% {left:"+r+"px;}"+100*(k+l)/(j+v)+"% {left:"+r+"px;}100% {left:0;}}@keyframes content_runleft"+w+"{0% {left:0;}"+100*(2*m+l)/(j+v)+"% {left:0;}"+100*(k-m+l)/(j+v)+"% {left:"+r+"px;}"+100*(k+l)/(j+v)+"% {left:"+r+"px;}100% {left:0;}}",animComment=animComment+b+"s ",animContent=animContent+b+"s ",f+=".danmuCommentRow"+w+" .danmuCommentRowInnerBox:nth-child(2){-webkit-"+animComment+";"+animComment+";-webkit-"+trans+";"+trans+";}.danmuCommentRow"+w+" .danmuCommentRowInnerBox:nth-child(2) .danmuCommentContent span{-webkit-"+animContent+";"+animContent+";}"),f},x.length>0?(f=g(),x.html(f),setTimeout(function(){},10)):(f='<style id="danmaCommentStyle'+w+'" type="text/css">',f+=g(),f+="</style>",$("head").append(f))}},b}(),f=function(){function a(a,b){if(a){var c="background-image:url("+a.photo+")",e='<div class="headImg headImg_'+b+'" num="'+b+'" style="'+c+'"></div>';return this.$dom=$(d.tmplFactory(e)),e}}return a.prototype.setAnimation=function(a){var b=this,c=b.$dom,d=b.likeLength,e=c.attr("num"),f=$("#danmaPhotoStyle"+e),g="";getStyleSheet=function(){var b=3,c=40,f=20,g="infinite",h=parseInt(Math.random()*c-f),i=d>b?d:b,j=b>i-a?b+a-i:0,k=b>d?0:b>d-a?a-j:a,l="animation:danmaAnimPhoto_"+e+" "+i+"s "+j+"s ease-out "+g+" ",m="transform:translate(0,0) scale(1)",n="opacity:0",o="";return o+=".headImg_"+e+"{-webkit-"+l+";"+l+";-webkit-"+m+";"+m+";"+n+";}@-webkit-keyframes danmaAnimPhoto_"+e+"{0%,"+parseInt(100*k/i)+"%{ -webkit-transform:translate(0,-50px) scale(1);transform:translate(0,-50px) scale(1);opacity:0;}"+(parseInt(100*k/i)+1)+"%{-webkit-transform:translate(0,-65px) scale(1);transform:translate(0,-65px) scale(1);opacity:1;}"+parseInt(100*(k+b)/i)+"%,100%{-webkit-transform:translate("+h+"px,-260px) scale(2);transform:translate(-"+h+"px,-260px) scale(2);opacity:0;}}@keyframes danmaAnimPhoto_"+e+"{0%,"+parseInt(100*k/i)+"%{ -webkit-transform:translate(0,-50px) scale(1);transform:translate(0,-50px) scale(1);opacity:0;}"+(parseInt(100*k/i)+1)+"%{-webkit-transform:translate(0,-65px) scale(1);transform:translate(0,-65px) scale(1);opacity:1;}"+parseInt(100*(k+b)/i)+"%,100%{-webkit-transform:translate("+h+"px,-260px) scale(2);transform:translate(-"+h+"px,-260px) scale(2);opacity:0;}}"},f.length>0?(g=getStyleSheet(),c.hide(),f.html(g),setTimeout(function(){c.show()},0)):(g='<style id="danmaPhotoStyle'+e+'" type="text/css">',g+=getStyleSheet(),g+="</style>",$("head").append(g))},a}(),g=(a.danmaStage=function(){function b(){var a=this;this.eachCommListLen=0,this.comments=[],this.heart=[],(void 0===c.danmuType||void 0===c.danmuColor||void 0===c.showDanmulike)&&(c.danmuType=0,c.danmuColor=0,c.showDanmulike=!0),this.initCommentBase(a)}return b.prototype.initCommentBase=function(a){if(!($("#danmuCommentContainer").length>0)){var b="";b='<div id="danmuCommentContainer" class="danmuCommentContainer"> <div class="danmuCommentBox"></div></div><div id="danmuCommentLike" class="danmuCommentLike"></div>',$("#pt-inner").append(b),a.$danmuCommentBox=$("#danmuCommentContainer .danmuCommentBox"),a.$danmuCommentLike=$("#danmuCommentLike")}},b.prototype.initBindEvent=function(a){},b.prototype.initData=function(a){if(0===c.danmuType?a.initComments(a):a.initVerticalComments(a),0===c.danmuType?a.comments.forEach(function(a,b){a.setAnimation(b),a.resetCssStyle(b)}):a.comments.forEach(function(a,b){a.resetCssStyle(b),a.setAnimation()}),a.comments.length-1>-1){a.comments[a.comments.length-1].top+a.comments[a.comments.length-1].$dom.height();if(1==c.danmuType&&(a.$danmuCommentBox.css("height",e.prototype.verH+"px"),a.$danmuCommentBox.css("top","auto"),a.$danmuCommentBox.css("bottom","30px")),2==c.danmuColor)for(var b=e.prototype.colorList,d=0,f=a.$danmuCommentBox.find(".danmuCommentRow"),g=0;g<f.length;g++)for(var h=f.eq(g).find(".danmuCommentRowInnerBox").eq(0).find(".danmuCommentRowInner"),i=f.eq(g).find(".danmuCommentRowInnerBox").eq(1).find(".danmuCommentRowInner"),j=0;j<h.length;j++)"myspec"!=h.data("source")&&(h.eq(j).css("background",b[d%b.length]),i.eq(j).css("background",b[d%b.length])),d++}var k=a.initAnimation();a.stopAnimation=k.stop,a.startAnimation=k.start,a.toggleAnimation=k.toggle,a.restartAnimation=k.restart,a.show(),a.$danmuCommentLike.show()},b.prototype.initLike=function(a){var b=a.danmuLikeList;f.prototype.likeLength=b.length;var c=document.createDocumentFragment();b.forEach(function(b,d){var e=new f(b,d);e.$dom&&(tmpDom=e.$dom,c.appendChild(tmpDom[0]),a.heart.push(e))}),a.$danmuCommentLike.append(c),a.heart.forEach(function(a,b){a.setAnimation(b)})},b.prototype.initComments=function(a){var b=a.danmuList,c=b.length,d=0;c>0&&6>=c?d=1:c>6&&12>=c?d=2:c>12&&18>=c?d=3:c>18&&(d=3),a.initEachLineComments(a,d)},b.prototype.initVerticalComments=function(a){var b,c,d,f=document.createDocumentFragment(),g=a.danmuList.length;e.prototype.winH=(e.prototype.gutter+e.prototype.verGutter)*g,e.prototype.winH=e.prototype.winH>e.prototype.verH?e.prototype.winH:e.prototype.verH;for(var h=0;g>h;h++){if(d=a.danmuList.splice(0,1),b=new e(d,h),!b.$dom)return;c=b.$dom,a.comments.push(b),f.appendChild(c[0])}a.$danmuCommentBox.append(f)},b.prototype.initEachLineComments=function(a,b){var c,d,f,g=document.createDocumentFragment(),h=a.danmuList,i=h.length;a.eachCommListLen=Math.floor(i/b),a.leftCommListLen=i%b;for(var j=0;b>j;j++){if(f=0===j?a.danmuList.splice(0,a.eachCommListLen+a.leftCommListLen):a.danmuList.splice(0,a.eachCommListLen),c=new e(f,j),!c.$dom)return;d=c.$dom,a.comments.push(c),g.appendChild(d[0])}a.$danmuCommentBox.append(g)},b.prototype.sendCommentData=function(b,d){b.comments&&0===b.comments.length?(b.show(),b.$danmuCommentBox.show(),b.$danmuCommentBox.addClass("show"),b.$danmuCommentLike.show()):b.hasEnter=!0;var f=setInterval(function(){if(b.firstEnter){if(clearInterval(f),!b.hasEnter)return;if($("#danmuCommentContainer .danmuCommentBox .danmuCommentRow .danmuCommentRowInnerBox").addClass("noAnimate"),0===c.danmuType){b.firstDanmu&&($($("#danmuCommentContainer .danmuCommentRow").find(".danmuCommentRowInnerBox")).html(""),b.firstDanmu=!1);var g=$(".danmuCommentContainer .danmuCommentBox .danmuCommentRowInner").length/2,h=e.prototype.colorList,i=h[g%h.length],j=d.photo?"background-image:url("+d.photo+");":"",k=0===c.danmuColor?"":1===c.danmuColor?"background:rgba(255,255,255,.8);":"background:"+i,l=1===c.danmuColor?"color:black;":"",m=c.showWxPhoto?'<span class="danmuCommentPhoto" style="'+j+'"></span>':"",n='<div class="danmuCommentRowInner '+(1===c.danmuType?"verticalDanmu ":"")+'" style="'+k+'">'+m+'<div class="danmuCommentContent" style="'+l+'"><span>'+a.html2Escape(d.content)+"</span></div></div>";$($("#danmuCommentContainer .danmuCommentRow")[0]).find(".danmuCommentRowInnerBox").prepend(n)}else{b.firstDanmu&&($(b.$danmuCommentBox).html(""),b.firstDanmu=!1,b.comments=[]);var o=[],p={},q=b.comments.length+1;p.photo=d.photo,p.content=a.html2Escape(d.content),o[0]=p,e.prototype.winH=(e.prototype.gutter+e.prototype.verGutter)*q,e.prototype.winH=e.prototype.winH>e.prototype.verH?e.prototype.winH:e.prototype.verH;var r=new e(o,q-1);b.comments.unshift(r),b.comments[0].$dom.find(".danmuCommentRowInnerBox").addClass("noAnimate"),$("#danmuCommentContainer .danmuCommentBox").prepend(r.$dom)}b.$danmuCommentBox.addClass("show"),b.comments[0].setAnimation(0),1==c.danmuType&&b.comments.forEach(function(a,b){a.resetCssStyle(b,!0),a.setAnimation(b)}),setTimeout(function(){$("#danmuCommentContainer .danmuCommentBox .danmuCommentRow .danmuCommentRowInnerBox").removeClass("noAnimate")},0)}},100)},b.prototype.renderCommentData=function(a,b,c){c.$danmuCommentBox.html(""),c.$danmuCommentBox.show(),0===a.length&&(a=[],c.firstDanmu=!0),c.firstEnter=!0,c.danmuList=a,b&&b(c)},b.prototype.renderLikeData=function(a,b,c){c.$danmuCommentBox.show();for(var d=[],e=a.length,f=0;e>f;f++)d.push(a[f]);c.danmuLikeList=d,b&&b(c)},b.prototype.sendLikeData=function(a,b){var c=a.photo,d='<div class="headImg headImg_0 tmpHeadimg" style="background-image: url('+c+');"></div>';b.$danmuCommentLike.append(d),setTimeout(function(){$(".tmpHeadimg").eq(0).remove()},3e3),$(".headImg:not(.tmpHeadimg)").css("opacity",0),setTimeout(function(){b.noLike&&(b.noLike=!1,b.danmuLikeList=[],b.heart=[],$(".headImg:not(.tmpHeadimg)").remove());var c=new f(a,f.prototype.likeLength);return c.$dom?(b.danmuLikeList.push(a),tmpDom=c.$dom,b.$danmuCommentLike.append(tmpDom[0]),b.heart.push(c),f.prototype.likeLength=b.danmuLikeList.length,void b.heart.forEach(function(a,b){a.setAnimation(b)})):void console.log("内容为空")},1e3)},b.prototype.show=function(){this.isActive||(this.$danmuCommentBox.addClass("show"),this.isActive=!0,b.prototype.hasShown=!0)},b.prototype.hide=function(){var a=this;a.$danmuCommentBox.removeClass("show"),this.isActive=!1},b.prototype.toggle=function(){this.isActive?this.hide():this.show()},b.prototype.initAnimation=function(){var a=this;cancelAnimation=!0;var b=function(){cancelAnimation=!0},d=function(){cancelAnimation&&(cancelAnimation=!1)},e=function(){},f=function(){cancelAnimation=!1,
0===c.danmuType?a.comments.forEach(function(a,b){a.setAnimation(b),a.resetCssStyle(b)}):a.comments.forEach(function(a,b){a.resetCssStyle(b),a.setAnimation(b)})};return a.loopBreak=0,{stop:b,start:d,restart:f,toggle:e}},b}(),120);a.init=function(d){b||(c={showWxPhoto:!0,showDanmulike:!0,danmuType:0,danmuColor:2},d&&("horizontal"===d.style||"hz"===d.style?c.danmuType=0:c.danmuType=1),b=new a.danmaStage)},a.stop=function(){clearTimeout(a.startDanmuTimer),a.startDanmuTimer=null,b&&(b.$danmuCommentBox.removeClass("show"),b.hide(),b.$danmuCommentBox.hide(),b.$danmuCommentLike.hide(),b.stopAnimation&&b.stopAnimation())},a.addLikeData=function(a){b.sendLikeData(a,b)},a.renderLikeData=function(a){try{var c=$.extend([],a);b.renderLikeData(c,b.initLike,b)}catch(d){console.log(d)}},a.addCommentData=function(a){b.sendCommentData(b,a)},a.renderCommentData=function(a){try{var c=$.extend([],a);b.renderCommentData(c,b.initData,b)}catch(d){console.log(d)}},a.show=function(){b&&(b.show(),b.$danmuCommentBox.show(),b.$danmuCommentBox.addClass("show"),b.$danmuCommentLike.show())},a.hide=function(){b&&(b.hide(),b.$danmuCommentLike.hide(),b.stopAnimation&&b.stopAnimation())},a.setDanmuData=function(a){try{var c=$.extend([],a);b.danmuList=c}catch(d){console.log(d)}},a.setDanmuLikeData=function(a){try{var c=$.extend([],a);b.danmuLikeList=c}catch(d){console.log(d)}},a.start=function(){b&&(b.commentsInited?(b.show(),b.$danmuCommentBox.show(),b.$danmuCommentBox.addClass("show"),b.$danmuCommentLike.show()):(b.renderCommentData(b.danmuList,b.initData,b),b.renderLikeData(b.danmuLikeList,b.initLike,b),b.commentsInited=!0))},a.refresh=function(b){try{a.setDanmuData(b),a.renderCommentData(b)}catch(c){console.log(c)}},a.checkIsPlaying=!a.startDanmuTimer}(window.Danmaku),window.rrxTouch={},function(a){function b(a,b){return 180*Math.atan2(b,a)/Math.PI}function c(a,c,d,e){var f=c-e,g=d-a,h=0,j=Math.sqrt(g*g+f*f);if(i>j)return h;var k=b(g,f);return k>=-45&&45>k?h=4:k>=45&&135>k?h=1:k>=-135&&-45>k?h=2:(k>=135&&180>=k||k>=-180&&-135>k)&&(h=3),h}function d(a){a=a||window.event,a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}var e,f,g=0,h=0,i=10;rrxTouch=function(a,b){if(!a)throw new Error("elem is null");b?b.dest&&(i=b.dest):b={prevent_default:!0},a.on("mousedown touchstart",function(a){e=0,f=0,g=0,h=0,b.prevent_default&&d(a),"mousedown"==a.type&&(e=a.pageX,f=a.pageY),"touchstart"==a.type&&(e=a.touches?a.touches[0].pageX:a.originalEvent.touches[0].pageX,f=a.touches?a.touches[0].pageY:a.originalEvent.touches[0].pageY),b.touchstart&&b.touchstart()}),a.on("mousemove touchmove",function(a){b.prevent_default&&d(a),"mousemove"==a.type&&(g=a.pageX,h=a.pageY),"touchmove"==a.type&&(g=a.touches?a.touches[0].pageX:a.originalEvent.touches[0].pageX,h=a.touches?a.touches[0].pageY:a.originalEvent.touches[0].pageY),b.touchmove&&b.touchmove()}),a.on("mouseup touchend mouseleave",function(a){b.prevent_default&&d(a),b.touchend&&b.touchend();var i=c(e,f,g,h);switch(i){case 0:break;case 1:console.info("up"),b.swiperup&&b.swiperup();break;case 2:console.info("down"),b.swipedown&&b.swipedown();break;case 3:console.info("left"),b.swiperleft&&b.swiperleft();break;case 4:console.info("right"),b.swiperight&&b.swiperight()}})}}(window.jQuery),function(a){function b(){var a=0;return document.documentElement&&document.documentElement.scrollTop?a=document.documentElement.scrollTop:document.body&&(a=document.body.scrollTop),a}function c(a){return a&&"#fff"!=a&&"#ffffff"!=a&&"rgb(255, 255, 255)"!=a?a:"#fe7567"}function d(a,b){template.config("escape",!1);var c=template.compile(a);return c(b)}function e(a,b){var c=null;setTimeout(function(){c=new iScroll(a,{checkDOMChanges:!0,bounce:!1,bounceLock:!1,hScrollbar:!1,onBeforeScrollStart:function(a){a.stopPropagation()}}),b&&b(c)},100)}function f(a,b){return a=a||"#F44336",a=$.trim(a),a.length>7?h(a,b):g(a,b)}function g(a,b){a=a||"#F44336",a=$.trim(a);var c=parseInt(a.slice(1),16),d=0>b?0:255,e=0>b?-1*b:b,f=c>>16,g=c>>8&255,h=255&c;return"#"+(16777216+65536*(Math.round((d-f)*e)+f)+256*(Math.round((d-g)*e)+g)+(Math.round((d-h)*e)+h)).toString(16).slice(1)}function h(a,b){a=a||"#F44336",a=$.trim(a);var c=a.split(","),d=0>b?0:255,e=0>b?-1*b:b,f=parseInt(c[0].slice(4)),g=parseInt(c[1]),h=parseInt(c[2]);return"rgb("+(Math.round((d-f)*e)+f)+","+(Math.round((d-g)*e)+g)+","+(Math.round((d-h)*e)+h)+")"}function i(a,b,c,e){console.log("fnWinAlert--"+a,e),c=void 0===c?!1:c;var f='<div id="win-alert-dialog"></div>',g='<div class="info-dialog-box"><div class="info-content"><div class="title"> {{title}}</div>        {{if extraPar&&extraPar.isShowGG}}<div class="gg-box"><a href="{{extraPar.ggLink}}"><img src="{{extraPar.ggImg}}" alt=""></a></div>        {{/if}}</div><div class="info-btn"><a style="{{cancelStyle}}" class="info-btn-cancel" href="javascript:void(0)">{{isConfirm?\'取消\':\'知道了\'}}</a>        {{if isConfirm}}<a class="info-btn-ok" href="javascript:void(0)">确定</a>        {{/if}}        {{if extraPar && extraPar.type == \'mini\'}}<wx-open-launch-weapp style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; z-index: 1; opacity: 1;" username="{{extraPar.value}}" path="{{extraPar.pagepath}}"><template><button style="border: none;background:rgba(255, 0, 0, 0);width:100%;height:86px;"></button></template></wx-open-launch-weapp>        {{/if}}</div></div>\n',h=d(g,{title:a,isConfirm:void 0===c?!1:c,cancelStyle:c?"color:#808080":"color:#36ADF9",extraPar:e}),i=!1;e&&"mini"==e.type&&(i=!0);var j=$("#win-alert-dialog");0===j.length&&($("#pt-inner .pt-dialogs").append(f),j=$("#win-alert-dialog")),j.html(h),j.show();var k=j.find(".info-btn-cancel"),l="click";if(i){var m=j.find("wx-open-launch-weapp");m&&m.length>0&&(k=m)}k.off().on(l,function(a){a.stopPropagation(),a.preventDefault(),j.hide(),b&&b(!1)}),j.find(".info-btn-ok").off().on("click",function(a){a.stopPropagation(),a.preventDefault(),b&&b(!0),j.hide()}),j.find(".gg-box").off().on("click",function(a){e.key&&Cool.cookie.setWithoutTime(e.key,1,1)}),e&&e.key&&1==Cool.cookie.get(e.key)&&j.find(".gg-box").hide()}function j(a){T=a.isOffGG}function k(a){if(console.log("ggBackgg",a.key,T),!(T||a.key&&1==Cool.cookie.get(a.key))){a&&(a.ggImg||(a.ggImg="https://file2.rrxh5.cc/g1/2021/05/28/1622188917588.gif"));var b='<div id="back-gg-dialog"></div>',c="";c+='<div class="back-gg-box ">	<div class="rrx-icon-close-layer close-btn "></div>	<div class="gg-content">					<img src="{{params.ggImg}}" alt="">			</div></div>\n';var e={ggImg:a.ggImg},f=d(c,{params:e}),g=$("#back-gg-dialog");0===g.length&&($("#pt-inner .pt-dialogs").append(b),g=$("#back-gg-dialog")),g.html(f),g.css("display","block"),g.find(".back-gg-box").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),g.find(".close-btn").off().on("click",function(a){a.stopPropagation(),a.preventDefault(),g.find(".back-gg-box").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){g.css("display","none")},800)}),g.find(".gg-content").on("click",function(){a.key&&Cool.cookie.setWithoutTime(a.key,1,1),window.open(a.ggLink)})}}function l(a,b,c,e,f){function g(){function a(a){var b=n.getVerifyResult();console.log(b),g.find(".info-dialog-verify").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){g.hide(),a&&a(m)},600)}var b='<div id="verify-alert-dialog" class="verify-alert-dialogClass"></div>',c='<div class="info-dialog-verify bounceInUpAni"><div class="content-close"><div class="close-icon"></div></div><div class="verify-content"></div></div>\n',e=d(c,{}),g=$("#verify-alert-dialog");0===g.length&&($("#main").find(".pt-inner .pt-dialogs").append(b),g=$("#verify-alert-dialog")),g.html(e);var i=g.find(".verify-content"),n=new rrxCaptcha(i,{serviceHost:h,doCheck:!0,getImage:{url:h+"sms/VerifyImage",params:{wsiteGuid:j,sendPhone:l,sendType:k}},check:{url:h+"sms/VerifySend",params:{wsiteGuid:j,sendPhone:l,sendType:k},successCallback:function(b){m.isVerify=b.isVerify,m.data=b.data,a(f)},failCallback:function(a){m.isVerify=a.isVerify,m.data=a.data}}});g.show(),g.find(".content-close").off().on("click",function(b){b.preventDefault(),a(f)})}var h=a,j=b,k=e,l=c,m={isVerify:!1,data:null};if(!window.hasSmsVerify){window.hasSmsVerify=!0;var n={wsiteGuid:j,sendPhone:l,sendType:k};$.post(h+"sms/Verify",{form:n},function(a){window.hasSmsVerify=!1,0===a.result?a.data.isVerify?g():f&&(m.isVerify=!0,m.data=a.data,f(m)):i(a.msg)})}}function m(a,b,c,e){function f(){function a(a){var b=m.getVerifyResult();console.log(b),k.find(".info-dialog-verify").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){k.hide(),a&&a(j)},600)}var b='<div id="verify-lottery-alert-dialog" class="verify-alert-dialogClass"></div>',c='<div class="info-dialog-verify bounceInUpAni"><div class="content-close"><div class="close-icon"></div></div><div class="verify-content"></div></div>\n',f=d(c,{}),k=$("#verify-lottery-alert-dialog");0===k.length&&($("#main").find(".pt-inner .pt-dialogs").append(b),k=$("#verify-lottery-alert-dialog")),k.html(f);var l=k.find(".verify-content"),m=new rrxCaptcha(l,{serviceHost:g,doCheck:!0,getImage:{url:g+"sms/VerifyLotteryImage",params:{wsiteGuid:h,wxOpenId:i}},check:{url:g+"generalPrize/VerifyCode",params:{wsiteGuid:h,wxOpenId:i},successCallback:function(b){j.isVerify=b.isVerify,j.data=b.data,a(e)},failCallback:function(a){j.isVerify=a.isVerify,j.data=a.data}}});k.show(),k.find(".content-close").off().on("click",function(b){b.preventDefault(),a(e)})}var g=a,h=b,i=c,j={isVerify:!1,data:null};f()}function n(a,b,c,e,f){function g(){var a="verify-active-alert-dialog",b='<div id="verify-active-alert-dialog" class="verify-alert-dialogClass"></div>',c='<div class="info-dialog-verify bounceInUpAni"><div class="content-close"><div class="close-icon"></div></div><div class="verify-content"></div></div>\n',e=d(c,{}),g=$("#"+a);0===g.length&&($("#main").find(".pt-inner .pt-dialogs").append(b),g=$("#"+a)),g.html(e);var n=g.find(".verify-content");new rrxCaptcha(n,{serviceHost:h,doCheck:!1,getImage:{url:h+"sms/VerifyActiveImage",params:{wsiteGuid:i,guid:k,wxOpenId:j}},clickImgCallback:function(a){l.code=a,l.close=function(){g.hide()},g.find(".info-dialog-verify").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){g.hide(),f&&f(l)},600)}});g.show(),g.find(".content-close").off().on("click",function(a){g.find(".info-dialog-verify").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){g.hide(),f&&f(m)},600)})}var h=a,i=b,j=e,k=c,l={code:"",event:"ok",close:null},m={code:"",event:"cancel"};g()}function o(){var a='<div id="rrx-process-dialog"></div>',b='<div class="dialog-container"><div class="dialog-container-loader"><div class="loader-inner line-spin-fade-loader"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div class="dialog-container-process">请稍后</div></div>\n',c=d(b,{}),e=$("#rrx-process-dialog");return 0===e.length&&($("#main").find(".pt-inner .pt-dialogs").append(a),e=$("#rrx-process-dialog"),e.html(c)),e}function p(){var a='<div id="rrx-tips-dialog"><span>请稍等</span></div>',b=d(a,{}),c=$("#rrx-tips-dialog");return 0===c.length&&($("#main").find(".pt-inner .pt-dialogs").append(b),c=$("#rrx-tips-dialog")),c}function q(a){var b=o();b&&(a=a||"请稍等",b.find(".dialog-container-loader >div").addClass("line-spin-fade-loader"),b.find(".dialog-container-process").html(a),b.show())}function r(){var a=o();a&&(a.find(".dialog-container-loader >div").removeClass("line-spin-fade-loader"),a.find(".dialog-container-process").html("请稍等"),a.hide())}function s(a){var b=p();b&&(a=a||"请稍等",b.find("span").html(a),b.css("z-index",3e4),b.css("visibility","visible"),b.addClass("fadeIn"),b.show(),setTimeout(function(){t()},3e3))}function t(){var a=p();a&&(a.removeClass("fadeIn"),a.css("visibility","hidden"),a.hide())}function u(a,b,e,f){function g(){t.find(".afteronline-dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),t.show()}function h(a){t.find(".afteronline-dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){t.hide(),a&&a()},600)}function i(){w.off().on(u,function(a){a.preventDefault(),h(function(){f&&(v.event="closeEvent",v.result=0,f(v))})})}function j(){var a=t.find(".content-qr"),b=new QRCode(a[0],{width:300,height:300});b.makeCode(r)}e=c(e);var k=a,l=(k.getInteractServiceHost(),k.getLibHost()),m=k.getWsiteCanvas().find(".pt-inner .pt-dialogs"),n="prize-afteronline-dialog",o='<div class="'+n+'"></div>',p='<div class="afteronline-dialog-content"><div class="content-close"><img class="content-close-img" src="{{closeImage}}"></div><div class="dialog-content"><div class="content-box"><div class="content-box-head">向商家出示该二维码领奖</div><div class="content-box-body"><div class="content-qr"></div><p class="content-qr-msg">兑奖码二维码</p></div><div class="content-code"><p class="content-code-tag">兑奖码</p><p class="content-code-text">{{prizeCode}}</p></div></div><div class="content-foot"><div class="content-foot-msg">请及时截图保存</div></div></div></div>\n',q=l+"weplus/image/close.png",r=b.openCode,s=d(p,{closeImage:q,prizeCode:r}),t=m.find("."+n);0===t.length&&(m.append(o),t=m.find("."+n)),t.html(s);var u="click",v={event:"closeEvent",result:0},w=t.find(".content-close-img");j(),i(),g()}function v(a,b,e,f){function g(){r.find(".wxpublic-dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),r.show()}function h(a){r.find(".wxpublic-dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){r.hide(),a&&a()},600)}function i(){u.off().on(s,function(a){a.preventDefault(),h(function(){f&&(t.event="closeEvent",t.result=0,f(t))})})}e=c(e);var j=a,k=(j.getInteractServiceHost(),j.getLibHost()),l=j.getWsiteCanvas().find(".pt-inner .pt-dialogs"),m="prize-wxpublic-dialog",n='<div class="'+m+'"></div>',o='<div class="wxpublic-dialog-content"><div class="content-close"><img class="content-close-img" src="{{closeImage}}"></div><div class="dialog-content"><div class="content-box"><div class="content-box-head">在公众号内回复领奖口令领奖</div><div class="content-box-body"><div class="content-qr"><img src="{{appQrUrl}}" alt="公众号二维码"></div><p class="content-qr-msg">公众号二维码</p>{{ if appName}}<p class="content-qr-msg">复制口令发送到{{appName}}</p>{{/if}}</div><div class="content-code"><p class="content-code-tag">领奖口令</p><p class="content-code-text">{{prizeCode}}</p></div></div><div class="content-foot"><div class="content-foot-msg">24小时内有效</div></div></div></div>\n',p=k+"weplus/image/close.png",q=d(o,{closeImage:p,prizeCode:b.openCode,appQrUrl:b.appQrUrl,appName:b.appName||""}),r=l.find("."+m);0===r.length&&(l.append(n),r=l.find("."+m)),r.html(q);var s="click",t={event:"closeEvent",result:0},u=r.find(".content-close-img");i(),g()}function w(a,b,e,g,h){function i(){G.find(".winTest svg path").css({fill:e}),G.find(".winTest svg  g path").css({fill:"#fff"}),G.find(".winTest svg polygon").eq(1).css({fill:e}),G.find(".dialog-content").css({background:"linear-gradient(to bottom, "+r+" 0%,"+e+" 100%)"}),G.find(".content-action").find("svg path").css({fill:e}),G.find(".winPrize-dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),G.show()}function j(a){G.find(".winPrize-dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){G.hide(),a&&a()},600)}function k(){J.off().on(H,function(a){a.preventDefault(),j(function(){g&&(I.event="getprizeEvent",I.result=0,g(I))})}),K.off().on(H,function(a){a.preventDefault(),j(function(){g&&(I.event="giveupEvent",I.result=0,g(I))})})}e=c(e);var l=a,m=l.getWsiteCanvas().find(".pt-inner .pt-dialogs"),n=l.getLibHost(),o="rrx-prizewin-dialog",p='<div class="'+o+'"></div>',q='<div class="winPrize-dialog-content"><div class="content-close"><img class="content-close-img" src="{{closeImage}}"></div><div class="dialog-content"><div class="dialog-content-img" style="background-image:url({{bgImage}});padding-bottom: 100px;background-repeat: no-repeat;background-size: cover;"><div class="content-box-star" style="background-image:url({{winTag}});"></div><div class="content-box" style="padding-top: 65px;"><div class="content-box-head"><div class="winTest" style="width:400px;height:118px;margin: 0 auto;">                        {{winText}}</div></div><img class="content-box-body-headImg" src="{{prizeTop}}"><div class="content-box-body"><div class="noPrize-info"><img src="{{prizeImage}}"></div><div class="winPrize-line" style="border-color:{{textColor}}; "></div><div class="winPrize-title" style="color: {{textColor}};">                        {{pirzeTitle}}</div></div>                {{if tipsContent}}<div style="margin: 30px 20px 15px 20px;color: #fff;font-size: 24px;">{{tipsContent}}</div>                {{/if}}<div class="content-box-foot"><div class="content-action btn-border-40 " style="{{actionCss}}">                        {{btn}}</div></div></div>            {{ if hasShare}}<div class="content-share">分享后获得一次抽奖机会</div>            {{/if}}</div></div></div>\n',r=f(e,.4),s="background-color:#fff;box-shadow: 2px 12px 1px "+r+";",t=n+"weplus/image/close.png",u=n+"weplus/image/prizeBg1.png",v=n+"weplus/image/winPrizeStar.png",w=n+"weplus/image/prizeInfoBg1.png",x=R.winTest,y=e,z=b.name||"",A=b.image||"http://image3.weplus.me/2016/07/20/1468986497159.png",B=b.hasShare,C=1;b.shareChanceCount&&(C=b.shareChanceCount);var D="";D=h&&"knowBtn"==h?R.knowBtn:R.getBtn;var E=b.tipsContent?b.tipsContent:"",F=d(q,{closeImage:t,bgImage:a.handleImgUrl(u),winTag:v,winText:x,pirzeTitle:z,prizeImage:a.handleImgUrl(A),prizeTop:w,textColor:y,actionCss:s,btn:D,hasShare:B,shareChanceCount:C,tipsContent:E}),G=m.find("."+o);0===G.length&&(m.append(p),G=m.find("."+o)),G.html(F);var H="click",I={event:"closeEvent",result:0},J=G.find(".content-action"),K=G.find(".content-close-img");k(),i()}function x(a,b,e,g){function h(){E.find("svg path").css({fill:e}),E.find(".loseTest svg path").css({fill:e}),E.find(".loseTest svg g path").css({fill:"#fff"}),E.find(".dialog-content").css({background:"linear-gradient(to bottom, "+q+" 0%,"+e+" 100%)"}),E.find(".content-action").find("svg path").css({fill:e}),E.find(".noPrize-dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),E.show()}function i(a){E.find(".noPrize-dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){E.hide(),a&&a()},600)}function j(){H.off().on(F,function(a){a.preventDefault(),i(function(){g&&(G.event="closeEvent",G.result=0,g(G))})}),I.off().on(F,function(a){a.preventDefault(),i(function(){g&&(G.event="closeEvent",G.result=0,g(G))})})}e=c(e);var k=a,l=k.getWsiteCanvas().find(".pt-inner .pt-dialogs"),m=k.getLibHost(),n="rrx-prizeno-dialog",o='<div class="'+n+'"></div>',p='<div class="noPrize-dialog-content"><div class="content-close"><img class="content-close-img" src="{{closeImage}}"></div><div class="dialog-content"><div class="dialog-content-img" style="background-image:url({{bgImage}})"><div class="content-box"><div class="content-box-head"><div class="loseTest" style="width:376px;height:108px;margin:0 auto">{{lostTag}}</div></div><img class="content-box-body-headImg" src="{{prizeTop}}"><div class="content-box-body"><div style="display:table;margin:0 auto"><div class="noPrize-info" style="display:table-cell;vertical-align:middle;font-size:{{fontSize}}px">{{content}}</div></div><div class="noPrize-cry" style="border-top-color:{{thinColor}}">{{failText}}</div></div><div class="content-box-foot"><div class="content-action btn-border-40" style="{{actionCss}}">{{btn}}</div></div></div>{{ if hasShare}}<div class="content-share">分享后获得{{shareChanceCount}}次抽奖机会</div>{{/if}}</div></div></div>\n',q=f(e,.4),r="background-color:#fff;box-shadow: 2px 12px 1Px "+q+" ;",s=m+"weplus/image/close.png",t=m+"weplus/image/prizeBg1.png",u=m+"weplus/image/prizeInfoBg1.png",v=R.cry,w=R.knowBtn,x=R.loseTest,y=e,z=50,A=b.content;A&&(A.length>6&&A.length<=12?z=40:A.length>12&&(z=30));var B=b.hasShare,C=1;b.shareChanceCount&&(C=b.shareChanceCount);var D=d(p,{closeImage:s,bgImage:t,failText:v,lostTag:x,prizeTop:u,textColor:y,thinColor:q,actionCss:r,content:A,fontSize:z,btn:w,hasShare:B,shareChanceCount:C}),E=l.find("."+n);0===E.length&&(l.append(o),E=l.find("."+n)),E.html(D);var F="click",G={event:"closeEvent",result:0},H=E.find(".content-action"),I=E.find(".content-close-img");j(),h()}function y(b,e,g,h,j,k,m){function n(){X.find(".prizeget-dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),X.show()}function o(a){X.find(".prizeget-dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){X.hide(),a&&a()},600)}function p(){Q(ga,Y,function(a){a.preventDefault();var b=C();b&&(console.log("data",b),h?(_.event="submitEvent",_.result=b,_.closeCallBack=o,U?h(_,V.couponInfo):h(_,null)):o())}),Q(ha,Y,function(a){a.preventDefault();var b=y(X);if(x(b)){var c=X.find(".btn-smscode"),d=X.find(".input-award-smscode");w(b,c,d)}else i("请输入正确的手机号码！")}),Q(ia,Y,function(a){a.preventDefault(),o(function(){h&&(_.event="giveupEvent",_.result=0,U?h(_,V.couponInfo):h(_,null))})}),Q(ka,Z,function(a){var b=X.find(".award-province").val();r(b),s(0)}),Q(la,Z,function(a){var b=X.find(".award-city").val();s(b)}),Q(ja,Y,function(a){z(b,g,m,function(a){a&&void 0!==a.aviableCount&&(V.couponInfo=a.selectCoupon,m.coupon=a.selectCoupon,V.aviableCouont=parseInt(a.aviableCount),W=d(I,V),X.html(W),ga=X.find(".submit-form"),ha=X.find(".btn-smscode"),ia=X.find(".closeBtn"),ja=X.find(".coupon-module"),p())})})}function q(){D.loadJs(appConfig.libHost+"citys/citysJson.js",function(){for(var a=cityJson.length,b=0;a>b;b++){var c=cityJson[b].item_code.substr(2,4);if("0000"!=c){var e=cityJson[b].item_code.substr(4,2);"00"!=e?da.push(cityJson[b]):ca.push(cityJson[b])}else ba.push(cityJson[b])}aa=d(ea,{showTips:"省份",list:ba}),X.find(".award-province").html(aa)})}function r(a){var b={showTips:"城市",list:[]};if(a&&0!==a&&"0"!==a){for(var c=[],e=a.substr(0,2),f=ca.length,g=0;f>g;g++){var h=ca[g].item_code.substr(0,2);h==e&&c.push(ca[g])}b.list=c}aa=d(ea,b),X.find(".award-city").html(aa)}function s(a){var b={showTips:"区/县",list:[]};if(a&&0!==a&&"0"!==a){for(var c=[],e=a.substr(0,4),f=da.length,g=0;f>g;g++){var h=da[g].item_code.substr(0,4);h==e&&c.push(da[g])}b.list=c}aa=d(ea,b),X.find(".award-area").html(aa)}function t(a,b){var c=[];if(c="province"==b?ba:"city"==b?ca:da,!a||!c)return"";for(var d="",e=0;e<c.length;e++)if(a==c[e].item_code){d=c[e].item_name;break}return d}function u(a){ma=60,a.html(ma+"s"),a.css("background-color","#e7e7e7"),a.css("color","#686868"),fa=setInterval(function(){ma-=1,0===ma?v(a):a.html(ma+"s")},1e3)}function v(a){fa&&clearInterval(fa),a.html("获取验证码"),a.css("background-color",g),a.css("color","#fff")}function w(a,b,c){if(0===ma){var d=D.getInteractServiceHost(),e=D.getWsiteGuid();l(d,e,a,"",function(a){a.isVerify&&u(b)})}}function x(a){var b=/^0?1[3|4|5|6|7|8|9][0-9]\d{8}$/;return b.test(a)?!0:!1}function y(a){for(var b=M,c=0;c<b.length;c++)if("telephone"===b[c].type&&("手机"===b[c].name||"手机号"===b[c].name)){var d=a.find(".input-award-"+b[c].id);return d.val()}return""}function A(a){var b=[],c=[];if(a){c="string"==typeof a?JSON.parse(a):a;for(var d=0;d<c.length;d++)("true"==c[d].display||c[d].display===!0)&&("telephone"==c[d].type?c[d].inputType="tel":c[d].type?c[d].inputType=c[d].type:c[d].inputType="text",b.push(c[d]))}return b}function C(){for(var a=[],b=M,c="",d=0;d<b.length;d++){var e=X.find(".input-award-"+b[d].id),f=e.val().trim();if(!f&&5!=b[d].id)return i(b[d].name+"不能为空"),!1;if(5==b[d].id){var g=!1;if(1==b[d].isProvince){if(g=e.find(".award-province").val(),!g||0===g||"0"===g)return i("请选择省份！"),!1;f+=t(g,"province")}if(1==b[d].isCity){if(g=e.find(".award-city").val(),!g||0===g||"0"===g)return i("请选择城市！"),!1;f&&(f+=","),f+=t(g,"city")}if(1==b[d].isArea){if(g=e.find(".award-area").val(),!g||0===g||"0"===g)return i("请选择区/县！"),!1;f&&(f+=","),f+=t(g,"area")}if(1==b[d].isDetail||void 0===b[d].isDetail||"undefined"===b[d].isDetail){var h=$.trim(e.find(".award-detail").val());if(!h)return i("请填写详细地址！"),!1;f&&(f+=","),f+=h}if(!f)return i("地址不能为空！"),!1}else if("telephone"===b[d].type){if(!x(f))return i("输入的手机号码格式不正确！"),!1;if(B(b[d].smscode)){var j=X.find(".input-award-smscode");if(""===$.trim(j.val()))return i("验证码不能为空！"),!1;c={},c.sendPhone=f,c.codeValue=j.val().trim()}}if("mail"===b[d].type){var k=/^(\S)+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;if(!k.test(f))return i("输入的邮箱格式不正确！"),!1}a.push({id:b[d].id,name:b[d].name,value:f,unique:b[d].unique,allunique:b[d].allunique,smsticket:b[d].smsticket,smscode:b[d].smscode})}return{smsData:c,awardInfo:a}}g=c(g);var D=b,E=D.getWsiteCanvas().find(".pt-inner .pt-dialogs"),F=D.getLibHost(),G="rrx-prizeget-dialog",H='<div class="'+G+'"></div>',I='<div class="prizeget-dialog-content"><div class="closeBtn"><img src="{{closeTag}}"></div><div class="p-form"><div style="background-color:{{pFromBg}} " class="p-head">            {{activeTitle}}</div><ul>            {{each awardModel as m j}}<li {{if m.id == 5}} style="height: auto;" {{/if}}>                    {{if m.inputType==\'select\'&&m.list&&m.list.length>0}}<div class="select-form" style="border: 1px solid {{pFromBg}}"><select class="select-form-item input-award-{{m.id}}"><option value="">                                选择{{m.name}}</option>                            {{each m.list as v}}<option value="{{v}}">                                {{v}}</option>                            {{/each}}</select><span class="select-marker"></span></div>                    {{else if m.id == 5}}<div class="input-award-{{m.id}}"><div style="display: flex;">                                {{if m.isProvince == 1}}<div class="select-form city-item" style="border: 1px solid {{pFromBg}};margin-bottom: 10px;"><select class="select-form-item award-province"><option value="0">省份</option></select></div>                                {{/if}}                                {{if m.isCity == 1}}<div class="select-form city-item" style="border: 1px solid {{pFromBg}};margin-bottom: 10px;"><select class="select-form-item award-city"><option value="0">城市</option></select></div>                                {{/if}}                                {{if m.isArea == 1}}<div class="select-form city-item" style="border: 1px solid {{pFromBg}};margin-bottom: 10px;"><select class="select-form-item award-area"><option value="0">区/县</option></select></div>                                {{/if}}</div>                            {{if m.isDetail == undefined || m.isDetail == \'undefined\' || m.isDetail == 1}}<div><input style="border: 1px solid {{pFromBg}};height: 60px;" placeholder="请输入详细地址" class="award-detail" type="text"></div>                            {{/if}}</div>                    {{else}}                        {{if m.inputType==\'date\'}}<span class="date-pre-span">{{m.name}}</span>                        {{/if}}<input style="border: 1px solid {{pFromBg}}" placeholder="{{m.name}}" class="input-award-{{m.id}}" type="{{m.inputType}}">                    {{/if}}</li>            {{if m.smscode==\'true\' || m.smscode===true}}<li><input style="border: 1px solid {{pFromBg}};width:50% "                       placeholder="输入验证码" class="input-award-smscode" type="tel"><a href="javascript:void(0)" style="background-color:{{pfrombg}}" class="btn-smscode">获取验证码</a></li>            {{/if}}            {{/each}}</ul><div class="p-foot">            {{each payInfo as p i}}<div class="pay-item" style="color:{{pFromBg}}"><div class="pay-item-label">{{p.name}}</div><div>{{p.amount}}{{p.unit ? p.unit : \'元\'}}</div></div>            {{/each}}            {{if isCoupon}}<div class="coupon-module"><div class="coupon-icon" style="background:{{pFromBg}}">减</div><div class="coupon-name">{{couponInfo ? couponInfo.prizeName : \'优惠券\'}}</div><div class="coupon-price">                    {{if couponInfo}}                    -{{couponInfo.price}}元                    {{else if aviableCouont<= 0}}                    无可用                    {{else}}                    {{aviableCouont}} 张可用                    {{/if}}</div><div class="coupon-right-arrow">&gt;</div></div><div class="coupon-line"></div><div class="coupon-real-price" style="color:{{pFromBg}}">实际支付：{{couponInfo ? couponInfo.realPrice : prizePrice}}元</div>            {{/if}}<div style="background-color:{{pFromBg}} ;box-shadow:2px 12px 1Px {{pFromShadow}} " class="p-foot-btn"><a href="javascript:void(0)" class="submit-form">{{activeBtn}}</a></div><div class="p-foot-time" style="color:{{color}}">{{leftTime}}</div></div></div></div>\n',J=f(g,.4),K=F+"weplus/image/close.png",L=g,M=A(e),N="<header >完善领奖信息</header>",O=R.activeBtn;if(j&&(N="<header >完善报名信息</header>",O=R.applyBtn),k=k||[],m=m||{},m.isPay)N="<header >完善收货信息</header>",O="立即支付";else if(!j){var P=m.title||"完善领奖信息";N="<header >"+P+"</header>",O=m.btnName||"领取"}m.title&&(N="<header >"+m.title+"</header>"),m.btnName&&(O=m.btnName);var S=null;m.coupon&&(S=m.coupon);var T=m.leftTime||"",U=!1;1==m.isCoupon&&parseFloat(m.prizePrice)>0&&(U=!0),console.log("_otherInfo--11",m);var V={activeTitle:N,awardModel:M,closeTag:K,pFromBg:L,pFromShadow:J,activeBtn:O,payInfo:k,color:g,leftTime:T,isCoupon:U,couponInfo:S,aviableCouont:0,prizePrice:m.prizePrice,pFormStyle:m.pFormStyle},W=d(I,V),X=E.find("."+G);0===X.length&&(E.append(H),X=E.find("."+G)),X.html(W);var Y="click",Z="change",_={event:"closeEvent",result:0},aa="",ba=[],ca=[],da=[],ea='<option value="0">{{showTips}}</option>{{if list.length > 0}}    {{each list as row k}}<option value="{{row.item_code}}">{{row.item_name}}</option>    {{/each}}{{/if}}\n';q();var fa,ga=X.find(".submit-form"),ha=X.find(".btn-smscode"),ia=X.find(".closeBtn"),ja=X.find(".coupon-module"),ka=X.find(".award-province"),la=X.find(".award-city"),ma=0;p(),n(),a.wxInputFocusEvent(X.find("input[type=text],input[type=tel]")),a.wxInputFocusEvent(X.find("textarea"))}function z(a,b,c,e){function f(){Q(m,t,function(a){a.stopPropagation(),a.preventDefault(),g.find(".rrx-common-dialog .coupon-list-module .tab-menu").css("color","#666666"),g.find(".rrx-common-dialog .coupon-list-module .tab-menu").css("border-bottom","none"),$(a.currentTarget).css("color",b),$(a.currentTarget).css("border-bottom","2px solid "+b);var c=$(a.currentTarget).data("type");1==c?(g.find(".rrx-common-dialog .coupon-list-module .coupon-avialeable").show(),g.find(".rrx-common-dialog .coupon-list-module .coupon-disable").hide()):2==c&&(g.find(".rrx-common-dialog .coupon-list-module .coupon-avialeable").hide(),g.find(".rrx-common-dialog .coupon-list-module .coupon-disable").show())}),Q(n,t,function(a){g.find(".coupon-list-module .coupon-item-active .icon").hide();var b=$(a.currentTarget).data("index"),d=$(a.currentTarget).data("id");c.coupon&&c.coupon.id==d?e&&e({selectCoupon:null,aviableCount:q}):($(a.currentTarget).find(".icon").show(),e&&e({selectCoupon:p[b],aviableCount:q})),l.closeEvent()})}var g=a.getWsiteCanvas().find(".pt-inner .pt-dialogs"),h="我的券",j=c.couponTitleColor||"#333333",k='<div class="coupon-list-module"><div class="tab-box"><div class="tab-menu" data-type="1" style="color:{{baseColor}};">可用优惠券({{couponData.availableTotal}})</div><div class="tab-menu" data-type="2">不可用优惠券({{couponData.disableTotal}})</div></div><div class="coupon-list-content"><div class="coupon-avialeable">            {{if couponData.availableList.length > 0}}            {{each couponData.availableList as row k}}<div class="coupon-item coupon-item-active" data-index="{{k}}" data-id="{{row.id}}" style="background-image:url({{imageHost}}rrx/view/coupon_dialog_bg.png)"><div class="item-main"><div class="item-left"><div class="coupon-name" style="color:#333;">{{row.prizeName}}</div>                        {{if row.effectType == 0}}<div class="coupon-time">无时间限制</div>                        {{else}}<div class="coupon-time">{{row.startTimeFormat}}-{{row.endTimeFormat}}</div>                        {{/if}}</div><div class="item-right"><div class="coupon-price-box" style="color:{{baseColor}};">¥<span class="coupon-price">{{row.price}}</span></div><div>{{if row.useType == 0}}无门槛{{else}}满{{row.usePrice}}可用{{/if}}</div></div></div><svg t="1585359681610" {{if !currentCoupon || currentCoupon.id != row.id}}style="display:none;"{{/if}}  class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2836" xmlns:xlink="http://www.w3.org/1999/xlink" width="60" height="60"><defs><style type="text/css"></style></defs><path d="M484.05916265 6.47303102L1017.52696898 539.94024063V6.47303102H484.05916265z m466.14710873 99.25235008L828.95705133 224.37827472c-6.69638594 6.55376998-17.55310004 6.55376998-24.25008269 0L731.95851071 153.18665789c-6.69698265-6.55376998-6.69698265-17.17776349 0-23.73034004 6.69638594-6.55317326 17.55310004-6.55317326 24.2500827 0L816.83230835 188.78276468l109.12388033-106.78772361c6.69698265-6.55376998 17.55369676-6.55376998 24.25008269-1e-8 6.69638594 6.55257653 6.69638594 17.17716677 0 23.73034004z" p-id="2837" fill="{{baseColor}}"></path></svg></div>            {{/each}}            {{else}}<div class="no-data">暂无优惠券记录</div>            {{/if}}</div><div class="coupon-disable" style="display: none;">            {{if couponData.disableList.length > 0}}            {{each couponData.disableList as row k}}<div class="coupon-item" style="background-image:url({{imageHost}}rrx/view/coupon_dialog_bg.png)"><div class="item-main" {{if row.errorState == 4}}style="opacity: 0.4;"{{/if}}><div class="item-left"><div class="coupon-name" style="color:#999;">{{row.prizeName}}</div>                        {{if row.effectType == 0}}<div class="coupon-time">无时间限制</div>                        {{else}}<div class="coupon-time">{{row.startTimeFormat}}-{{row.endTimeFormat}}</div>                        {{/if}}</div><div class="item-right"><div class="coupon-price-box">¥<span class="coupon-price">{{row.price}}</span></div><div>{{if row.useType == 0}}无门槛{{else}}满{{row.usePrice}}可用{{/if}}</div></div></div>                {{if row.errorState != \'4\'}}<div class="item-error-tip"><span class="tips-title" style="color:{{baseColor}};">本单不可用原因:</span><span>{{if row.errorState == 1}}已使用{{else if row.errorState == 2}}满{{row.usePrice}}可用{{else if row.errorState == 3}}未到使用时间{{/if}}</span></div>                {{/if}}                {{if row.errorState == 4}}<div class="coupon-fail-icon"><img src="{{imageHost}}/rrx/view/coupon_fail_icon.png"></div>                {{/if}}</div>            {{/each}}            {{else}}<div class="no-data">暂无优惠券记录</div>            {{/if}}</div></div></div>\n',l=null,m=null,n=null,o=null,p=[],q=0,r={
wsiteGuid:c.wsiteGuid,wxOpenId:c.wxOpenId,price:c.prizePrice},s=a.getInteractServiceHost();$.ajax({url:s+"/generalCoupon/GetMyCouponList",type:"GET",data:r,dataType:"json",xhrFields:{withCredentials:!0}}).then(function(r){if(0===parseInt(r.result)&&r.data){var s={baseColor:b,couponData:r.data,imageHost:a.getImageHost(),currentCoupon:c.coupon};p=r.data.availableList,q=r.data.availableTotal,o=d(k,s),l=G(a,{content:o},j,e,h),setTimeout(function(){g.find(".rrx-common-dialog .dialog-content .dialog-content-box").css("height","700px"),m=g.find(".rrx-common-dialog .coupon-list-module .tab-menu"),n=g.find(".rrx-common-dialog .coupon-list-module .coupon-item-active"),f()},500)}else i(r.msg)},function(a){});var t="click"}function A(a){return""===a||null===a||"null"===a||"0"===a||0===a||void 0===a||"undefined"===a?!0:!1}function B(a){if(A(a))return!1;if(a.constructor!=String)return a;switch(a.toLowerCase()){case"1":case"true":case"TRUE":case"on":case"yes":case"y":return!0;default:return!1}}function C(a,b,d,e,f,g,h){function i(c){if("submitEvent"==c.event){var d=c.result,e=a.getInteractServiceHost(),g=a.getWsiteGuid(),h=a.weixinStrong.getIdentifyId(),i={wsiteGuid:g,activeGuid:b,identify:h,awardInfo:JSON.stringify(d.awardInfo),smsData:d.smsData,closeCallBack:c.closeCallBack};j(e,h,g,i)}else"giveupEvent"==c.event&&f&&(k.event="closeEvent",k.result=0,f(k))}function j(b,c,d,h){h&&(h.fg=a.getFg());var i={wsiteGuid:h.wsiteGuid,activeGuid:h.activeGuid,identify:h.identify,awardInfo:h.awardInfo,smsData:h.smsData};i=a.appendChannelParams(i),$.post(b+"generalPrize/PresetApply",{form:i},function(i){if(0===i.result)f&&(k.event="okEvent",k.result=0,f(k)),h.closeCallBack&&h.closeCallBack();else{if(4500==i.result){var l=a.getInteractServiceHost();return void m(l,d,c,function(a){a&&a.isVerify?j(b,c,d,h):(k.event="closeEvent",f(k))})}k.result=i.msg,g||D(a,i.msg,e),f&&(k.event="errorEvent",f(k))}})}e=c(e);var k={event:"closeEvent",result:0};y(a,d,e,i,!0,h)}function D(a,b,e,g,h,i){function j(){A.find(".content-info-inner").html(b),A.find(".dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),A.show()}function k(a){A.find(".dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){A.hide(),a&&a()},600)}function l(){D.off().on(B,function(a){k(function(){g&&(C.event="sureEvent",C.result=0,g(C))})}),E.off().on(B,function(a){a.preventDefault(),k(function(){g&&(C.event="closeEvent",C.result=0,g(C))})})}if(e=c(e),"用户不存在，不能发放优惠券"==b)return K(a,{callback:g}),!1;var m=a;if(m.checkIsThirdAppNoLogin()&&(b.indexOf("微信授权失败")>-1||b.indexOf("请在微信里打开")>-1)&&(b=m.getWsiteNoAuthedMsg()),b&&b.indexOf("积分")>-1&&-1===b.indexOf("积分商城")){var n=a.getMyJfConf();n.unit&&(b=b.replace(/积分/g,n.unit))}var o=m.getWsiteCanvas().find(".pt-inner .pt-dialogs"),p=a.getLibHost(),q="rrx-prizeinfo-dialog",r='<div class="'+q+'"></div>',s='<div class="dialog-content" style="{{dialogBorder}}"><div class="content-close"><img class="content-close-img" src="{{closeImage}}"></div><div class="content-info"><div class="content-info-inner" style="color:{{textColor}}"></div></div><div class="content-action btn-border-40" style="{{actionCss}}">{{btn}}</div></div>\n',t="background-color:#fff;border:4px solid  "+e+" ;",u=f(e,.4),v="background-color:"+e+";box-shadow: 2px 12px 1Px "+u+" ;",w=p+"weplus/image/close.png",x=e,y=R.knowBtn;h&&i?(i=a.formatJfCenterUrl(i),y=d(R.changeLinkBtn,{linkUrl:i,linkName:h})):h&&(y=d(R.customerBtn,{linkName:h}));var z=d(s,{dialogBorder:t,closeImage:w,textColor:x,actionCss:v,btn:y}),A=o.find("."+q);0===A.length&&(o.append(r),A=o.find("."+q)),A.html(z);var B="click",C={event:"ticketEvent",result:0},D=A.find(".content-action"),E=A.find(".content-close-img");l(),j()}function E(a,b,g,h){function i(){if(m)try{B.find(".rrx-p-detail-yz-tk-name").css({color:g})}catch(a){console.error(a)}else B.find(".dialog-content-left svg path").css({fill:g}),B.find(".dialog-content-left svg  g path").css({fill:"#fff"}),B.find(".dialog-content-info-text-title").css({color:g}),z&&(B.find(".detail-text")[0].innerText=z);B.find(".prizedetail-dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),B.show()}function j(a){B.find(".prizedetail-dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){B.hide(),a&&a()},600)}function k(){E.off().on(C,function(a){a.preventDefault(),j(function(){h&&(D.event="closeEvent",D.result=0,h(D))})})}function l(){var a=B.find(".dialog-content-info-text-detail");e(a[0])}g=c(g);var m=!1;b.detail&&"object"==$.type(b.detail)&&7==b.detail.ptype&&(m=!0);var n=a,o=n.getWsiteCanvas().find(".pt-inner .pt-dialogs"),p=n.getLibHost(),q="rrx-prizedetail-dialog",r='<div class="'+q+'"></div>',s='<div class="prizedetail-dialog-content"><div class="content-close"><img class="content-close-img" src="{{closeImage}}"></div><div class="dialog-content" style="background-image:url({{bgImage}})"><div class="dialog-content-left">{{winDetail}}</div><div class="dialog-content-right"><div class="dialog-content-info"><img class="dialog-content-info-img" src="{{prizeImage}}"><div class="dialog-content-info-text"><div class="dialog-content-info-text-title">{{prizeName}}</div><div class="dialog-content-info-text-detail"><div class="detail-iScroll" style="position:absolute;overflow:hidden"><div style="display:table;min-height:130px"><div class="detail-text" style="display:table-cell;word-wrap:break-word;word-break:break-all;width:100%;font-size:22px;color:#929292"></div></div></div></div></div></div></div></div></div>\n';f(g,.4);m&&(s='<div class="prizedetail-dialog-content"><div class="content-close"><img class="content-close-img" src="{{closeImage}}"></div><div class="dialog-content" style="height:auto;min-height:200px;background-color:#fff"><div class="rrx-p-detail-yz-tk-name">{{pname}}</div><div class="rrx-p-detail-yz-tk-usebox"><a href="{{url}}" class="rrx-p-detail-yz-tk-usebutton">立即使用</a></div><div class="rrx-p-detail-yz-tk-linebox"><div class="rrx-p-detail-yz-tk-line"></div></div><div class="rrx-p-detail-yz-tk-intro-title">优惠券使用说明</div><div class="rrx-p-detail-yz-tk-intro-desc">{{tkdesc}}</div></div></div>\n');var t=p+"weplus/image/close.png",u=p+"weplus/image/detailBg.png",v=R.winDetail,w=g,x=b.name||"",y=b.image||"http://image3.weplus.me/2016/07/20/1468986497159.png",z=b.detail,A="";A=m?d(s,{closeImage:t,pname:x,url:b.detail.url,tkdesc:b.detail.desc,textColor:w}):d(s,{closeImage:t,bgImage:u,winDetail:v,prizeName:x,prizeImage:y,textColor:w});var B=o.find("."+q);0===B.length&&(o.append(r),B=o.find("."+q)),B.html(A);var C="click",D={event:"closeEvent",result:0},E=B.find(".content-close-img");l(),k(),i()}function F(a,b,f,g){function h(){z.find(".dialog-content-info-text-title").css({color:s}),z.find(".prizedetail-dict-dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),z.show()}function i(a){z.find(".prizedetail-dict-dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){z.hide(),a&&a()},600)}function j(){C.off().on(A,function(a){a.preventDefault(),i(function(){g&&(B.event="closeEvent",B.result=0,g(B))})})}function k(){var a=z.find(".detail-iScroll");e(a[0])}f=c(f);var l=a,m=l.getWsiteCanvas().find(".pt-inner .pt-dialogs"),n=l.getLibHost(),o="rrx-prizedetail-dict-dialog",p='<div class="'+o+'"></div>',q='<div class="prizedetail-dict-dialog-content"><div class="content-close"><img class="content-close-img" src="{{closeImage}}"></div><div class="dialog-content"><div class="dialog-content-container"><div class="dialog-content-info"><img class="dialog-content-info-img" src="{{prizeImage}}"><div class="dialog-content-info-text"><div class="dialog-content-info-text-title">{{prizeName}}</div></div></div>{{if hasDict==1}}<hr style="color:{};">{{/if}}<div class="dialog-dict-container"><div class="dialog-content-info-text-detail"><div class="detail-iScroll"><div class="detail-text">{{if hasDict==1}}<div class="prizeget-dict-container"><ul>{{each dictInfoList as m j}}<li>{{if m.name!=undefined}}<p class="dict-key">{{m.name}}</p>{{/if}} {{if m.value!=undefined }} {{if cheakIsImageType(m.value)}}<p class="dict-value-img"><img src="{{m.value}}"></p>{{else}}<p class="dict-value">{{ m.value}}</p>{{/if}} {{/if}}</li>{{/each}}</ul></div>{{/if}}</div></div></div></div></div></div></div>\n',r=n+"weplus/image/close.png",s=f,t=b.name||"",u=b.image||"http://image3.weplus.me/2016/07/20/1468986497159.png",v=b.detail;if("string"==typeof v&&(v=JSON.parse(v)),v&&v.length>0)for(var w=0;w<v.length;w++)"showqr"==v[w].value&&v.splice(w,1);window.cheakIsImageType=function(a){return!!/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)\??\S*$/.test(a)};var x=v&&v.length>0?1:0,y=d(q,{closeImage:r,prizeName:t,prizeImage:u,textColor:s,hasDict:x,dictInfoList:v,cheakIsImageType:cheakIsImageType}),z=m.find("."+o);0===z.length&&(m.append(p),z=m.find("."+o)),z.html(y);var A="click",B={event:"closeEvent",result:0},C=z.find(".content-close-img");k(),j(),h()}function G(a,b,f,g,h){function i(){q.find(".dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),q.find(".content-close").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),q.show()}function j(a){q.find(".dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),q.find(".content-close").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){q.hide(),a&&a()},600)}function k(){u.off().on(t,function(a){a.preventDefault(),j(function(){g&&g()})})}f=c(f);var l=a.getWsiteCanvas().find(".pt-inner .pt-dialogs"),m=a.getLibHost(),n=m+"weplus/image/close.png",o="rrx-common-dialog",p='<div class="{{basicCss}}"><div class="content-close"><img class="content-close-img" src="{{closeIcon}}"></div><div class="dialog-content bounceInUpAni"><div class="dialog-content-head" style="color:{{baseColor}}">{{name}}</div><div class="dialog-content-box"><div class="scroll-list"><div class="content-list">  {{content}}</div></div></div></div></div>',q=l.find("."+o),r=h||"我的奖品";if(0===q.length){var s=d(p,{closeIcon:n,baseColor:f,basicCss:o,name:r,content:b.content});l.append(s),q=l.find("."+o)}else q.find(".scroll-list .content-list").html(b.content),q.find(".dialog-content-head").html(r);var t="click",u=q.find(".content-close");return k(),i(),e(q.find(".dialog-content-box").get(0)),{closeEvent:j}}function H(a,b){var c=!0,e='<div id="win-alert-plugin-msg-dialog"></div>',f='<div class="info-dialog-box"><div class="info-content">{{title}}</div><div class="info-btn"><a style="{{cancelStyle}}" class="info-btn-cancel" href="javascript:void(0)">不开启</a> {{if isConfirm}} <a class="info-btn-ok" href="javascript:void(0)">开启</a> {{/if}}</div></div>\n',g=d(f,{title:a,isConfirm:void 0===c?!1:c,cancelStyle:c?"color:#808080":"color:#36ADF9"}),h=$("#win-alert-plugin-msg-dialog");0===h.length&&($("#main").find(".pt-inner .pt-dialogs").append(e),h=$("#win-alert-plugin-msg-dialog")),h.html(g),h.show(),h.find(".info-btn-cancel").off().on("click",function(a){a.stopPropagation(),a.preventDefault(),h.hide(),b&&b(!1)}),h.find(".info-btn-ok").off().on("click",function(a){a.stopPropagation(),a.preventDefault(),b&&b(!0),h.hide()})}function I(a,b){return J(a,b,!0)}function J(a,b,c){function e(){p.find(".dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),p.find(".content-close").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),p.show()}function f(a){p.find(".dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),p.find(".content-close").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){p.hide(),a&&a()},600)}function g(){s.off().on(r,function(a){a.preventDefault(),f(function(){m&&m()})})}var h=a.getWsiteCanvas().find(".pt-inner .pt-dialogs"),i=a.getLibHost(),j=i+"weplus/image/close.png",k=a.getImageHost(),l=b.qr;l&&-1===l.indexOf("://")&&(l=k+l);var m=b.callback;(null===m||void 0===m)&&(m=function(){a.showPluginMsgButton()});var n="rrx-plugin-msg-dialog",o='<div  class="rrx-plugin-msg-dialog"><div class="content-close"><img class="content-close-img" src="{{closeIcon}}"></div><div class="dialog-content bounceInUpAni"><div class="dialog-content-head" style="color:{{baseColor}}">开启提醒</div><div class="dialog-content-box"><div class="tips1">关注公众号，活动消息提醒</div><div class="qr-box"><img src="{{qr}}" alt="二维码"></div><div class="tips2">长按识别图中二维码关注</div></div></div></div>',p=h.find("."+n);if(0===p.length){var q=d(o,{closeIcon:j,baseColor:b.color,basicCss:n,qr:l});h.append(q),p=h.find("."+n)}var r="click",s=p.find(".content-close");return g(),c&&e(),{closeEvent:f}}function K(a,b){var c=a.getWsiteGuid(),d=a.getInteractServiceHost(),e=d+"Generalactive/GetUserWechat?wsiteGuid="+c;$.ajax({url:e,type:"GET",dataType:"json",xhrFields:{withCredentials:!0}}).then(function(c){b||(b={}),b.qr=c.data.qr,L(a,b)})}function L(a,b){function c(){o.find(".dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),o.find(".content-close").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),o.show()}function e(a){o.find(".dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),o.find(".content-close").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){o.hide(),a&&a()},600)}function f(){r.off().on(q,function(a){a.preventDefault(),e(function(){l&&l()})})}var g=a.getWsiteCanvas().find(".pt-inner .pt-dialogs"),h=a.getLibHost(),i=h+"weplus/image/close.png",j=a.getImageHost(),k=b.qr;k&&-1===k.indexOf("://")&&(k=j+k);var l=b.callback,m="rrx-plugin-youzan-ticket-focus-dialog",n='<div  class="rrx-plugin-youzan-ticket-focus-dialog"><div class="content-close"><img class="content-close-img" src="{{closeIcon}}"></div><div class="dialog-content bounceInUpAni"><div class="dialog-content-head" style="color:{{baseColor}}">关注公众号</div><div class="dialog-content-box"><div class="tips1">依据商家活动规则<br>领取优惠券需要成为公众号粉丝</div><div class="qr-box"><img src="{{qr}}" alt="二维码"></div><div class="tips2">长按识别图中二维码关注</div></div></div></div>',o=g.find("."+m);if(0===o.length){var p=d(n,{closeIcon:i,baseColor:b.color,basicCss:m,qr:k});g.append(p),o=g.find("."+m)}var q="click",r=o.find(".content-close");return f(),c(),{closeEvent:e}}function M(a,b,e,g){function h(){var a=O();k=b.success?"":k.replace("积分",a),z.find(".content-info-title").html(k),z.find(".content-info-need-points-text").html("参与活动所需"+a+"："),z.find(".content-info-need-points-val").html(b.consumePoints),z.find(".content-info-my-points-text").html("剩余"+a+"："),z.find(".content-info-my-points-val").html(b.points),x?z.find(".getmore-button").css({display:"inline-block"}):z.find(".getmore-button").hide(),z.find(".dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),z.show()}function i(a){z.find(".dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){z.hide(),a&&a()},600)}function j(){C.off().on(A,function(a){i(function(){g&&(B.event="sureEvent",B.result=0,g(B))})}),D.off().on(A,function(a){a.preventDefault(),i(function(){g&&(B.event="closeEvent",B.result=0,g(B))})})}if(null!==b&&void 0!==b){var k=b.msg;e=c(e);var l=a.getWsiteCanvas().find(".pt-inner .pt-dialogs"),m=a.getLibHost(),n="rrx-mypoints-dialog",o='<div class="'+n+'"></div>',p='<div class="dialog-content" style="{{dialogBorder}}"> <div class="content-close"><img class="content-close-img" src="{{closeImage}}"></div> <div class="content-info"> <div class="content-info-title" style="color:{{textColor}}"></div> <div class="content-info-need-points-box"> <span class="content-info-need-points-text"></span> <span class="content-info-need-points-val" style="color:{{textColor}}"></span> </div> <div class="content-info-my-points-box"> <span class="content-info-my-points-text"></span> <span class="content-info-my-points-val" style="color:{{textColor}}"></span> </div> </div> <div class="content-footer"> <div class="content-action getmore-button" style="{{actionCss}}"> <a href="{{getmoreLink}}" target="_blank" style="color: #fff;text-decoration: none;">{{getmoreText}}</a> </div> <div class="content-action ok-button" style="{{actionCss}}"> <a href="javascript:void(0)" target="_blank" style="color: #fff;text-decoration: none;">知道了</a> </div> </div> </div>\n',q="background-color:#fff;border:4px solid  "+e+" ;",r=f(e,.4),s="background-color:"+e+";box-shadow: 2px 12px 1Px "+r+" ;",t=m+"weplus/image/close.png",u=e,v="",w="",x=!1;window.myPoints.earnPointsUrl&&(x=!0,w=a.joinEarnPointsUrl(window.myPoints.earnPointsUrl),v=window.myPoints.earnPointsButtonText);var y=d(p,{dialogBorder:q,closeImage:t,textColor:u,actionCss:s,getmoreText:v,getmoreLink:w}),z=l.find("."+n);0===z.length&&(l.append(o),z=l.find("."+n)),z.html(y);var A="click",B={event:"ticketEvent",result:0},C=z.find(".ok-button"),D=z.find(".content-close-img");j(),h()}}function N(a,b,e,g){function h(){var a='参与本次活动需要消耗<span style="color:'+e+';">'+b.points+"</span>"+w+"，确定参与？";y.find(".content-info-title").html(a),y.find(".dialog-content").removeClass("bounceOutUpAni").addClass("bounceInUpAni"),y.show()}function i(a){y.find(".dialog-content").removeClass("bounceInUpAni").addClass("bounceOutUpAni"),setTimeout(function(){y.hide(),a&&a()},600)}function j(){g&&g(!0)}function k(){g&&g(!1)}function l(){A.off().on(z,function(a){i(j)}),B.off().on(z,function(a){a.preventDefault(),i(k)}),C.off().on(z,function(a){a.preventDefault(),i(k)})}e=c(e),b.color=e;var m=a.getWsiteCanvas().find(".pt-inner .pt-dialogs"),n=a.getLibHost(),o="rrx-mypoints-consume-confirm-dialog",p='<div class="'+o+'"></div>',q='<div class="dialog-content" style="{{dialogBorder}}"> <div class="content-close"><img class="content-close-img" src="{{closeImage}}"></div> <div class="content-info"> <div class="content-info-title" ></div> </div> <div class="content-footer"> <div class="content-action cancel-button" style="{{actionCss}}"> <span style="color: #fff;text-decoration: none;">{{cancelText}}</span> </div> <div class="content-action ok-button" style="{{actionCss}}"> <span style="color: #fff;text-decoration: none;">{{okText}}</span> </div> </div> </div>\n',r="background-color:#fff;border:4px solid  "+e+" ;",s=f(e,.4),t="background-color:"+e+";box-shadow: 2px 12px 1Px "+s+" ;",u=n+"weplus/image/close.png",v=e,w=O(),x=d(q,{dialogBorder:r,closeImage:u,textColor:v,actionCss:t,cancelText:"取消",okText:"参与"}),y=m.find("."+o);0===y.length&&(m.append(p),y=m.find("."+o)),y.html(x);var z="click",A=y.find(".ok-button"),B=y.find(".content-close-img"),C=y.find(".cancel-button");l(),h()}function O(){var a="积分";return window.myPoints&&window.myPoints.unit&&(a=window.myPoints.unit),a}function P(){if(null===S)S=(new Date).getTime();else{var a=(new Date).getTime();if(500>a-S)return S=a,!1;S=a}return!0}function Q(a,b,c,d){if(a){a.off(b).on(b,function(a){a.stopPropagation(),a.preventDefault(),d===!0?c(a):P()&&c(a)})}}a.wxInputFocusEvent=function(a){var c=navigator.userAgent.toLowerCase();c.indexOf("iphone")>-1&&a.off("blur").on("blur",function(){var a=b();console.log("blur-event",a),window.scroll(0,a)})},a.initWinAlert=j,a.winAlert=i,a.backGGAlert=k,a.verifyAlert=l,a.verifyLotteryAlert=m,a.verifyActiveAlert=n,a.showRRXProcess=q,a.hideRRXProcess=r,a.showRRXTips=s,a.hideRRXTips=t,a.showRRXAfterOnlineDialog=u,a.showRRXWxPuplicDialog=v,a.showRRXWinPrizeDialog=w,a.showRRXNoPrizeDialog=x,a.showRRXGetPrizeDialog=y,a.showRRXPresetFormDialog=C,a.showRRXPrizeInfoDialog=D,a.showRRXPrizeDetailDialog=E,a.showRRXPrizeDetailDictDialog=F,a.showRRXPrizeParseDictDialog=function(a){return a},a.showRRXCommonDialog=G,a.showRRxPluginMsgDialog=I,a.createRRxPluginMsgDialog=J,a.showAlertPluginMsg=H,a.showFocusYouZanDialog=K,a.showMyPointsDialog=M,a.showConsumePointsConfirm=N,a.showCouponListDialog=z,a.fnColorThin=f,a.compileHtml=d;var R={customerBtn:'<a href="javascript:void(0)" style="color: #fff;font-weight: bold;font-size: 44px;text-decoration: none;">{{linkName}}</a>',changeLinkBtn:'<a href="{{linkUrl}}" target="_blank" style="color: #fff;font-weight: bold;font-size: 44px;text-decoration: none;">{{linkName}}</a>',knowBtn:'<svg style="margin-top: -8px" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"          width="200px" height="100px" viewBox="0 0 200 100" enable-background="new 0 0 200 100" xml:space="preserve">            <g>             <path fill="#fff" d="M62.678,28.861h-8.073c-1.567,0-2.93,0.542-4.087,1.625c-1.159,1.151-1.721,2.522-1.686,4.113v13.863              c-0.715-0.711-1.516-1.082-2.402-1.117H40.4v-9.597h4.599c0.851,0,1.55-0.287,2.095-0.863c0.544-0.541,0.817-1.235,0.817-2.082              c0-0.846-0.273-1.557-0.817-2.133c-0.511-0.508-1.209-0.762-2.095-0.762H33.094c0.205-0.846,0.426-1.727,0.665-2.641                c0.204-0.947,0.084-1.794-0.358-2.539c-0.443-0.609-1.073-1.016-1.891-1.219c-0.852-0.102-1.583,0.051-2.197,0.457              c-0.647,0.44-1.091,1.151-1.329,2.133c-0.817,4.773-2.674,9.107-5.569,13c-0.613,0.745-0.869,1.541-0.767,2.387             c0.034,0.711,0.392,1.354,1.073,1.93c0.646,0.44,1.362,0.66,2.146,0.66c1.737-0.305,3.73-2.877,5.978-7.719             c0.034-0.203,0.119-0.406,0.255-0.609h3.424v9.597H24.356c-0.919,0-1.635,0.271-2.146,0.813c-0.545,0.543-0.818,1.236-0.818,2.082               c0,0.848,0.272,1.559,0.818,2.133c0.511,0.543,1.226,0.813,2.146,0.813h10.117c-0.613,6.602-3.832,11.512-9.657,14.727              c-0.75,0.44-1.448,0.796-2.095,1.066c-0.954,0.406-1.602,0.999-1.942,1.777c-0.238,0.744-0.222,1.507,0.051,2.285               c0.409,0.813,0.971,1.354,1.686,1.625c0.954,0.338,2.725-0.135,5.314-1.422c3.883-2.336,7.034-5.603,9.453-9.801                c0-0.033,0.034-0.084,0.102-0.152c1.635,2.066,3.048,3.961,4.241,5.688c0.613,0.947,1.294,1.455,2.044,1.523                c0.749,0.102,1.481-0.068,2.197-0.508c0.715-0.508,1.124-1.134,1.227-1.879c0.034-0.947-0.171-1.744-0.613-2.387                c-1.874-2.268-4.19-4.891-6.949-7.871c0.306-1.252,0.562-2.809,0.766-4.672h6.131c1.022,0,1.822-0.422,2.402-1.27v15.082                c-0.035,1.523,0.562,2.877,1.788,4.063c1.124,1.05,2.453,1.592,3.985,1.625h8.073c1.566,0,2.929-0.575,4.087-1.727              c1.056-1.117,1.601-2.438,1.635-3.961V34.599c-0.034-1.523-0.528-2.844-1.482-3.961C65.795,29.419,64.381,28.828,62.678,28.861z             M62.525,64.661c-0.034,0.609-0.239,1.117-0.613,1.523c-0.409,0.439-0.937,0.66-1.584,0.66h-3.321c-0.648,0-1.193-0.221-1.635-0.66               c-0.443-0.439-0.664-0.947-0.664-1.523V37.037c0-0.541,0.221-1.066,0.664-1.574c0.442-0.541,0.987-0.795,1.635-0.762h3.321              c0.613,0,1.141,0.237,1.584,0.711c0.409,0.44,0.613,0.982,0.613,1.625V64.661z M94.174,36.833h11.292               c-0.205,0.644-0.46,1.405-0.767,2.285h-6.233c-1.057,0-1.993,0.39-2.811,1.168c-0.75,0.813-1.124,1.744-1.124,2.793v19.195              c-0.034,1.152,0.357,2.252,1.175,3.301c0.646,0.847,1.566,1.287,2.76,1.32h20.795c1.158,0,2.214-0.457,3.168-1.371              c0.954-0.947,1.448-2.031,1.482-3.25V43.08c-0.034-1.117-0.443-2.031-1.227-2.742c-0.92-0.846-2.062-1.252-3.424-1.219h-8.328               c0.238-0.813,0.46-1.574,0.664-2.285h12.212c0.852,0,1.533-0.287,2.044-0.863c0.511-0.541,0.767-1.201,0.767-1.98               c0-0.846-0.256-1.54-0.767-2.082c-0.511-0.439-1.192-0.677-2.044-0.711h-3.883c0.919-1.93,1.191-3.334,0.817-4.215              c-0.307-0.744-0.869-1.252-1.687-1.523c-0.852-0.305-1.602-0.305-2.248,0c-0.75,0.339-1.295,0.982-1.635,1.93               c-0.341,1.016-0.988,2.285-1.942,3.809h-8.072c-1.567-3.588-3.015-5.518-4.344-5.789c-0.749-0.135-1.481,0.034-2.196,0.508              c-0.75,0.44-1.193,1.05-1.329,1.828c-0.137,0.813,0.068,1.625,0.613,2.438c0.204,0.237,0.409,0.576,0.613,1.016h-4.343              c-0.853,0-1.551,0.271-2.095,0.813c-0.511,0.542-0.767,1.202-0.767,1.98c0,0.847,0.255,1.541,0.767,2.082               C92.589,36.58,93.287,36.833,94.174,36.833z M118.035,60.192c-0.034,0.238-0.137,0.475-0.307,0.711             c-0.204,0.238-0.46,0.355-0.767,0.355H101.48c-0.307,0-0.563-0.117-0.767-0.355c-0.205-0.236-0.307-0.473-0.307-0.711v-1.016                h17.628V60.192z M118.035,53.946h-17.628v-2.285h17.628V53.946z M116.962,44.755c0.238,0,0.493,0.119,0.767,0.355               c0.204,0.237,0.307,0.491,0.307,0.762v0.558h-17.628v-0.558c-0.034-0.305,0.067-0.575,0.307-0.813              c0.204-0.203,0.46-0.305,0.767-0.305H116.962z M79.713,33.482c1.431,0.745,3.15,1.98,5.161,3.707               c0.817,0.711,1.652,1.066,2.504,1.066c0.749-0.033,1.447-0.389,2.095-1.066c0.544-0.711,0.8-1.473,0.766-2.285              c-0.034-0.813-0.443-1.557-1.226-2.234c-2.283-1.963-4.394-3.47-6.336-4.52c-0.919-0.508-1.771-0.643-2.555-0.406               c-0.75,0.203-1.346,0.694-1.788,1.473c-0.443,0.813-0.562,1.592-0.358,2.336C78.214,32.297,78.794,32.941,79.713,33.482z                M120.794,68.114c-13.591,0.305-20.626,0.439-21.103,0.406c-5.041-0.609-7.971-2.91-8.788-6.906V45.873              c-0.034-1.455-0.478-2.641-1.329-3.555c-0.919-1.016-2.18-1.506-3.781-1.473h-5.11c-0.954,0-1.755,0.271-2.401,0.813                c-0.511,0.508-0.801,1.202-0.869,2.082c0.034,0.813,0.307,1.507,0.817,2.082c0.613,0.542,1.431,0.83,2.453,0.863h2.197              c0.511,0,0.988,0.188,1.431,0.559c0.34,0.34,0.511,0.797,0.511,1.371v13.965c-0.204,2.168-1.652,4.147-4.343,5.941              c-2.487,1.219-3.339,2.742-2.555,4.57c0.34,0.711,0.869,1.219,1.583,1.523c1.737,0.508,3.883-0.338,6.438-2.539             c1.158-1.016,2.01-2.014,2.555-2.996c0.817,1.456,2.146,2.691,3.985,3.707c2.452,1.219,5.16,1.828,8.124,1.828h23.504               c1.124-0.033,2.026-0.389,2.708-1.066c0.545-0.643,0.817-1.438,0.817-2.387c-0.102-0.947-0.478-1.692-1.124-2.234               C125.802,68.216,123.894,67.944,120.794,68.114z M180.136,29.775c-0.852-0.744-1.976-1.083-3.372-1.016h-32.803             c-1.022,0-1.84,0.288-2.453,0.863c-0.545,0.508-0.852,1.219-0.92,2.133c0.034,0.847,0.307,1.558,0.818,2.133                c0.646,0.609,1.498,0.914,2.555,0.914H169.1c0.545,0,0.817,0.068,0.817,0.203l-11.548,7.313c-1.056,0.644-1.55,1.507-1.481,2.59             c0.136,1.05,0.527,1.947,1.175,2.691c5.417,4.266,7.938,8.871,7.563,13.813c-0.103,0.645-0.307,1.305-0.613,1.98                c-0.613,1.117-1.55,2.049-2.81,2.793c-1.533,0.847-3.117,1.252-4.752,1.219c-1.057-0.102-2.368-0.355-3.935-0.762               c-1.567-0.541-2.896-1.168-3.985-1.879c-0.853-0.541-1.755-0.762-2.708-0.66c-0.75,0.203-1.397,0.66-1.941,1.371                c-0.443,0.846-0.597,1.709-0.46,2.59c0.307,1.523,2.401,3.014,6.284,4.469c5.621,1.828,10.304,1.676,14.052-0.457               c2.69-1.625,4.632-3.47,5.824-5.535c1.84-4.063,1.566-8.684-0.817-13.863c-1.158-2.268-2.572-4.215-4.241-5.84              c-0.238-0.305-0.357-0.66-0.357-1.066c0.034-0.305,0.323-0.626,0.869-0.965l13.54-9.039c1.157-0.947,1.72-2.115,1.687-3.504             C181.226,31.349,180.852,30.52,180.136,29.775z"/>            </g>        </svg>  ',getBtn:'<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"     width="150px" height="100px" viewBox="0 0 150 100" enable-background="new 0 0 150 100" xml:space="preserve"><g>    <path fill="none" d="M45.38,32.559h6.637c-0.035,0.102-0.051,0.238-0.051,0.409c-0.206,1.022-0.429,1.96-0.669,2.813h-2.418        c-1.167,0-2.195,0.443-3.087,1.329c-0.926,0.921-1.389,1.961-1.389,3.119v20.864c0,0.954,0.274,1.722,0.823,2.301       c0.548,0.443,1.251,0.683,2.109,0.716c0.754,0,1.423-0.256,2.007-0.767c0.515-0.545,0.771-1.296,0.771-2.25v-17.54      c-0.034-0.647,0.171-1.176,0.618-1.585c0.342-0.341,0.823-0.512,1.44-0.512h6.638c0.651,0,1.183,0.171,1.595,0.512      c0.445,0.341,0.669,0.92,0.669,1.738v17.387c0,0.954,0.274,1.722,0.823,2.301c0.548,0.443,1.217,0.683,2.007,0.716      c0.857,0,1.577-0.256,2.161-0.767c0.446-0.614,0.686-1.363,0.721-2.25V40.024c0-1.159-0.378-2.113-1.132-2.864      c-0.926-0.92-1.973-1.38-3.139-1.38h-5.042c0.206-1.057,0.429-2.131,0.669-3.222h7.203c0.857,0,1.561-0.29,2.11-0.869       c0.548-0.546,0.823-1.244,0.823-2.097s-0.275-1.568-0.823-2.148c-0.515-0.511-1.218-0.767-2.11-0.767H45.38     c-0.926,0-1.646,0.273-2.161,0.818c-0.549,0.545-0.823,1.244-0.823,2.097s0.274,1.568,0.823,2.147      C43.733,32.286,44.454,32.559,45.38,32.559z M23.976,43.655c0.72-0.716,1.731-1.943,3.036-3.683        c1.474-1.841,3.087-4.175,4.836-7.005c0.137-0.341,0.309-0.528,0.515-0.563c0.206-0.034,0.429-0.018,0.669,0.051L39,38.95       c0.754,0.546,1.509,0.768,2.264,0.665c0.754-0.103,1.423-0.528,2.006-1.278c0.515-0.647,0.721-1.381,0.618-2.199        c-0.035-0.818-0.446-1.5-1.235-2.045l-8.078-7.568c-1.063-0.443-2.093-0.631-3.087-0.563c-1.235,0.103-2.333,1.057-3.293,2.863      c-2.778,4.296-5.574,7.756-8.387,10.381c-0.652,0.647-1.012,1.364-1.08,2.147c-0.035,0.75,0.274,1.467,0.926,2.148      c0.548,0.613,1.252,0.954,2.11,1.022C22.517,44.559,23.255,44.269,23.976,43.655z M35.038,65.593       c3.533-4.705,6.037-8.813,7.512-12.324c0.548-1.363,0.548-2.591,0-3.682c-0.755-1.057-1.852-1.603-3.293-1.637H23.976       c-0.926,0-1.646,0.256-2.161,0.768c-0.549,0.545-0.823,1.261-0.823,2.147c0,0.818,0.274,1.518,0.823,2.097      c0.515,0.546,1.235,0.836,2.161,0.869h10.033c0.548,0,0.96,0.085,1.235,0.256c0.206,0.204,0.24,0.478,0.103,0.818       c-0.241,0.75-2.007,3.238-5.3,7.466c-2.881-1.739-4.871-2.438-5.968-2.097c-0.755,0.238-1.304,0.767-1.647,1.585        c-0.343,0.818-0.411,1.568-0.206,2.25c0.309,0.75,0.926,1.347,1.853,1.79c2.709,1.261,6.071,3.408,10.084,6.443     c0.857,0.646,1.68,0.937,2.47,0.869c0.754-0.034,1.423-0.409,2.007-1.125c0.514-0.751,0.72-1.518,0.617-2.302       C39.154,68.933,37.747,67.535,35.038,65.593z M31.385,38.439c-0.755,0.034-1.424,0.357-2.007,0.971     c-0.549,0.648-0.806,1.33-0.771,2.046c0.034,0.818,0.411,1.534,1.132,2.147c0.445,0.409,1.011,1.023,1.698,1.841        c0.548,0.818,1.217,1.313,2.007,1.483c0.72,0.137,1.44-0.034,2.161-0.512c0.651-0.511,1.063-1.142,1.234-1.892      c0.137-1.534-0.943-3.238-3.241-5.114C32.877,38.764,32.139,38.439,31.385,38.439z M67.916,69.734      c-2.401-1.773-4.563-3.103-6.483-3.988c-0.926-0.409-1.784-0.494-2.573-0.256c-0.72,0.307-1.27,0.835-1.646,1.585       c-0.343,0.818-0.36,1.567-0.051,2.25c0.239,0.75,0.823,1.347,1.749,1.79c1.475,0.647,3.293,1.772,5.454,3.375       c0.823,0.545,1.646,0.801,2.47,0.767c0.754-0.137,1.389-0.546,1.904-1.227c0.515-0.716,0.702-1.45,0.566-2.199      C69.168,71.081,68.705,70.382,67.916,69.734z M58.655,59.456V46.979c0-1.022-0.292-1.841-0.875-2.454       c-0.549-0.512-1.252-0.784-2.109-0.818c-0.858,0.034-1.562,0.324-2.11,0.869c-0.549,0.614-0.823,1.415-0.823,2.403v12.478       c0,2.387-1.149,4.432-3.447,6.137c-1.44,0.954-3.208,1.806-5.299,2.557c-1.029,0.238-1.784,0.732-2.264,1.482       c-0.343,0.647-0.429,1.415-0.257,2.302c0.24,0.852,0.72,1.465,1.441,1.841c0.857,0.545,2.486,0.357,4.888-0.563     c5.866-2.659,9.347-6.273,10.445-10.841C58.449,61.553,58.585,60.581,58.655,59.456z M131.45,69.428        c-2.265-2.489-4.254-4.994-5.969-7.518c3.944-7.67,6.174-17.011,6.688-28.022c-0.24-1.363-0.515-2.744-0.823-4.142      c-0.411-0.647-1.029-1.177-1.853-1.586c-0.857-0.408-1.749-0.563-2.675-0.46h-13.893c-0.926,0-1.646,0.256-2.161,0.768      c-0.103,0.034-0.188,0.119-0.257,0.255c-0.138-0.442-0.344-0.8-0.618-1.073c-0.514-0.512-1.218-0.768-2.109-0.768H86.377        c-0.926,0-1.646,0.273-2.161,0.818c-0.549,0.546-0.823,1.245-0.823,2.097c0,0.853,0.274,1.568,0.823,2.147      c0.515,0.546,1.235,0.818,2.161,0.818h0.772v29.864c-1.956,0-3.276,0.357-3.962,1.073c-0.515,0.648-0.755,1.381-0.721,2.199     c0.034,0.92,0.343,1.653,0.926,2.198c0.549,0.512,1.304,0.75,2.265,0.717c3.808-0.205,8.695-0.734,14.664-1.586     c0.033-0.034,0.103-0.034,0.205,0v4.5c0,0.954,0.274,1.756,0.823,2.403c0.549,0.512,1.252,0.784,2.11,0.818     c0.856-0.034,1.56-0.324,2.109-0.869c0.548-0.613,0.84-1.398,0.874-2.353v-5.42c1.27-0.307,2.401-0.598,3.396-0.869     c1.063-0.308,1.715-0.801,1.955-1.483c0.309-0.75,0.36-1.551,0.154-2.403c-0.24-0.818-0.703-1.414-1.39-1.79        c-0.72-0.409-2.093-0.323-4.116,0.256V32.763h1.338c0.754,0,1.526-0.375,2.315-1.125c0.137,0.341,0.36,0.699,0.669,1.074        c0.515,0.546,1.235,0.836,2.161,0.869h11.731c0.856-0.033,1.457,0.153,1.801,0.563c0.96,1.637,0.36,7.074-1.801,16.313      c-0.927,2.659-1.716,4.704-2.367,6.137c-2.71-5.012-4.494-11.114-5.351-18.308c-0.138-0.954-0.55-1.67-1.235-2.147      c-0.617-0.409-1.32-0.563-2.109-0.46c-0.823,0.204-1.44,0.597-1.853,1.176c-0.446,0.648-0.583,1.449-0.411,2.403        c1.371,7.092,3.172,13.04,5.402,17.847c0.754,1.671,1.544,3.29,2.367,4.858c-1.888,2.761-4.306,5.028-7.255,6.801       c-0.755,0.512-1.235,1.142-1.441,1.893c-0.137,0.749,0.052,1.517,0.566,2.301c0.445,0.716,1.029,1.192,1.749,1.432      c0.754,0.238,1.577,0.052,2.47-0.563c2.573-1.738,4.87-3.938,6.895-6.597c3.088,4.909,5.454,7.415,7.101,7.518      c0.754,0.033,1.509-0.223,2.265-0.768c0.548-0.613,0.891-1.313,1.028-2.097C132.479,71.029,132.136,70.211,131.45,69.428z        M100.526,61.093c-0.926,0.102-1.887,0.222-2.881,0.357c-1.578,0.205-3.105,0.409-4.579,0.614v-6.495h7.46V61.093z M100.526,49.894      h-7.46v-5.574h7.46V49.894z M100.526,38.644h-7.46v-5.881h7.46V38.644z"/></g></svg>',
challengeBtn:'<svg style="margin-top: -10px" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"            width="220px" height="100px" viewBox="0 0 220 100" enable-background="new 0 0 220 100" xml:space="preserve">            <g>             <path fill="#fff" d="M55.442,48.718c0.786,0,1.415-0.266,1.887-0.797c0.472-0.5,0.708-1.109,0.708-1.828               c0-0.781-0.236-1.422-0.708-1.922c-0.472-0.406-1.101-0.625-1.887-0.656H51.15c0.22-0.938,0.472-1.922,0.754-2.953              c0.189-0.938,0.346-1.719,0.472-2.344h1.368c0.786,0,1.415-0.266,1.887-0.797c0.472-0.5,0.708-1.109,0.708-1.828                c0-0.781-0.236-1.422-0.708-1.922c-0.472-0.406-1.101-0.625-1.887-0.656h-8.348c-0.377-2.375-0.959-3.813-1.745-4.313               c-0.597-0.375-1.29-0.469-2.075-0.281c-0.786,0.219-1.368,0.625-1.745,1.219c-0.314,0.594-0.299,1.719,0.047,3.375h-8.396               c-0.786,0-1.431,0.25-1.934,0.75c-0.472,0.5-0.708,1.109-0.708,1.828c0,0.781,0.236,1.422,0.708,1.922              c0.472,0.469,1.116,0.703,1.934,0.703h1.085c0.597,2.25,1.021,4.016,1.273,5.297h-3.679c-0.787,0-1.431,0.25-1.934,0.75             c-0.471,0.5-0.708,1.109-0.708,1.828c0,0.781,0.236,1.422,0.708,1.922c0.472,0.469,1.116,0.703,1.934,0.703h8.631               c-0.472,0.844-1.258,2.109-2.358,3.797h-6.462c-0.314,0-0.55,0.031-0.708,0.094c0.095-0.594,0-1.188-0.283-1.781                c-0.315-0.688-0.802-1.141-1.462-1.359c-0.598-0.219-1.305-0.172-2.122,0.141c-0.598,0.281-1.368,0.594-2.311,0.938v-7.734h3.301                c0.786,0,1.431-0.266,1.934-0.797c0.503-0.5,0.755-1.141,0.755-1.922s-0.252-1.438-0.755-1.969             c-0.471-0.469-1.116-0.703-1.934-0.703h-3.301v-6.328c0-0.938-0.268-1.688-0.802-2.25c-0.503-0.469-1.148-0.719-1.934-0.75              c-0.786,0.031-1.431,0.297-1.934,0.797c-0.503,0.563-0.755,1.297-0.755,2.203v6.328h-3.349c-0.849,0-1.509,0.25-1.981,0.75              c-0.503,0.5-0.754,1.141-0.754,1.922s0.251,1.438,0.754,1.969c0.472,0.5,1.132,0.75,1.981,0.75h3.349v9.328             c-1.509,0.406-2.877,0.75-4.103,1.031c-0.787,0.125-1.384,0.516-1.792,1.172c-0.377,0.594-0.488,1.266-0.33,2.016               c0.125,0.781,0.502,1.375,1.132,1.781c0.566,0.375,1.257,0.484,2.075,0.328c0.88-0.188,1.887-0.422,3.019-0.703v8.344               c0.031,0.78-0.158,1.374-0.566,1.781c-0.409,0.281-1.116,0.437-2.122,0.469c-1.887-0.281-3.035,0.422-3.443,2.109               c-0.094,0.75,0.047,1.421,0.424,2.016c0.409,0.593,1.085,0.984,2.028,1.172c2.924,0.375,5.015,0.141,6.273-0.703                c1.887-1.219,2.83-3.032,2.83-5.438V56.218c1.634-0.5,3.049-1,4.245-1.5c0,0.969,0.236,1.734,0.708,2.297               c0.472,0.469,1.116,0.703,1.934,0.703h1.934c-1.887,1.875-2.705,3.578-2.453,5.109c0.314,1.5,1.383,2.531,3.207,3.094l4.198,1.547               c-1.918,0.499-4.15,0.874-6.697,1.125c-0.881,0-1.62,0.265-2.217,0.797c-0.503,0.469-0.802,1.108-0.896,1.922               c0.031,0.78,0.283,1.453,0.754,2.016c0.566,0.499,1.336,0.78,2.311,0.844c5.283-0.656,9.92-2.032,13.914-4.125l9.669,3.469              c0.88,0.312,1.682,0.328,2.405,0.047c0.597-0.313,1.053-0.813,1.368-1.5c0.219-0.782,0.188-1.485-0.095-2.109               c-0.314-0.656-0.896-1.142-1.745-1.453l-6.792-2.25c2.578-2.719,4.323-5.563,5.235-8.531h1.368c0.786,0,1.415-0.266,1.887-0.797             c0.472-0.5,0.708-1.109,0.708-1.828c0-0.781-0.236-1.422-0.708-1.922c-0.472-0.406-1.101-0.625-1.887-0.656H42.661              c0.88-1.406,1.619-2.672,2.217-3.797H55.442z M48.368,57.718c-0.315,0.844-0.692,1.641-1.132,2.391             c-1.038,1.688-2.217,3.063-3.538,4.125c-0.126,0.031-0.236,0.109-0.33,0.234l-6.933-2.344c-0.472-0.188-0.739-0.453-0.802-0.797             c-0.032-0.313,0.125-0.625,0.471-0.938c0.88-0.875,1.761-1.766,2.642-2.672H48.368z M39.312,43.515             c-0.315-2.094-0.724-3.859-1.226-5.297H47c-0.189,1.406-0.645,3.172-1.368,5.297H39.312z M104.551,42.624               c-0.85-0.406-1.73-0.641-2.642-0.703h-2.358c1.321-3.219,1.714-5.313,1.179-6.281c-0.22-0.406-0.55-0.734-0.99-0.984                c2.453-0.469,3.835-1.031,4.151-1.688c0.313-0.656,0.408-1.391,0.282-2.203c-0.188-0.75-0.565-1.328-1.132-1.734                c-0.566-0.375-1.305-0.484-2.216-0.328c-6.98,1.438-17.703,2.109-32.167,2.016c-0.849-0.031-1.541,0.219-2.076,0.75             c-0.503,0.5-0.771,1.156-0.802,1.969c-0.032,0.844,0.205,1.516,0.708,2.016c0.472,0.563,1.839,0.844,4.104,0.844                c-0.314,0.313-0.519,0.688-0.613,1.125c-0.126,0.75,0.047,1.5,0.519,2.25c0.377,0.563,0.754,1.313,1.132,2.25h-2.453                c-1.258-0.094-2.421,0.391-3.49,1.453c-1.069,1.063-1.557,2.234-1.462,3.516v5.016c0,0.875,0.251,1.594,0.754,2.156             c0.472,0.469,1.116,0.734,1.934,0.797c0.754-0.031,1.398-0.281,1.934-0.75c0.502-0.563,0.77-1.297,0.802-2.203V49.14                c-0.032-0.469,0.142-0.906,0.519-1.313c0.408-0.375,0.849-0.547,1.32-0.516h27.969c0.755-0.031,1.257,0.328,1.509,1.078             c0.189,0.5,0.157,1.547-0.094,3.141c-0.503,1.813,0.094,3,1.792,3.563c0.754,0.188,1.445,0.125,2.075-0.188             c0.66-0.375,1.115-1.016,1.367-1.922c0.943-3.5,0.975-6.25,0.095-8.25C105.824,43.952,105.273,43.249,104.551,42.624z               M77.383,41.921c-0.188-1.406-0.975-3.156-2.358-5.25c-0.126-0.188-0.236-0.313-0.33-0.375c2.389-0.094,5.015-0.188,7.876-0.281              c-0.315,0.219-0.551,0.531-0.708,0.938c-0.221,0.688-0.173,1.469,0.142,2.344c0.283,0.594,0.534,1.469,0.754,2.625H77.383z              M95.636,36.53c-0.377,1.438-1.085,3.234-2.123,5.391h-5.188c0-2.188-0.629-4.078-1.887-5.672               c-0.126-0.188-0.252-0.313-0.377-0.375c0.849-0.094,1.745-0.156,2.688-0.188c2.767-0.125,5.298-0.313,7.594-0.563               C96.029,35.437,95.793,35.905,95.636,36.53z M102.381,68.499c-4.654-1.157-8.6-2.47-11.838-3.938               c3.49-2.719,6.226-5.844,8.207-9.375c0.566-1.063,0.755-1.984,0.566-2.766c-0.126-0.875-0.535-1.625-1.227-2.25             c-0.692-0.594-1.62-0.906-2.783-0.938H74.082c-0.849,0-1.509,0.234-1.981,0.703c-0.503,0.5-0.755,1.156-0.755,1.969             c0,0.75,0.251,1.391,0.755,1.922c0.472,0.5,1.132,0.766,1.981,0.797h16.696c0.691,0,1.147,0.125,1.368,0.375                c0.125,0.219,0.125,0.484,0,0.797c-1.541,2.094-3.758,4.125-6.65,6.094c-2.358-1.5-4.843-3.344-7.452-5.531             c-0.692-0.594-1.447-0.859-2.264-0.797c-0.692,0.125-1.29,0.469-1.792,1.031c-0.472,0.656-0.661,1.313-0.566,1.969              c0.095,0.75,0.487,1.406,1.179,1.969c1.823,1.438,3.71,2.813,5.66,4.125c-4.528,1.437-8.348,2.499-11.461,3.188             c-0.849,0.124-1.494,0.469-1.934,1.031c-0.409,0.563-0.582,1.266-0.519,2.109c0.125,0.75,0.472,1.374,1.038,1.875               c0.566,0.469,1.274,0.656,2.123,0.563c5.879-1.313,11.226-3.188,16.036-5.625c6.603,3.469,11.98,5.546,16.13,6.234              c0.502,0,1.021-0.11,1.557-0.328c0.597-0.313,1.038-0.876,1.321-1.688c0.188-0.75,0.125-1.453-0.189-2.109              C103.953,69.217,103.292,68.748,102.381,68.499z M129.746,51.53c0.094-0.688-0.047-1.375-0.425-2.063               c-0.472-0.688-1.021-1.109-1.65-1.266c-0.755-0.125-1.871,0.281-3.349,1.219v-6.797h2.169c0.786,0,1.431-0.266,1.935-0.797              c0.502-0.5,0.754-1.141,0.754-1.922s-0.252-1.438-0.754-1.969c-0.472-0.469-1.117-0.703-1.935-0.703h-2.169v-6.141              c0-0.938-0.268-1.688-0.802-2.25c-0.504-0.469-1.148-0.719-1.934-0.75c-0.787,0.031-1.432,0.297-1.935,0.797                c-0.503,0.563-0.754,1.297-0.754,2.203v6.141h-2.595c-0.849,0-1.509,0.25-1.98,0.75c-0.504,0.5-0.755,1.141-0.755,1.922             s0.251,1.438,0.755,1.969c0.472,0.5,1.132,0.75,1.98,0.75h2.595v9.234c-1.259,0.406-2.5,0.781-3.727,1.125              c-0.786,0.219-1.353,0.656-1.698,1.313c-0.314,0.688-0.33,1.438-0.047,2.25c0.22,0.75,0.676,1.297,1.368,1.641              c0.691,0.313,1.43,0.344,2.217,0.094c0.597-0.219,1.227-0.438,1.887-0.656v8.484c0.03,0.78-0.158,1.374-0.566,1.781             c-0.377,0.281-1.069,0.375-2.075,0.281c-1.887-0.375-3.035,0.296-3.443,2.016c-0.126,0.75-0.016,1.437,0.33,2.063               c0.661,0.968,2.06,1.468,4.198,1.5c1.98,0,3.364-0.267,4.15-0.797c1.887-1.219,2.83-3.032,2.83-5.438V55.468                c1.604-0.75,3.002-1.5,4.197-2.25C129.211,52.749,129.62,52.187,129.746,51.53z M156.536,61.468                c-0.787,0.031-1.432,0.281-1.935,0.75c-0.503,0.594-0.786,1.313-0.849,2.156c-0.031,1.999-0.221,3.124-0.566,3.375              c-0.66,0.281-1.572,0.422-2.735,0.422c-0.503-0.032-0.912-0.188-1.227-0.469c-0.22-0.22-0.346-0.609-0.377-1.172V55.14              c1.981,1.5,3.694,2.875,5.142,4.125c0.754,0.688,1.492,0.969,2.216,0.844c0.691-0.031,1.305-0.344,1.84-0.938               c0.503-0.594,0.707-1.25,0.613-1.969c-0.126-0.875-0.488-1.547-1.085-2.016c-2.39-1.688-5.299-3.625-8.726-5.813v-3.516             c5.69-5.813,8.427-9.75,8.207-11.813c-0.032-0.031-0.048-0.078-0.048-0.141c-0.22-0.656-0.645-1.203-1.272-1.641                c-0.692-0.375-1.385-0.469-2.076-0.281s-1.289,0.672-1.792,1.453c-0.755,1.313-1.761,2.781-3.019,4.406v-6.75               c0-0.938-0.268-1.688-0.802-2.25c-0.503-0.469-1.148-0.719-1.934-0.75c-0.786,0.031-1.432,0.297-1.934,0.797                c-0.504,0.563-0.755,1.297-0.755,2.203v37.594c0,1.249,0.393,2.344,1.179,3.281c0.975,0.968,2.279,1.5,3.915,1.594              c2.012,0.094,3.915,0.094,5.707,0c1.446-0.032,2.516-0.501,3.207-1.406c0.755-0.844,1.336-3.392,1.745-7.641                c0.031-0.938-0.205-1.688-0.707-2.25C157.966,61.796,157.321,61.53,156.536,61.468z M138.377,28.28             c-0.786,0.031-1.431,0.297-1.934,0.797c-0.503,0.563-0.755,1.297-0.755,2.203v8.25c-0.943-2.563-1.902-4.781-2.877-6.656                c-0.409-0.781-0.959-1.281-1.65-1.5c-0.66-0.219-1.321-0.141-1.981,0.234c-0.691,0.406-1.132,0.922-1.32,1.547              c-0.188,0.688-0.079,1.422,0.33,2.203c1.163,2.094,2.312,5.063,3.443,8.906c0.283,0.875,0.723,1.5,1.32,1.875               c0.566,0.375,1.227,0.453,1.98,0.234c0.22-0.094,0.473-0.203,0.755-0.328v4.078c-2.641,2.438-5.393,4.359-8.254,5.766               c-0.786,0.469-1.32,1.078-1.604,1.828c-0.126,0.688-0.031,1.391,0.283,2.109c0.472,0.688,1.038,1.125,1.698,1.313               c1.32,0.375,3.726-0.906,7.216-3.844c0.125-0.125,0.299-0.266,0.519-0.422c0,2.438-0.912,4.969-2.735,7.594             c-0.943,1.343-2.06,2.484-3.349,3.422c-0.503,0.375-0.943,0.656-1.32,0.844c-0.85,0.469-1.399,1.078-1.651,1.828                c-0.126,0.687-0.031,1.39,0.283,2.109c0.408,0.687,0.975,1.125,1.698,1.313c0.88,0.281,2.279-0.204,4.197-1.453             c5.313-3.938,8.128-9.875,8.442-17.813V31.28c0-0.938-0.268-1.688-0.802-2.25C139.808,28.562,139.163,28.312,138.377,28.28z             M197.39,34.233c0.975,0.594,2.201,1.547,3.679,2.859c0.691,0.656,1.415,1,2.17,1.031c0.691,0,1.32-0.281,1.887-0.844                c0.566-0.594,0.833-1.266,0.802-2.016c-0.095-1.625-1.997-3.516-5.707-5.672c-0.786-0.469-1.541-0.625-2.264-0.469              c-0.692,0.125-1.243,0.547-1.651,1.266c-0.408,0.688-0.534,1.375-0.377,2.063C196.116,33.14,196.604,33.733,197.39,34.233z              M209.464,60.624c-0.472-0.688-1.054-1.094-1.745-1.219c-0.786-0.125-1.462,0-2.027,0.375c-0.881,0.594-1.321,2.141-1.321,4.641              c-0.22,1.249-0.44,1.922-0.66,2.016c-0.377,0-0.975-0.579-1.792-1.734c-0.504-0.688-0.99-1.406-1.462-2.156             c4.15-5.625,6.367-9.688,6.649-12.188c-0.031-0.281-0.094-0.547-0.188-0.797c-0.282-0.656-0.771-1.141-1.462-1.453              c-0.755-0.313-1.462-0.359-2.122-0.141c-0.598,0.219-1.085,0.719-1.463,1.5c-1.54,3.469-2.829,5.938-3.867,7.406                c-1.037-3.375-1.855-6.859-2.452-10.453l11.696-2.719c0.943-0.188,1.635-0.625,2.075-1.313c0.314-0.594,0.394-1.266,0.236-2.016             c-0.188-0.844-0.598-1.438-1.227-1.781c-0.66-0.406-1.446-0.5-2.358-0.281l-11.083,2.578c-0.315-3.469-0.472-6.703-0.472-9.703              c-0.032-0.594-0.236-1.203-0.613-1.828c-0.409-0.688-1.069-1.031-1.981-1.031c-0.943,0.031-1.65,0.344-2.122,0.938              c-0.504,0.594-0.739,1.281-0.708,2.063c0.031,3.313,0.236,6.906,0.613,10.781l-5.518,1.266c-0.943,0.188-1.636,0.609-2.075,1.266                c-0.315,0.656-0.395,1.406-0.236,2.25c0.188,0.688,0.613,1.266,1.273,1.734c0.597,0.313,1.368,0.359,2.312,0.141l4.999-1.125                c0.88,5.156,2.186,9.844,3.915,14.063c-1.793,2-4.262,4.093-7.405,6.281c-0.692,0.499-1.101,1.108-1.227,1.828              c-0.126,0.687,0.063,1.374,0.566,2.063c0.503,0.687,1.068,1.093,1.698,1.219c1.414,0.188,4.386-1.954,8.914-6.422               c2.735,4.249,5.313,6.39,7.734,6.422c1.163,0,2.044-0.173,2.642-0.516c1.227-0.782,2.106-4.017,2.642-9.703             C209.872,62.03,209.747,61.28,209.464,60.624z M180.316,49.796h-3.396v-7.172h5.943c0.785,0,1.431-0.266,1.934-0.797                c0.503-0.5,0.755-1.141,0.755-1.922s-0.252-1.438-0.755-1.969c-0.472-0.469-1.116-0.703-1.934-0.703h-5.943V31.28               c0-0.844-0.282-1.516-0.849-2.016c-0.503-0.469-1.132-0.703-1.887-0.703c-0.786,0-1.446,0.25-1.98,0.75             c-0.472,0.469-0.708,1.125-0.708,1.969v18.516h-2.877c-1.037-0.031-1.918,0.328-2.641,1.078c-0.692,0.75-1.055,1.625-1.085,2.625                v14.578c-0.032,1.155,0.33,2.203,1.085,3.141c0.597,0.78,1.478,1.187,2.641,1.219h11.697c1.132-0.032,2.122-0.469,2.971-1.313               c0.881-0.876,1.337-1.892,1.368-3.047V53.499c-0.031-1.063-0.409-1.906-1.132-2.531C182.643,50.187,181.573,49.796,180.316,49.796z              M179.231,66.015c0,0.281-0.095,0.516-0.283,0.703s-0.424,0.296-0.707,0.328h-6.934c-0.283,0-0.519-0.11-0.707-0.328             c-0.189-0.22-0.283-0.454-0.283-0.703v-9.797c-0.032-0.281,0.063-0.531,0.283-0.75c0.22-0.188,0.455-0.281,0.707-0.281h6.934                c0.22,0,0.455,0.109,0.707,0.328c0.188,0.219,0.283,0.453,0.283,0.703V66.015z"/>          </g>        </svg>',dot:'<svg version="1.1" style="width: 600px;height: 600px"     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/"   x="0px" y="0px" width="220px" height="100px" viewBox="-53.5 -4.618 220 100" enable-background="new -53.5 -4.618 220 100"    xml:space="preserve"><defs></defs><g>  <g>     <path fill-rule="evenodd" clip-rule="evenodd" fill="#2C7EEE" d="M2.363,16.935C1.058,16.935,0,17.993,0,19.298            c0,1.305,1.058,2.363,2.363,2.363c1.305,0,2.363-1.058,2.363-2.363C4.726,17.993,3.668,16.935,2.363,16.935z M16.935,12.209         c-0.653,0-1.182,0.529-1.182,1.182c0,0.652,0.529,1.181,1.182,1.181c0.652,0,1.181-0.529,1.181-1.181           C18.116,12.738,17.587,12.209,16.935,12.209z M9.846,41.353c-0.87,0-1.575,0.706-1.575,1.576c0,0.87,0.706,1.575,1.575,1.575            c0.87,0,1.576-0.706,1.576-1.575C11.421,42.058,10.716,41.353,9.846,41.353z M105.351,9.452c-0.761,0-1.378,0.617-1.378,1.378           s0.617,1.378,1.378,1.378c0.762,0,1.379-0.617,1.379-1.378S106.112,9.452,105.351,9.452z M38.596,0         c-0.435,0-0.788,0.353-0.788,0.788s0.353,0.788,0.788,0.788c0.435,0,0.788-0.353,0.788-0.788S39.031,0,38.596,0z M30.719,88.613         c-0.87,0-1.575,0.705-1.575,1.575s0.705,1.575,1.575,1.575s1.575-0.705,1.575-1.575S31.589,88.613,30.719,88.613z M103.382,59.863           c-0.979,0-1.772,0.793-1.772,1.772c0,0.979,0.794,1.771,1.772,1.771s1.772-0.793,1.772-1.771           C105.154,60.656,104.36,59.863,103.382,59.863z M114.016,64.195c-0.544,0-0.984,0.44-0.984,0.984s0.44,0.984,0.984,0.984            S115,65.724,115,65.18S114.56,64.195,114.016,64.195z M8.074,59.469c-0.327,0-0.591,0.265-0.591,0.591s0.264,0.591,0.591,0.591          c0.326,0,0.591-0.265,0.591-0.591S8.4,59.469,8.074,59.469z M93.93,89.4c-0.326,0-0.591,0.265-0.591,0.591          s0.265,0.591,0.591,0.591s0.591-0.265,0.591-0.591S94.256,89.4,93.93,89.4z"/> </g></g></svg>',cry:'<svg version="1.1"    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/"   x="0px" y="0px" width="80px" height="80px" viewBox="-8.98 -16.372 80 80" enable-background="new -8.98 -16.372 80 80"    xml:space="preserve"><defs></defs><g>  <g>     <path fill-rule="evenodd" clip-rule="evenodd" fill="#499BF5" d="M5.554,9.752c2.59,0,4.69-2.184,4.69-4.876           c0-2.693-2.1-4.876-4.69-4.876S0.865,2.183,0.865,4.876C0.865,7.568,2.964,9.752,5.554,9.752z M55.842,9.752            c2.59,0,4.689-2.184,4.689-4.876c0-2.693-2.1-4.876-4.689-4.876s-4.689,2.183-4.689,4.876C51.152,7.568,53.252,9.752,55.842,9.752           z M62.141,47.212c-2.411-15.191-15.398-26.796-31.064-26.796c-15.667,0-28.654,11.604-31.064,26.796c0,0-0.298,2.393,2.112,2.552            c2.526,0,3.01-2.552,3.01-2.552C7.486,34.856,18.2,25.52,31.076,25.52c12.876,0,23.59,9.337,25.942,21.692          c0,0,0.219,2.445,2.381,2.552C62.205,49.977,62.141,47.212,62.141,47.212z"/>  </g></g></svg>',loseTest:'<svg style="width:400px;height:120px" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="800px" height="300px" viewBox="0 0 800 300" enable-background="new 0 0 800 300" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" fill="#247AEB" d="M770.088,169.701c-13.838,0-25.098-11.326-25.098-25.248 c0-13.922,11.26-25.249,25.098-25.249s25.095,11.327,25.095,25.249C795.183,158.375,783.926,169.701,770.088,169.701z"/><path fill-rule="evenodd" clip-rule="evenodd" fill="#247AEB" d="M701.667,169.701c-13.838,0-25.096-11.326-25.096-25.248  c0-13.922,11.258-25.249,25.096-25.249s25.098,11.327,25.098,25.249C726.765,158.375,715.505,169.701,701.667,169.701z"/><path fill-rule="evenodd" clip-rule="evenodd" fill="#247AEB" d="M633.249,169.701c-13.838,0-25.098-11.326-25.098-25.248 c0-13.922,11.26-25.249,25.098-25.249s25.095,11.327,25.095,25.249C658.344,158.375,647.087,169.701,633.249,169.701z"/><path fill="#247AEB" d="M583.045,240.045c-35.102-3.668-62.579-13.041-81.809-27.885c-17.227,15.777-45.092,25.156-82.975,27.904   l-7.603,0.553v-31.313l6.246-0.748c22.17-2.656,38.144-8.613,47.701-17.762h-51.782v-33.484l-2.165,0.725v-41.646l5.571-1.222   c9.039-1.98,17.065-4.319,23.999-6.986c-7.137-3.384-14.283-5.602-21.321-6.61l-6.084-0.873V65.409l7.389,0.312 c10.306,0.435,19.693,1.995,27.984,4.645V59.192h40.891v25.333c6.121-4.479,10.615-11.029,13.635-19.821l1.644-4.788h45.387 l-3.968,7.974h43.644v28.921l-0.635,1.396c-12.69,27.949-34.034,46.892-63.612,56.532v1.579h64.97v34.477h-53.228   c9.295,8.545,25.323,14.508,47.877,17.785l6.071,0.883v31.4L583.045,240.045z M448.197,156.318v-12.187 c-8.464,3.73-17.904,7.341-28.199,10.783l-4.203,1.403H448.197z M489.088,130.575l0.628-0.152c4.064-0.983,7.587-1.946,10.639-2.873 c-1.058-0.243-2.107-0.47-3.15-0.678l-5.695-1.144v-9.782c-0.798,0.142-1.604,0.271-2.421,0.389V130.575z"/><path fill="#247AEB" d="M273.791,241.533v-45.664h-59.916V85.286h59.916V58.466h47.388v26.819h59.916v69.288   c0.552,14.501-2.592,25.415-9.345,32.44c-5.726,5.959-13.778,8.979-23.933,8.979c-1.182,0-2.399-0.041-3.651-0.123h-22.987v45.664   H273.791z M333.579,160.667c1.641,0,2.315-0.335,2.437-0.462c0.008-0.01,0.792-0.882,0.591-4.362l-0.011-0.406v-34.949h-15.416  v40.18H333.579z M273.791,160.667v-40.18h-15.416v40.18H273.791z"/><path fill="#247AEB" d="M71.231,240.084v-55.51c-11.271,20.381-30.207,36.123-56.621,47.004l-9.792,4.031v-34.537l2.972-2.121 c14.699-10.486,23.947-24.592,28.113-42.947H4.818v-35.928h66.413V108.89H14.203V73.688h57.028V59.192h46.667v14.496h56.307v35.202  h-56.307v11.187h66.413v35.928h-31.811c4.16,18.355,13.407,32.457,28.116,42.947l2.974,2.121v34.537l-9.792-4.031   c-25.862-10.652-44.551-25.959-55.9-45.713v54.219H71.231z"/><g>  <g>     <path fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M110.807,101.799h56.307v-21.02h-56.307V66.283H78.322v14.496         H21.293v21.02h57.028v25.369H11.909v21.746h32.485c-3.374,24.167-14.201,42.765-32.485,55.81v20.297            c37.538-15.461,58.709-40.828,63.525-76.106h2.888v84.079h32.485v-84.079h2.165c4.806,35.278,25.988,60.646,63.526,76.106v-20.297           c-18.295-13.045-29.123-31.643-32.485-55.81h33.207v-21.746h-66.413V101.799z M374.004,92.376h-59.916V65.557h-33.206v26.819            h-59.916v96.401h59.916v45.664h33.206v-45.664h30.319c20.687,1.451,30.556-9.898,29.597-34.065V92.376z M280.882,167.758h-29.597            v-54.361h29.597V167.758z M333.579,167.758h-19.491v-54.361h29.598v42.04C344.159,163.658,340.798,167.758,333.579,167.758z          M455.288,156.161h26.709V66.283h-26.709v42.765c-9.634,5.323-22.143,9.671-37.538,13.046v26.095           c14.438-4.826,26.946-9.899,37.538-15.222V156.161z M450.233,78.604c-8.663-3.375-18.769-5.312-30.318-5.798v21.745         c10.107,1.45,20.213,5.074,30.318,10.872V78.604z M523.144,183.705h59.917v-20.297h-64.97v-10.146h-18.046          c39.939-5.798,67.37-25.12,82.293-57.986V74.98h-47.644c0.473-0.962,1.195-2.412,2.165-4.349c0.476-1.45,0.96-2.651,1.444-3.625         h-28.876c-4.814,14.021-13.242,23.443-25.266,28.269v14.497c5.29-0.477,10.107-1.45,14.438-2.899v13.046            c7.218,1.45,14.673,3.624,22.378,6.523c-5.775,3.874-15.646,7.499-29.597,10.873v15.946h-7.942v10.146h-63.524v20.297h58.472            c-8.188,17.395-28.4,28.029-60.637,31.893v17.395c39.939-2.898,67.607-13.047,83.016-30.443            c18.283,16.424,45.952,26.57,83.016,30.443v-17.395C550.574,210.773,530.363,200.137,523.144,183.705z M510.15,102.523          c4.33-1.925,8.179-4.349,11.551-7.248h28.873c-7.218,11.121-13.715,19.333-19.49,24.644v-13.046            C524.824,104.46,517.844,103.01,510.15,102.523z M633.249,126.296c-9.944,0-18.007,8.129-18.007,18.158         c0,10.027,8.063,18.156,18.007,18.156c9.943,0,18.004-8.129,18.004-18.156C651.253,134.425,643.192,126.296,633.249,126.296z             M701.667,126.296c-9.944,0-18.004,8.129-18.004,18.158c0,10.027,8.06,18.156,18.004,18.156c9.943,0,18.007-8.129,18.007-18.156         C719.674,134.425,711.61,126.296,701.667,126.296z M770.088,126.296c-9.944,0-18.007,8.129-18.007,18.158           c0,10.027,8.063,18.156,18.007,18.156c9.943,0,18.004-8.129,18.004-18.156C788.092,134.425,780.031,126.296,770.088,126.296z"/> </g></g></svg>',winTest:'<svg version="1.1" style="width: 320px;height:118px" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="800px" height="300px" viewBox="0 0 800 300" enable-background="new 0 0 800 300" xml:space="preserve"><polygon fill="none" points="706.948,272.125 706.948,181.432 709.815,181.432 705.242,42.813 800,42.813 795.427,181.432     799.108,181.432 799.108,272.125 "/><polygon fill="#247AEB" points="725.562,253.512 725.562,200.045 729.053,200.045 724.479,61.426 780.761,61.426 776.19,200.045     780.496,200.045 780.496,253.512 "/><path fill="#247AEB" d="M500.929,256.771V149.279c-0.144,0.044-0.286,0.088-0.435,0.131c-2.287,1.13-4.305,1.98-6.143,2.584 l-10.477,3.456v-35.479l3.285-2.386c13.955-10.148,23.833-29.089,29.362-56.292l1.295-6.391h49.541l-0.328,1.633h44.87v7.978    c0,0.937-0.094,2.038-0.294,3.438h75.008v62.43h-11.367v2.626c0,28.818,3.976,49.914,11.813,62.695l1.179,1.919v42.055  l-11.919-6.773c-16.595-9.431-28.616-23.315-35.996-41.514v27.238c0.314,11.794-2.717,21.164-9.023,27.637  c-6.279,6.448-15.508,9.718-27.42,9.718c-0.005,0-1.188-0.009-1.791-0.024l-32.135,0.003v-33.729   c-4.685,4.324-9.904,8.146-15.651,11.462l-4.125,2.376v20.704h-49.25V256.771z M590.157,218.802    c0.058-0.438,0.106-1.031,0.106-1.811v-23.455c-4.279,9.644-9.888,18.075-16.804,25.266H590.157z M550.184,180.17   c3.155-11.039,4.871-25.271,5.126-42.574c-1.388,0.488-2.808,0.953-4.251,1.399l-0.875,0.273V180.17z M590.264,125.028v-9.319   c-3.088,3.378-6.567,6.486-10.434,9.319H590.264z"/><path fill="#247AEB" d="M413.31,254.348c-0.577,0-1.164-0.01-1.762-0.025l-141.742,0.003v-49.741h-14.62v-34.708h18.679v-46.832  h-6.498V96.952h-9.745V62.241h73.09V53.27h52.501v8.971h74.71v34.711h-11.367v26.092h-4.872v12.194 c0.627,12.088-2.034,21.364-7.904,27.567c-2.858,3.019-6.38,5.237-10.527,6.641l-0.215,0.43h37.324v34.711h-14.619v14.63    c0.615,11.257-1.982,20.05-7.723,26.134C432.387,251.323,424.073,254.348,413.31,254.348L413.31,254.348z"/><path fill="#247AEB" d="M109.052,255.982c-0.566,0-1.144-0.011-1.725-0.027l-32.104,0.003v-11.414H35.432v-7.979   c0-1.675,0.429-3.395,1.338-5.359c3.97-13.018,7.982-24.95,11.986-35.651c-3.913,0.896-7.969,1.697-12.15,2.396l-9.294,1.555    v-36.109l6.134-1.46c11.618-2.763,21.355-6.993,29.408-12.799H27.312v-38.785h39.795v-4.433H33.812V67.133h33.295V53.27h50.876  v13.863h22.212V53.27h50.063v13.863h33.297v38.786h-33.297v4.433h39.792v38.785h-35.552c8.05,5.806,17.795,10.037,29.418,12.799 l6.131,1.46v36.868l-9.886-2.437c-1.028-0.254-2.223-0.566-3.575-0.932c4.7,12.009,8.841,24.594,12.368,37.577l2.734,10.068h-84.664 l-1.054-6.747c-0.915-5.861-2.127-11.854-3.63-17.959v1.236C142.342,243.255,130.208,255.982,109.052,255.982z M91.321,218.802  c0.41,0,0.74-0.02,1.005-0.045c-0.002-0.075-0.049-0.595-0.049-0.595v-12.435c-1.555,4.671-2.95,9.028-4.183,13.072h3.228V218.802z   M154.523,173.954c-4.318-3.194-8.382-6.761-12.181-10.691v10.691H154.523z M132.256,151.122c-0.47-0.654-0.932-1.316-1.387-1.986   h-4.578c-0.496,0.669-0.993,1.332-1.496,1.986H132.256z M140.191,110.352v-4.433h-22.212v4.433H140.191z"/><g>  <g>     <path fill="#FFFFFF" d="M182.277,97.941h33.298v-22.83h-33.298V61.247h-34.108v13.865h-38.167V61.247H75.079v13.865H41.786v22.83           h33.293v20.387H35.286v22.831h47.102c-10.836,14.142-26.533,23.646-47.102,28.538v20.384c9.746-1.63,18.679-3.796,26.801-6.522          c-5.964,14.142-11.914,30.986-17.865,50.562c-0.545,1.077-0.813,1.896-0.813,2.445h31.673c2.703-12.5,8.385-30.705,17.053-54.636            h-24.36c12.994-3.799,23.817-9.238,32.482-16.31v52.187c0.536,5.993-2.436,8.972-8.932,8.972h-8.12v21.202h24.365           c17.865,0.535,26.8-8.434,26.8-26.907V159.1h-27.614c5.407-4.895,10.559-10.87,15.433-17.94h12.994         c12.994,20.664,30.859,34.245,53.6,40.771h-14.62c7.574,18.489,12.994,36.695,16.24,54.636h30.86           c-4.874-17.94-10.836-34.783-17.866-50.561c2.158,0.551,5.406,1.096,9.745,1.63c3.781,1.097,6.762,1.912,8.933,2.446v-20.384            c-20.582-4.892-36.279-14.396-47.103-28.538h47.103v-22.831h-39.792V97.941H182.277z M148.169,118.328h-38.167V97.941h38.167            V118.328z M138.424,181.93c7.577,19.034,12.716,37.244,15.429,54.636h30.86c-5.419-21.204-11.646-39.407-18.678-54.636H138.424z          M415.028,169.697c0-1.082,0.265-2.164,0.81-3.262h-35.73c-1.626,4.357-2.436,7.619-2.436,9.785            c-0.548,0.547-0.815,1.095-0.815,1.63h-38.982c0-1.083-0.543-2.446-1.623-4.077c-0.545-3.261-1.09-5.704-1.625-7.338h-35.731            c0.532,1.096,0.813,2.176,0.813,3.262c1.625,3.812,2.701,6.523,3.248,8.153h-39.792v18.757h189.222v-18.757h-40.607         C413.403,174.59,414.48,171.878,415.028,169.697z M437.765,203.133H277.78v43.217h133.997c18.4,0.536,27.068-8.434,25.985-26.907            v-16.31H437.765z M395.537,230.043h-83.649v-10.601h91.766v4.077C404.188,227.874,401.491,230.043,395.537,230.043z          M338.692,96.311h-63.345v18.753H438.58V96.311h-63.342v-7.339h74.711V70.216h-74.711v-8.972h-36.546v8.972h-73.09v18.756h73.09         V96.311L338.692,96.311z M281.844,121.59v41.586h126.689c17.866,1.096,26.253-8.151,25.177-27.723v-13.861H281.844V121.59z           M393.102,147.679h-77.965v-10.597h85.271v2.446C400.943,145.517,398.508,148.23,393.102,147.679z M592.554,133.005h-29.236         c0,30.987-4.34,53.283-12.994,66.866v26.907C579.56,209.934,593.632,178.667,592.554,133.005z M592.554,98.757h54.41v23.646         h31.673V75.926h-77.149c0.532-1.631,1.077-3.529,1.622-5.708c0.533-2.713,0.813-4.612,0.813-5.705h-33.295          c-2.169,19.566-9.479,35.061-21.928,46.477v20.386C569.814,124.849,584.435,113.981,592.554,98.757z M639.656,133.005           c-1.622,45.662,11.903,76.65,40.608,92.958v-26.092c-8.669-14.129-12.994-36.414-12.994-66.866H639.656L639.656,133.005z             M598.24,216.991c0,7.071-2.716,10.333-8.122,9.787h-12.184v21.202H602.3c20.569,0.535,30.579-9.252,30.047-29.355V113.434H598.24           V216.991z M524.341,62.877c-5.965,29.356-16.788,49.743-32.487,61.159v20.387c1.622-0.535,3.513-1.35,5.687-2.446           c5.405-1.631,9.2-2.981,11.365-4.077v110.899h33.298V108.547c6.495-11.416,11.637-26.63,15.431-45.664h-33.293V62.877z           M768.458,192.526l4.06-123.125h-39.795l4.062,123.125H768.458z M733.539,245.534h38.979v-37.509h-38.979V245.534z"/>   </g></g></svg>',winDetail:'<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="85px" height="300px" viewBox="0 0 85 300" enable-background="new 0 0 85 300" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" fill="#1CA7FF" d="M85,20.441c-1.104,0-2,0.918-2,2.05c0,1.132,0.896,2.05,2,2.05  v3.05c-1.104,0-2,0.918-2,2.05c0,1.132,0.896,2.05,2,2.05v3.05c-1.104,0-2,0.918-2,2.05s0.896,2.05,2,2.05v3.05 c-1.104,0-2,0.917-2,2.05s0.896,2.05,2,2.05v3.05c-1.104,0-2,0.917-2,2.05s0.896,2.05,2,2.05v3.05c-1.104,0-2,0.918-2,2.05  c0,1.132,0.896,2.05,2,2.05v3.05c-1.104,0-2,0.918-2,2.05c0,1.132,0.896,2.05,2,2.05v3c-1.104,0-2,0.918-2,2.05 c0,1.132,0.896,2.05,2,2.05v3.05c-1.104,0-2,0.918-2,2.05c0,1.132,0.896,2.05,2,2.05v3.05c-1.104,0-2,0.918-2,2.05  s0.896,2.05,2,2.05v3.05c-1.104,0-2,0.917-2,2.05s0.896,2.05,2,2.05v3.05c-1.104,0-2,0.917-2,2.05s0.896,2.05,2,2.05v3.05   c-1.104,0-2,0.918-2,2.05c0,1.132,0.896,2.05,2,2.05v3.05c-1.104,0-2,0.918-2,2.05c0,1.132,0.896,2.05,2,2.05v4 c-1.104,0-2,0.918-2,2.05c0,1.132,0.896,2.05,2,2.05v3.05c-1.104,0-2,0.918-2,2.05c0,1.132,0.896,2.05,2,2.05v3.05  c-1.104,0-2,0.918-2,2.05c0,1.133,0.896,2.051,2,2.051v3.05c-1.104,0-2,0.917-2,2.05s0.896,2.05,2,2.05v3.05    c-1.104,0-2,0.918-2,2.051c0,1.131,0.896,2.049,2,2.049v3.051c-1.104,0-2,0.918-2,2.049c0,1.133,0.896,2.051,2,2.051v3.051  c-1.104,0-2,0.918-2,2.049c0,1.133,0.896,2.051,2,2.051v3c-1.104,0-2,0.918-2,2.049c0,1.133,0.896,2.051,2,2.051v3.051  c-1.104,0-2,0.918-2,2.049c0,1.133,0.896,2.051,2,2.051v3.049c-1.104,0-2,0.918-2,2.051s0.896,2.051,2,2.051v3.049  c-1.104,0-2,0.918-2,2.051c0,1.131,0.896,2.049,2,2.049v3.051c-1.104,0-2,0.918-2,2.051c0,1.131,0.896,2.049,2,2.049v3.051  c-1.104,0-2,0.918-2,2.049c0,1.133,0.896,2.051,2,2.051v3.051c-1.104,0-2,0.916-2,2.049s0.896,2.051,2,2.051v3  c-1.104,0-2,0.918-2,2.049c0,1.133,0.896,2.051,2,2.051v3.051c-1.104,0-2,0.916-2,2.049s0.896,2.051,2,2.051v3.049  c-1.104,0-2,0.918-2,2.051s0.896,2.051,2,2.051v3.049c-1.104,0-2,0.918-2,2.051c0,1.131,0.896,2.049,2,2.049v3.051  c-1.104,0-2,0.918-2,2.051c0,1.131,0.896,2.049,2,2.049v2.391c-2.836,0.477-5,2.938-5,5.91H6.451c-0.765,0-1.495-0.152-2.176-0.418  C4.732,261.27,5,260.387,5,259.441c0-2.762-2.239-5-5-5v-5c2.761,0,5-2.238,5-5s-2.239-5-5-5v-5c2.761,0,5-2.238,5-5s-2.239-5-5-5   v-5c2.761,0,5-2.238,5-5s-2.239-5-5-5v-5c2.761,0,5-2.238,5-5s-2.239-5-5-5v-5c2.761,0,5-2.238,5-5s-2.239-5-5-5v-5 c2.761,0,5-2.238,5-5s-2.239-5-5-5v-5.525c0.332,0.016,0.665,0.025,1,0.025c12.15,0,22-9.85,22-22s-9.85-22-22-22   c-0.335,0-0.668,0.01-1,0.025v-5.525c2.761,0,5-2.239,5-5s-2.239-5-5-5v-5c2.761,0,5-2.239,5-5s-2.239-5-5-5v-5c2.761,0,5-2.239,5-5 s-2.239-5-5-5v-5c2.761,0,5-2.239,5-5s-2.239-5-5-5v-5c2.761,0,5-2.239,5-5s-2.239-5-5-5v-5c2.761,0,5-2.239,5-5s-2.239-5-5-5v-5    c2.761,0,5-2.239,5-5c0-0.946-0.268-1.828-0.725-2.583c0.681-0.265,1.411-0.417,2.176-0.417H80c0,2.972,2.164,5.433,5,5.91V20.441z" /><g>   <g>     <path fill="#FFFFFF" d="M53.565,71.363c-0.717,0-1.641-0.039-2.773-0.117c0.131,0.586,0.229,1.087,0.293,1.504         c1.197,0,2.182-0.006,2.949-0.02c1.445-0.013,2.168-0.723,2.168-2.129v-7.598H45.343v9.902h1.523v-3.535h7.813v0.977            C54.679,71.025,54.308,71.363,53.565,71.363z M46.866,64.254h7.813v1.348h-7.813V64.254z M46.866,68.16v-1.348h7.813v1.348H46.866           z M57.862,60.582h-6.348v-1.348h5.449v-1.23h-5.449v-1.309h5.957v-1.23h-5.957v-1.758h-1.582v1.758h-5.684v1.23h5.684v1.309h-5          v1.23h5v1.348h-6.309v1.23h14.238V60.582z M43.565,57.32c-0.82-0.911-1.764-1.895-2.832-2.949l-1.172,0.996         c0.859,0.898,1.738,1.927,2.637,3.086L43.565,57.32z M40.909,69.332c0,0.716-0.221,1.283-0.664,1.699l0.898,1.289           c0.977-0.755,2.168-1.602,3.574-2.539c-0.052-0.481-0.098-1.048-0.137-1.699c-0.729,0.534-1.458,1.048-2.188,1.543v-9.102h-3.867            v1.426h2.383V69.332z M46.183,95.051c-0.742,0-1.843-0.052-3.301-0.156c0.144,0.586,0.247,1.179,0.313,1.777            c1.458,0.013,2.598,0.02,3.418,0.02c1.615-0.02,2.422-0.82,2.422-2.402v-3.594h8.77v-1.543h-8.77v-3.496h7.09v-1.543h-7.09V80.51            c2.369-0.11,4.701-0.237,6.992-0.381l-0.254-1.602c-4.141,0.365-9.538,0.599-16.191,0.703c0.117,0.521,0.215,1.055,0.293,1.602          c2.545-0.065,5.052-0.146,7.52-0.244v3.525h-7.441v1.543h7.441v3.496h-8.809v1.543h8.809v3.047         C47.394,94.615,46.989,95.051,46.183,95.051z M41.651,110.418v10.469h1.406v-10.313c0.593,0.586,1.289,1.322,2.09,2.207         l1.055-1.074c-0.573-0.573-1.36-1.315-2.363-2.227l-0.781,0.781v-3.242h2.734v-1.328h-2.734v-3.848h-1.406v3.848h-3.047v1.328           h2.92c-0.619,2.513-1.657,4.857-3.115,7.031c0.221,0.56,0.436,1.133,0.645,1.719C40.089,114.409,40.955,112.625,41.651,110.418z          M56.612,114.422c-0.053,1.159-0.143,2.24-0.273,3.242c-0.117,0.729-0.385,1.094-0.801,1.094h-0.449            c-0.455,0-0.684-0.326-0.684-0.977v-14.688H47.14v8.301c0,3.828-1.028,6.647-3.086,8.457c0.403,0.443,0.788,0.885,1.152,1.328           c2.33-2.097,3.496-5.475,3.496-10.137v-6.465h4.141v13.477c0,1.484,0.625,2.227,1.875,2.227h1.035c1.119,0,1.783-0.69,1.992-2.07            c0.117-0.82,0.234-1.875,0.352-3.164C57.563,114.852,57.067,114.644,56.612,114.422z M40.616,136.928v7.979h1.328v-1.094h7.949          v-1.172h-3.516v-1.602h3.301v-1.133h-3.301v-1.602h3.242v-1.133h-3.242v-1.602h3.535v-1.171h-3.418l0.664-0.547         c-0.612-0.651-1.179-1.211-1.699-1.68l-0.918,0.781c0.449,0.43,0.901,0.912,1.357,1.445h-3.613         c0.267-0.443,0.524-0.898,0.771-1.367l-1.25-0.547c-0.898,1.927-2.064,3.62-3.496,5.078c0.313,0.352,0.612,0.717,0.898,1.094            C39.692,138.109,40.161,137.533,40.616,136.928z M41.944,135.57h3.105v1.602h-3.105V135.57z M41.944,138.305h3.105v1.602h-3.105         V138.305z M41.944,141.039h3.105v1.602h-3.105V141.039z M53.839,126.606l-0.859,1.016c1.002,0.768,1.973,1.582,2.91,2.441           l0.996-1.211C56.001,128.149,54.985,127.4,53.839,126.606z M57.921,140.258c-0.416-0.117-0.879-0.293-1.387-0.527           c-0.143,1.172-0.293,2.084-0.449,2.734c-0.117,0.495-0.313,0.742-0.586,0.742c-0.326,0-0.658-0.279-0.996-0.84          c-0.396-0.638-0.746-1.39-1.045-2.256c1.387-1.66,2.516-3.564,3.389-5.712l-1.367-0.586c-0.639,1.745-1.469,3.294-2.49,4.648            c-0.424-1.758-0.689-3.86-0.801-6.308h5.42v-1.289H52.13c-0.059-1.452-0.088-3.099-0.088-4.941h-1.445          c0.045,2.174,0.088,3.822,0.127,4.941h-5.4v-1.816h3.828v-1.25h-3.828v-1.855h-1.367v1.855h-4.141v1.25h4.141v1.816h-5.293v1.289            h12.119c0.137,3.073,0.488,5.628,1.055,7.666c-0.709,0.749-1.494,1.423-2.354,2.021c0.365,0.391,0.684,0.781,0.957,1.172            c0.67-0.521,1.303-1.08,1.895-1.68c0.254,0.645,0.533,1.218,0.84,1.719c0.689,1.25,1.504,1.875,2.441,1.875         c0.807,0,1.367-0.527,1.68-1.582C57.517,142.563,57.726,141.534,57.921,140.258z M53.448,155.039v-1.152h-6.914         c0.279-0.345,0.541-0.696,0.781-1.055l-1.289-0.605c-1.146,1.745-2.61,3.262-4.395,4.551c0.377,0.365,0.697,0.684,0.957,0.957           c0.729-0.566,1.403-1.146,2.021-1.738c0.664,0.82,1.455,1.547,2.373,2.178c-1.491,0.605-3.379,1.143-5.664,1.611            c0.26,0.404,0.482,0.82,0.664,1.25c2.637-0.684,4.752-1.383,6.348-2.1c1.596,0.664,3.549,1.26,5.859,1.787          c0.131-0.391,0.346-0.879,0.645-1.465c-1.992-0.26-3.676-0.621-5.049-1.084C51.271,157.243,52.491,156.198,53.448,155.039z           M48.292,157.559c-1.152-0.625-2.106-1.422-2.861-2.393c0.02-0.02,0.039-0.042,0.059-0.068h6.025           C50.714,156.016,49.64,156.836,48.292,157.559z M43.038,164.336c3.308,0.456,6.4,1.003,9.277,1.641l0.527-1.484         c-3.008-0.572-6.139-1.074-9.395-1.504L43.038,164.336z M45.479,160.43l-0.391,1.309c1.875,0.261,3.881,0.605,6.016,1.035           l0.41-1.367C49.405,161.042,47.394,160.717,45.479,160.43z M56.729,168.965v-18.379H39.503v18.379h1.465v-0.938h14.297v0.938            H56.729z M40.968,166.621v-14.629h14.297v14.629H40.968z M52.491,185.387h5.313v-1.328h-6.445v-2.637h3.281v0.742h1.484v-7.363          H45.226v7.5h1.484v-0.879h3.223v2.637h-6.484v1.328h5.117c-1.445,2.292-3.327,4.076-5.645,5.352            c0.43,0.43,0.794,0.827,1.094,1.191c2.37-1.484,4.342-3.646,5.918-6.484v7.637h1.426v-7.559c1.303,2.526,3.178,4.531,5.625,6.016            c0.248-0.403,0.572-0.885,0.977-1.445C55.513,188.948,53.688,187.379,52.491,185.387z M46.71,180.113v-4.004h7.93v4.004H46.71z           M42.14,192.984v-13.789c0.625-1.497,1.204-3.105,1.738-4.824l-1.445-0.43c-0.963,3.711-2.318,6.869-4.063,9.473            c0.221,0.521,0.423,1.055,0.605,1.602c0.612-0.885,1.198-1.842,1.758-2.871v10.84H42.14z M52.14,208.254            c1.576-1.067,3.027-2.129,4.355-3.184v-1.582H45.206v1.426h9.063c-1.041,0.873-2.252,1.752-3.633,2.637v1.289h-6.738v1.426h6.738            v4.141c0,0.69-0.346,1.035-1.035,1.035c-0.6,0-1.523-0.064-2.773-0.195c0.104,0.561,0.189,1.088,0.254,1.582            c1.186,0.039,2.129,0.059,2.832,0.059c1.484,0,2.227-0.742,2.227-2.227v-4.395h5.762v-1.426H52.14V208.254z M57.765,201.379         v-1.445H45.88c0.222-0.599,0.433-1.211,0.635-1.836l-1.602-0.41c-0.228,0.769-0.476,1.518-0.742,2.246h-5.488v1.445h4.922           c-1.315,3.105-3.06,5.801-5.234,8.086c0.365,0.482,0.677,0.951,0.938,1.406c0.788-0.807,1.53-1.686,2.227-2.637v8.691h1.504         v-10.957c0.833-1.406,1.592-2.936,2.275-4.59H57.765z"/>  </g></g></svg>',
activeBtn:'<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"   width="150px" height="100px" viewBox="0 0 150 100" enable-background="new 0 0 150 100" xml:space="preserve"><g>    <path fill="#fff" d="M45.38,32.559h6.637c-0.035,0.102-0.051,0.238-0.051,0.409c-0.206,1.022-0.429,1.96-0.669,2.813h-2.418        c-1.167,0-2.195,0.443-3.087,1.329c-0.926,0.921-1.389,1.961-1.389,3.119v20.864c0,0.954,0.274,1.722,0.823,2.301       c0.548,0.443,1.251,0.683,2.109,0.716c0.754,0,1.423-0.256,2.007-0.767c0.515-0.545,0.771-1.296,0.771-2.25v-17.54      c-0.034-0.647,0.171-1.176,0.618-1.585c0.342-0.341,0.823-0.512,1.44-0.512h6.638c0.651,0,1.183,0.171,1.595,0.512      c0.445,0.341,0.669,0.92,0.669,1.738v17.387c0,0.954,0.274,1.722,0.823,2.301c0.548,0.443,1.217,0.683,2.007,0.716      c0.857,0,1.577-0.256,2.161-0.767c0.446-0.614,0.686-1.363,0.721-2.25V40.024c0-1.159-0.378-2.113-1.132-2.864      c-0.926-0.92-1.973-1.38-3.139-1.38h-5.042c0.206-1.057,0.429-2.131,0.669-3.222h7.203c0.857,0,1.561-0.29,2.11-0.869       c0.548-0.546,0.823-1.244,0.823-2.097s-0.275-1.568-0.823-2.148c-0.515-0.511-1.218-0.767-2.11-0.767H45.38     c-0.926,0-1.646,0.273-2.161,0.818c-0.549,0.545-0.823,1.244-0.823,2.097s0.274,1.568,0.823,2.147      C43.733,32.286,44.454,32.559,45.38,32.559z M23.976,43.655c0.72-0.716,1.731-1.943,3.036-3.683        c1.474-1.841,3.087-4.175,4.836-7.005c0.137-0.341,0.309-0.528,0.515-0.563c0.206-0.034,0.429-0.018,0.669,0.051L39,38.95       c0.754,0.546,1.509,0.768,2.264,0.665c0.754-0.103,1.423-0.528,2.006-1.278c0.515-0.647,0.721-1.381,0.618-2.199        c-0.035-0.818-0.446-1.5-1.235-2.045l-8.078-7.568c-1.063-0.443-2.093-0.631-3.087-0.563c-1.235,0.103-2.333,1.057-3.293,2.863      c-2.778,4.296-5.574,7.756-8.387,10.381c-0.652,0.647-1.012,1.364-1.08,2.147c-0.035,0.75,0.274,1.467,0.926,2.148      c0.548,0.613,1.252,0.954,2.11,1.022C22.517,44.559,23.255,44.269,23.976,43.655z M35.038,65.593       c3.533-4.705,6.037-8.813,7.512-12.324c0.548-1.363,0.548-2.591,0-3.682c-0.755-1.057-1.852-1.603-3.293-1.637H23.976       c-0.926,0-1.646,0.256-2.161,0.768c-0.549,0.545-0.823,1.261-0.823,2.147c0,0.818,0.274,1.518,0.823,2.097      c0.515,0.546,1.235,0.836,2.161,0.869h10.033c0.548,0,0.96,0.085,1.235,0.256c0.206,0.204,0.24,0.478,0.103,0.818       c-0.241,0.75-2.007,3.238-5.3,7.466c-2.881-1.739-4.871-2.438-5.968-2.097c-0.755,0.238-1.304,0.767-1.647,1.585        c-0.343,0.818-0.411,1.568-0.206,2.25c0.309,0.75,0.926,1.347,1.853,1.79c2.709,1.261,6.071,3.408,10.084,6.443     c0.857,0.646,1.68,0.937,2.47,0.869c0.754-0.034,1.423-0.409,2.007-1.125c0.514-0.751,0.72-1.518,0.617-2.302       C39.154,68.933,37.747,67.535,35.038,65.593z M31.385,38.439c-0.755,0.034-1.424,0.357-2.007,0.971     c-0.549,0.648-0.806,1.33-0.771,2.046c0.034,0.818,0.411,1.534,1.132,2.147c0.445,0.409,1.011,1.023,1.698,1.841        c0.548,0.818,1.217,1.313,2.007,1.483c0.72,0.137,1.44-0.034,2.161-0.512c0.651-0.511,1.063-1.142,1.234-1.892      c0.137-1.534-0.943-3.238-3.241-5.114C32.877,38.764,32.139,38.439,31.385,38.439z M67.916,69.734      c-2.401-1.773-4.563-3.103-6.483-3.988c-0.926-0.409-1.784-0.494-2.573-0.256c-0.72,0.307-1.27,0.835-1.646,1.585       c-0.343,0.818-0.36,1.567-0.051,2.25c0.239,0.75,0.823,1.347,1.749,1.79c1.475,0.647,3.293,1.772,5.454,3.375       c0.823,0.545,1.646,0.801,2.47,0.767c0.754-0.137,1.389-0.546,1.904-1.227c0.515-0.716,0.702-1.45,0.566-2.199      C69.168,71.081,68.705,70.382,67.916,69.734z M58.655,59.456V46.979c0-1.022-0.292-1.841-0.875-2.454       c-0.549-0.512-1.252-0.784-2.109-0.818c-0.858,0.034-1.562,0.324-2.11,0.869c-0.549,0.614-0.823,1.415-0.823,2.403v12.478       c0,2.387-1.149,4.432-3.447,6.137c-1.44,0.954-3.208,1.806-5.299,2.557c-1.029,0.238-1.784,0.732-2.264,1.482       c-0.343,0.647-0.429,1.415-0.257,2.302c0.24,0.852,0.72,1.465,1.441,1.841c0.857,0.545,2.486,0.357,4.888-0.563     c5.866-2.659,9.347-6.273,10.445-10.841C58.449,61.553,58.585,60.581,58.655,59.456z M131.45,69.428        c-2.265-2.489-4.254-4.994-5.969-7.518c3.944-7.67,6.174-17.011,6.688-28.022c-0.24-1.363-0.515-2.744-0.823-4.142      c-0.411-0.647-1.029-1.177-1.853-1.586c-0.857-0.408-1.749-0.563-2.675-0.46h-13.893c-0.926,0-1.646,0.256-2.161,0.768      c-0.103,0.034-0.188,0.119-0.257,0.255c-0.138-0.442-0.344-0.8-0.618-1.073c-0.514-0.512-1.218-0.768-2.109-0.768H86.377        c-0.926,0-1.646,0.273-2.161,0.818c-0.549,0.546-0.823,1.245-0.823,2.097c0,0.853,0.274,1.568,0.823,2.147      c0.515,0.546,1.235,0.818,2.161,0.818h0.772v29.864c-1.956,0-3.276,0.357-3.962,1.073c-0.515,0.648-0.755,1.381-0.721,2.199     c0.034,0.92,0.343,1.653,0.926,2.198c0.549,0.512,1.304,0.75,2.265,0.717c3.808-0.205,8.695-0.734,14.664-1.586     c0.033-0.034,0.103-0.034,0.205,0v4.5c0,0.954,0.274,1.756,0.823,2.403c0.549,0.512,1.252,0.784,2.11,0.818     c0.856-0.034,1.56-0.324,2.109-0.869c0.548-0.613,0.84-1.398,0.874-2.353v-5.42c1.27-0.307,2.401-0.598,3.396-0.869     c1.063-0.308,1.715-0.801,1.955-1.483c0.309-0.75,0.36-1.551,0.154-2.403c-0.24-0.818-0.703-1.414-1.39-1.79        c-0.72-0.409-2.093-0.323-4.116,0.256V32.763h1.338c0.754,0,1.526-0.375,2.315-1.125c0.137,0.341,0.36,0.699,0.669,1.074        c0.515,0.546,1.235,0.836,2.161,0.869h11.731c0.856-0.033,1.457,0.153,1.801,0.563c0.96,1.637,0.36,7.074-1.801,16.313      c-0.927,2.659-1.716,4.704-2.367,6.137c-2.71-5.012-4.494-11.114-5.351-18.308c-0.138-0.954-0.55-1.67-1.235-2.147      c-0.617-0.409-1.32-0.563-2.109-0.46c-0.823,0.204-1.44,0.597-1.853,1.176c-0.446,0.648-0.583,1.449-0.411,2.403        c1.371,7.092,3.172,13.04,5.402,17.847c0.754,1.671,1.544,3.29,2.367,4.858c-1.888,2.761-4.306,5.028-7.255,6.801       c-0.755,0.512-1.235,1.142-1.441,1.893c-0.137,0.749,0.052,1.517,0.566,2.301c0.445,0.716,1.029,1.192,1.749,1.432      c0.754,0.238,1.577,0.052,2.47-0.563c2.573-1.738,4.87-3.938,6.895-6.597c3.088,4.909,5.454,7.415,7.101,7.518      c0.754,0.033,1.509-0.223,2.265-0.768c0.548-0.613,0.891-1.313,1.028-2.097C132.479,71.029,132.136,70.211,131.45,69.428z        M100.526,61.093c-0.926,0.102-1.887,0.222-2.881,0.357c-1.578,0.205-3.105,0.409-4.579,0.614v-6.495h7.46V61.093z M100.526,49.894      h-7.46v-5.574h7.46V49.894z M100.526,38.644h-7.46v-5.881h7.46V38.644z"/></g></svg>',applyBtn:'<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"   width="150px" height="100px" viewBox="0 0 150 100" enable-background="new 0 0 150 100" xml:space="preserve"><g>    <path fill="#fff" d="M35.809,48.181c-0.565,0.114-1.168,0.229-1.808,0.343v-7.695h1.583c1.356,0,2.354-0.399,2.995-1.197       c0.339-0.456,0.509-1.329,0.509-2.622c0-1.558-0.302-2.545-0.904-2.964c-0.565-0.531-1.432-0.798-2.599-0.798H34v-4.902     c-0.113-2.089-1.356-3.135-3.729-3.135c-2.298,0.076-3.466,1.121-3.503,3.135v4.902h-3.334c-1.206,0-2.054,0.247-2.543,0.741        c-0.678,0.532-1.017,1.539-1.017,3.021c0,1.406,0.339,2.376,1.017,2.907c0.64,0.608,1.488,0.912,2.543,0.912h3.334v9.233        c-1.809,0.381-3.58,0.779-5.312,1.197c-1.168,0.798-1.752,1.92-1.752,3.363c0,1.026,0.283,1.938,0.848,2.736        c0.64,0.836,1.45,1.254,2.43,1.254c1.054,0,2.317-0.19,3.786-0.57v9.462c0,0.608-0.452,0.912-1.356,0.912       c-1.432,0-2.619,0.248-3.56,0.741c-0.716,0.761-1.074,1.844-1.074,3.249c0,1.216,0.376,2.146,1.13,2.793        c0.715,0.76,2.034,1.177,3.956,1.254c5.425,0,8.137-1.862,8.137-5.586V56.446c1.997-0.494,3.334-0.874,4.012-1.141      c1.167-0.304,1.752-1.348,1.752-3.135c-0.038-1.063-0.415-2.052-1.13-2.964C38.257,48.523,37.315,48.181,35.809,48.181z      M70.223,70.411c-1.884-1.368-3.617-2.736-5.199-4.104c0.565-0.721,1.13-1.5,1.695-2.337c2.637-4.56,3.956-8.645,3.956-12.255       c0-2.964-1.621-4.446-4.86-4.446H48.128V33.931c0-0.76,0.452-1.14,1.356-1.14h10.567c0.603,0,0.904,0.38,0.904,1.14v4.219       c0,1.025-0.358,1.539-1.074,1.539c-1.846,0-3.447-0.266-4.803-0.799c-0.377-0.037-0.772-0.057-1.187-0.057      c-1.507,0.152-2.317,1.254-2.43,3.306c0,1.254,0.583,2.147,1.751,2.68c3.541,0.684,7.082,1.063,10.624,1.14     c1.62,0,2.844-0.456,3.673-1.368c0.791-0.722,1.187-2.28,1.187-4.674v-7.125c0-4.142-1.921-6.213-5.764-6.213H45.754        c-3.542,0-5.312,2.071-5.312,6.213v40.755c0,1.102,0.283,1.976,0.848,2.622c0.565,0.607,1.526,0.912,2.882,0.912        c1.318,0,2.279-0.248,2.882-0.741c0.715-0.494,1.074-1.425,1.074-2.793V53.938h1.017c1.017,3.42,2.43,6.555,4.238,9.404     c0.64,0.989,1.3,1.938,1.978,2.851c-1.394,1.444-2.995,2.926-4.803,4.445c-0.716,0.494-1.074,1.387-1.074,2.68      c0,0.76,0.226,1.443,0.678,2.052c0.753,1.026,1.695,1.539,2.825,1.539c0.603,0,1.771-0.665,3.504-1.995     c1.243-0.95,2.467-1.995,3.673-3.135c1.167,1.14,2.411,2.166,3.729,3.078c1.809,1.215,3.258,1.823,4.351,1.823      c1.206,0,2.035-0.323,2.486-0.969c0.678-0.57,1.017-1.444,1.017-2.622C71.71,71.912,71.202,71.02,70.223,70.411z M60.051,60.607     c-0.076,0.113-0.169,0.247-0.282,0.398c-0.226-0.266-0.452-0.55-0.678-0.854c-1.168-1.52-2.298-3.592-3.391-6.213h5.934     c0.715,0,1.074,0.228,1.074,0.684C62.707,56.104,61.821,58.099,60.051,60.607z M126.223,52.855h-15.879     c4.671-2.509,9.191-5.396,13.562-8.664c4.183-3.192,6.272-5.947,6.272-8.266c0-2.052-0.641-3.705-1.921-4.959       c-0.904-0.873-2.619-1.311-5.143-1.311h-16.896c0.226-0.57,0.339-1.159,0.339-1.768c-0.038-0.873-0.452-1.69-1.243-2.45     c-0.678-0.685-1.376-1.045-2.091-1.083c-0.678,0-1.338,0.209-1.978,0.627c-1.056,1.481-3.523,3.971-7.403,7.467     c-3.39,3.116-6.649,5.528-9.775,7.239c-1.206,0.342-1.809,1.083-1.809,2.223s0.263,1.957,0.791,2.451       c0.679,1.178,1.526,1.767,2.543,1.767c1.093,0,2.034-0.208,2.825-0.627c1.619-0.646,3.277-1.576,4.973-2.793        c0.037-0.037,0.094-0.076,0.17-0.114c0,0.494,0.207,0.97,0.622,1.425c1.167,1.749,2.354,3.668,3.56,5.758       c-4.182,1.71-8.74,3.401-13.675,5.072c-1.018,0.875-1.546,1.92-1.583,3.136c0,0.798,0.377,1.634,1.131,2.508        c0.828,0.836,1.921,1.254,3.277,1.254c0.828-0.076,2.016-0.322,3.561-0.741v9.177c0,3.269,1.619,4.902,4.859,4.902h30.91        c3.239,0,4.859-1.634,4.859-4.902V57.757C131.082,54.489,129.462,52.855,126.223,52.855z M100.342,36.781h18.591        c0.452,0,0.679,0.228,0.679,0.684c0,0.988-1.922,2.508-5.764,4.561c-2.751,1.596-5.821,3.191-9.211,4.788       c-0.528-1.216-1.356-2.66-2.486-4.332c-0.867-1.255-1.677-2.186-2.431-2.793c-0.415-0.456-0.923-0.685-1.525-0.685h-0.282       C98.74,38.282,99.551,37.542,100.342,36.781z M123.341,67.333c0,0.723-0.377,1.083-1.13,1.083H99.268       c-0.716,0-1.073-0.36-1.073-1.083v-6.726c0-0.722,0.357-1.083,1.073-1.083h22.943c0.753,0,1.13,0.361,1.13,1.083V67.333z"/></g></svg>'},S=null,T=!0}(window),window.rrxSharePosterCreator=window.rrxSharePosterCreator||{},function(){function a(a){return console.log("==传入头像是 ",a),b(a)?(console.log("==but head is qywximg ",a),console.log("==ret wsimg ",O),O):(console.log("==valid head ",a),a)}function b(a){return a.indexOf("http://p.qlogo.cn")>-1||a.indexOf("https://p.qlogo.cn")>-1||a.indexOf("http://wework.qpic.cn")>-1||a.indexOf("https://wework.qpic.cn")>-1?!0:!1}function c(a){if(a){if(a.indexOf(".qlogo.cn")>-1)return a.indexOf("?")>-1?a+"&v="+e():a+"?v="+e();var b=a.indexOf("?");b>-1&&(a=a.substr(0,b));var c=a.indexOf("@!");return c>-1&&(a=a.substr(0,c)),a+M+"?v="+e()}return z}function d(a){var b=a.indexOf("@!");return b>-1&&(a=a.substr(0,b)),a+"@!640x1008"}function e(){var a=new Date;return a.getTime()}function f(){A=document.createElement("canvas"),A.setAttribute("id","rrxiuSharePosterBgCanvas"),B=A.getContext("2d")}function g(){var a=1008,b=640,c=G.height(),d=G.width();c>a&&(c=a),d>b&&(d=b),F={width:d||640,height:c||1008,sacle:d/640,reset:1008/(c||1008)}}function h(){var a=50;C.length>a&&(C=C.substr(0,a))}function i(a,b,c){var d=a.width/a.height;return a.width>b&&a.height>c?{needHandle:!0,handType:"cut",width:a.width,height:a.height}:a.width>a.height?{needHandle:!0,handType:"scale",height:c,width:c/d}:a.width<a.height?{needHandle:!0,handType:"scale",width:b,height:b/d}:{needHandle:!1}}function j(){k()}function k(){N=!0,N?(I=d(I),Cool.util.loadImage(I,function(a){return a?void Cool.util.loadImage(z,function(b){return b?void l(b,a):(console.error("load image error !!"),void(w.callback&&w.callback({code:1,msg:"load image error !!"})))}):(console.error("load bgImg error !!"),void(w.callback&&w.callback({code:1,msg:"load bgImg error !!"})))})):Cool.util.loadImage(z,function(a){return a?void l(a,a):(console.error("load image error !!"),void(w.callback&&w.callback({code:1,msg:"load image error !!"})))})}function l(a,b){if(!a)return console.error("load image error !!"),void(w.callback&&w.callback({code:1,msg:"load image error !!"}));if(!b)return console.error("load bgImg error !!"),void(w.callback&&w.callback({code:1,msg:"load bgImg error !!"}));var c=F.sacle;A.width=F.width*y,A.height=F.height*y,A.fillStyle="#fff",A.style="display:none;left:0;bottom:0;position:absolute;",B.drawImage(b,0,0,A.width,A.height),J&&(bgHandle=StackBlur.canvasRGB(A,0,0,A.width,A.height,50)),J&&(B.fillStyle="rgba(0,0,0,0.6)",B.fillRect(0,0,A.width,A.height)),w.sharePosterBgImgCustomed||(m(c,a,A.width,A.height),n(c,A.width,A.height)),r(c,A.width,A.height),o(c,A.width,A.height)}function m(a,b,c,d){var e=216*a*y,f=216*a*y,g=113*a*y,h=(c-e)/2;B.fillStyle="rgba(255,255,255,0.25)",B.fillRect(h,g,e,f);var j=8*a*y,k=200*a*y,l=200*a*y,m=h+j,n=g+j,o=i(b,k,l);if(o.needHandle){var p=document.createElement("canvas");p.width=o.width,p.height=o.height;var q=p.getContext("2d");q.drawImage(b,0,0,o.width,o.height);var r=0;if("cut"===o.handType){var s=o.width,t=o.width;o.width>o.height&&(s=o.height,t=o.height),B.drawImage(p,0,r,s,t,m,n,k,l)}else r=(o.width-k)/2,B.drawImage(p,r,0,k,l,m,n,k,l);q.clearRect(0,0,o.width,o.height)}else B.drawImage(b,m,n,k,l)}function n(a,b,c){var d=36*a*y,e="Arial",f=36*a*y,g=360*a*y,h=72*a*y,i=b/2,j=12*a*y,k=b-2*h;B.font=d+"px "+e,B.textBaseline="top",B.fillStyle="#fff",B.textAlign="center";var l=s(B,C,i,g,f,k,j);d=24*a*y,B.font=d+"px "+e,B.textBaseline="top",g=l+f+38*a*y,f=24*a*y,s(B,D,i,g,f,k,j)}function o(a,b,c){var d=158*a*y,e=158*a*y,f=58*a*y,g=c-f-e,h=22*a*y,i=b-d-h;B.fillStyle="#fff",B.fillRect(i,g,d,e);var j=150*a*y,k=150*a*y,l=4*a*y,m=i+l,n=g+l;t(E,j,k,function(a){a?(B.drawImage(a,m,n,j,k),w.base64?w.callback&&w.callback({code:0,msg:"ok",imgFormat:"base64",base64:A.toDataURL("image/jpeg",1)}):q(A)):(p(),w.callback&&w.callback({code:2,msg:"create qr error !!"}))})}function p(){A&&A.clearRect(0,0,A.width,A.height)}function q(a){var b=a.toDataURL("image/jpeg",1);$.ajax({url:H+"shareposter/upload",type:"POST",data:{imageContent:b,wsiteGuid:L,nh:K},dataType:"json"}).then(function(a){0===a.result?w.callback&&w.callback({code:0,msg:"ok",imgFormat:"url",imgPath:a.data.savedName}):(p(),w.callback&&w.callback({code:a.result,msg:a.msg}))},function(a){p(),console.error(a),w.callback&&w.callback({code:500,msg:"服务没响应"})})}function r(a,b,c){var d="长按二维码了解详情",e=(3*d.length,20*a*y),f="Arial",g=0,h=22*a*y,i=22*a*y,j=20*a*y,k=c-i-j;B.font=e+"px "+f,B.textBaseline="top",B.fillStyle="#fff",B.textAlign="center";for(var l=0;l<d.length;l++)g+=B.measureText(d[l]).width;var m=b-h-g/2;B.fillText(d,m,k)}function s(a,b,c,d,e,f,g){for(var h=0,i=0,j=0;j<b.length;j++)h+=a.measureText(b[j]).width,h>f&&(a.fillText(b.substring(i,j),c,d),d+=e+g,h=0,i=j),j==b.length-1&&a.fillText(b.substring(i,j+1),c,d);return d}function t(a,b,c,d){var e=u(a,b,c),f=new Image;return f.src=e,f.complete?void d(f):(f.onload=function(){d(f)},void(f.onerror=function(){d()}))}function u(a,b,c,d,e){a||(a=qrLink),d=d||"#000",e=e||"transparent";var f=new QRCode2({content:a,width:b,height:c,color:d,background:e,padding:0,ecl:"L"}),g=f.svg();return v(g)}function v(a){var b=a,c="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(b);return c}var w,x=4,y=2,z="https://file2.rrxh5.cc/logo_blue_200x200.jpg",A=null,B=null,C="",D="",E="https://www.rrxiu.net",F={},G=$("#main"),H="",I="",J=!1,K="",L="",M="@!300x300",N=!0,O="https://file2.rrxh5.cc/logo_blue_200x200.jpg";rrxSharePosterCreator=function(b){w=b,H=b.serviceHost,C=b.shareTitle||C,D=b.shareDesc||D,O=b.wsiteShareImg||O,console.log("canShowSharePosterInfo",w.canShowSharePosterInfo),w.sharePosterBgImgCustomed&&"show"===w.canShowSharePosterInfo&&(w.sharePosterBgImgCustomed=!1),E=b.shareUrl||E,console.log("==shareposter==",E),b.shareImg=a(b.shareImg),z=c(b.shareImg),b.sharePosterBgImg?(I=b.sharePosterBgImg,J=!1):(I=z,J=!0),console.log("ss",z),console.log("sp",I),L=b.wsiteGuid,K=hex_md5(x+L+C+D+z+E+I),f(),g(),h()},rrxSharePosterCreator.prototype={constructor:rrxSharePosterCreator,create:j}}();